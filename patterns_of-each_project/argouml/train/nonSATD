see org argouml notation notationname getconfigurationvalue \( \)
see tudresden ocl parser analysis depthfirstadapter casearelationalexpressiontail \( tudresden ocl parser node arelationalexpressiontail \)
mmessage
new stereotype
get class box , because we will set it 's bounding box
check for a collision between our computed position and the edge
loop through the associations , looking for one with aggregation
look , if there 's already a java implementation
only targets we did n't have allready count
see org argouml uml ui umlcomboboxmodel buildmodellist \( \)
model getextensionmechanismsfactory \( \) buildtaggedvalue \( tagname , new string true , model getfacade \( \) getroot \( umlobject \) \)
remove obj3 from weaknodes and newchildren
if is a message , it must return the sender and the receiver of the message
skip backup files this is actually a workaround for the cpp generator , which always creates backup files \( it 's a bug \)
mdr classes may have a uml or uml prefix which should be removed
check name for consistency with spec
create a new version of the relevant fig
see org argouml ui guisettingstabinterface handleresettodefault \( \)
nothing more to do , do n't copy owned elements
class table
see javax swing listcellrenderer getlistcellrenderercomponent \( javax swing jlist , java lang object , int , boolean , boolean \)
self messages act differently so it is needed to move them separetly only self messages of selected cr should be horizontally translated
update the diagram , and other users of these settings
listener management
the validity checking thread should wait if disabled
and its features
expressions are datatypes , not independent model elements be careful not to reuse them
end class actionaboutargouml
give the parser a map of model elements keyed by their uuid this is used to allocate figs to their owner using the href attribute in pgml
setup similar to the super \( \) implementation
end class crinterfaceallpublic
create the body and language field
cleanup of unused figtext 's
only reset the text if the two are not the same \( i e the fig has moved , rather than we 've just edited the text , when settargetbbox \( \) will have made them the same \) note that stylebounds could be null , so we do the test this way round
this in case we are being deleted
add the listeners to the newowner
element \)
see org argouml ui tabtarget refresh \( \)
empty list
end class crconflictingcomposites
select the level of import 0 classifiers only 1 classifiers plus feature specifications 2 full import , feature detail
set the bounds of the figure to the total of the above
register for tagdefinitions
see org argouml model modelimplementation getactivitygraphshelper \( \)
tab for the settings dialog that makes it possible to select the modules that are to be enabled todo header for the table author linus tolke
only change the background colour if it is supplied by the laf otherwise leave look and feel to handle this itself
the purpose of this method is not explained and it give give npe depending on z order of figs as they are read for now ignore if null but for future lets delete this
not in uml2
get the selected targets \( uml modelelements \) from the targetmanager
todo restructured in uml 2
the figmessage that triggered this figactivation into existence
see java awt datatransfer transferable gettransferdata \( java awt datatransfer dataflavor \)
make sure we know it when a classifier is added as a base
consume to stop other modes from trying to take over
add figs to the fignode in back to front order
implement set like behaviour the same element may not be added more then once
most likely cause of this is that someone deleted our target with the event pump turned off so we did n't get notification nothing we can do about it now and we are changing targets anyway , so just log it
add other existing entries , but filter the just added one
everything ok
this is not necessarily the current diagram !
no problem if this is an association role
see org argouml model activitygraphshelper findclassifierbyname \( java lang object , java lang string \)
checkassignidtoobject \( seqdiag , true , true \)
updates the modelelement container if the fig is moved in or out another fig if this fig does n't have an enclosing fig anymore , the namespace of the diagram will be the owning modelelement if this fig is moved inside another fignodemodelelement the owner of that fignodemodelelement will be the owning modelelement see org tigris gef presentation fignode setenclosingfig \( org tigris gef presentation fig \)
see java awt event actionlistener actionperformed \( java awt event actionevent \)
we 'll put the association in the namespace of whichever end is not navigable and is writeable if they both are , we 'll use the namepace of c1
added this part to load the extra menu content
add the help menu item
did n't work
see org argouml model usecaseshelper getallusecases \( java lang object \)
see org argouml uml ui behavior common behavior actionnewaction createaction \( \)
normally the extent should exist already , but in the case of making an empty project , we may not have an extent yet , so create a default extent
empty implementation not used
see java beans propertychangelistener propertychange \( java beans propertychangeevent \)
4 6 2 5 taggedvalue
we 're going vertical ! goose in top gun
for consistency with attribute and operation , give it a default name and location
\( mmessage \)
if we 're drawing to an edge then only allow if the start is a comment see org argouml uml diagram ui modecreategraphedge isconnectionvalid \( org tigris gef presentation fig , org tigris gef presentation fig \)
adiagramelementproperty delegate methods
this is temporary load project should create a new project with its own undomanager and so there should be no command
these operations are ok for lists too
see org argouml cognitive todoitem select \( \)
see java awt event actionlistener actionperformed \( java awt event actionevent \)
same name , same participants , two offenders
refresh the target for all our children which were n't getting while not visible
this is never downlighted
ca n't get the slope of a point just return an arbitrary point
if we drop out there is no problem
the string to build
stop desiring the goal which should remove it from the model
return handle stringvalue \( \)
fire all of the status events
do not check if the parameters match
see org argouml uml notation notationprovider parse \( java lang object , java lang string \)
todo double check tfm
to be really sure , let 's add the operation that is linked to the action in the model , too if it is not listed yet we need this , incase an operation is moved out of the package , or maybe with imported xmi
methods that implement the graphmodel itself
tested with fabricated xmi ok
it looks better if the height increases , too
see guisettingstabinterface handlesettingstabsave \( \)
must not be used in uml2 we model a method as a opaquebehavior object that already has a body , so there is no need to have an intermediate expression object
a profile is a special package having the profile stereotype which can only contain the following types
makes sure we can select 'none'
see org argouml model changeablekind getchangeable \( \)
see javax swing event documentlistener insertupdate \( javax swing event documentevent \)
handle weakexplorernodes
todo the following can be used when we drop java 5 support or when an imageio gif writer plugin is bundled cmd new savegifaction2 \( translator localize \( action save gif \) \)
when a new target is selected , we have to check if it 's a use case then , the icone add extension point have to become enabled
see org argouml ui clarifier setfig \( org tigris gef presentation fig \)
private jpanel propertypane
find the point offset on the line that gives a correct offset
duplicate shortcut not found let 's check for duplicates
added by eric lefevre 13 mar 1999 we must check if the figtext for operations is drawn before drawing things over it
there are 2 boxes showing lines the tab and the body
see org netbeans lib jmi xmi xmiheaderprovider writeheader \( java io writer \)
counts each bit that has been fired
ignore if the extent never got created or has been deleted
store the guard , i e condition or iteration expression , in the recurrence field of the action
see org argouml cognitive critics critic todoitem \( java lang object , org argouml cognitive designer \)
5 make sure all fignodes and figedges have a valid owner the report
attribute
event handlers mouselistener and mousemotionlistener implementation
override osxadapter calltarget to send information on the file to be opened
update an existing tagged value on a model element
need to 'arm' the rerouting capability with mousedragged \( \) p do n't arm if the edtior 's current mode is a figedge create mode , because once a new edge has been created it is not deselected , therefore on the next create an unwanted reroute is performed see java awt event mousemotionlistener mousedragged \( java awt event mouseevent \)
figedgenote has no uuid
simulate some errors to repair replace with junits bob
see org argouml ui targetmanager targetlistener targetremoved \( org argouml ui targetmanager targetevent \)
see org argouml notation providers notationprovider parse \( java lang object , java lang string \)
todo see if the new target has a tv that we can proxy
first get the collection of elementresidence
does not do anything see org argouml cognitive poster fixit \( org argouml cognitive todoitem , java lang object \)
this call could easily fall if there is e g no public default constructor if it fails tweak the if else tree above to accommodate the parameter or check if we need to test the particular method at all
association
compartments from top to bottom
enumerationliterals should get deleted implicitly since they are associated by composition
find the create method in the offical api
see org argouml model abstractmodeleventpump removemodeleventlistener \( java beans propertychangelistener , java lang object \)
get the fields we want
for compatibility with older format
multiplicity , multiplicityrange , and all expression subtypes do n't have 0 argument create methods , so we special case them
umlreserved add \( send \)
intentional if there is nonsense in the field , we do not set the value
this is a message uml object
if the destination is not a namespace , then reject
pass everything else to superclass
do nothing by default
delete dependencies where this is the only client
see org argouml model statemachineshelper getsource \( java lang object \)
this swaps the direction of m3 back the colon is obliged , but the not and the 2nd dot also not
super returns 1 if any of gefs buttons was hit \( but maybe one of the not gef buttons \)
do n't show a profile application
todo get tip string from comment
this automatically pulls in a tagdefinition from the profile
todo check the name for validity
see javax swing abstractaction abstractaction \( \)
this text is for the developers it does n't need to be localized
see if two copies look like copies of each other
first element is e g the class , but we need to have its namespace to recompute the offenders
in middle of interval
see org argouml uml ui sourcepathcontroller setsourcepath \( org argouml uml ui sourcepathtablemodel \)
todo the following fails due to the xmi writing saving all top level model elements and because even if there was no empty project , by creating a class , the undo mechanism in the project manager will force the creation of an empty project assertequals \( 1 , profilemodels size \( \) \)
see org argouml ui targetmanager targetlistener targetadded \( org argouml ui targetmanager targetevent \)
traverse the lists looking for the last \( innermost \) match
we have already confirmed the connection is valid
see org argouml uml diagram ui fignodemodelelement modelchanged \( java beans propertychangeevent \)
forcerepaintshadow \( \)
get the two ends of any valid edge
just returns false see org argouml cognitive poster canfixit \( org argouml cognitive todoitem \)
no way , we have to give up
these are the file formats i know about
end class crinterfaceoperonly
load profile dependencies
see org argouml uml ui umlmodelelementlistmodel2 addothermodeleventlisteners \( java lang object \)
we do n't consider secondary stuff
junit begin
see org argouml profile internal ocl modelinterpreter invokefeature \( java util hashmap , java lang object , java lang string , java lang string , java lang object \)
default for name and stereotype is no border
use the code from the figcircle , not the one from fig
link the previous next reference of the swimlanes according to the x order
check if this diagram already exists in the project
stop start creating more critics
see org argouml uml diagram ui fignodemodelelement removefromdiagramimpl \( \)
this test needed for a figpool
override setbounds to keep shapes looking right see org tigris gef presentation fig setbounds \( int , int , int , int \)
end class wizstepconfirm
the minimum set of standard types
object createstereotype \( \)
see org argouml ui targetmanager targetlistener targetremoved \( targetevent \)
end class actionsrcmultonetomany
parameterlist is guaranteed to contain at least \(
todo support commentedges todo support associations to self see java awt event actionlistener actionperformed \( java awt event actionevent \)
update the relative sizes and positions of internel figs
display events are fired on the swing event thread we need to wait for them to be dispatched note if more display events are added to this test , this one needs to be last
if we are the destination of a create action , create the entire activation
increase offset by 2px at a time
isrelevant should now be true
init profiles defined in jar files
see org tigris gef presentation fig paint \( java awt graphics \)
set up the property panels for activity diagrams
see org argouml uml ui umlmodelelementlistmodel buildmodellist \( \)
only accept copy or move gestures \( ie link is not supported \)
4 5 2 14 dependency
see java beans propertychangelistener propertychange \( propertychangeevent \)
specifies valid elements for an operation to contain
get the namespace hierarchy for each element
remove anything that matches our pattern
bigport setbounds \( x \+ 1 , y \+ 1 , w 2 , h 2 \)
if test fails this element should not be in the result set
see org xml sax contenthandler characters \( char , int , int \)
cmdpaste cmd new cmdpaste \( \) cmd doit \( \)
see org argouml uml ui umlmodelelementlistmodel2 isvalidelement \( java lang object \)
connect to the repository
register all of the event listener trackers
setup the project due to its use in sourcepathtablemodel ctor
check periodically to see if we 've exceeded time limit
see org argouml model modelimplementation getcopyhelper \( \)
test both forms of addbaseclass
removed from uml 2
issue resolution
check the name for validity
idem here clone stereotypefig \( figstereotypesgroup \) clonefig
the user 's full name
register for extension points
prompt the user for the new name
if we 're drawing from an edge
convenience methods
todo should just be the directory to write
remove base class by destroying the extension
see java util list remove \( int \)
the returned list of figs is sorted according layout from top to bottom
make sure we do n't try to set things smaller than the minimum
the amount of the sidestep
see org argouml uml reveng importsettingtypes uniqueselection setselection \( int \)
we can give up looking if we 've hit both criteria
only remap package if we did n't remap specific class
made following changes from ocl in uml 1 4 section 2 9 3 16 collaborationinstance collaborationinstanceset stimuli stimulus
see javax swing plaf metal metaltheme getprimary1 \( \)
stereotypes applied to the target mostly control which tds \( but see below for other listeners too \)
instance
if the base is already set to this assoc , then do not set it again this check is needed , otherwise the setbase \( \) below gives an exception
use arbitrary dimensions for now
if curhandle index is 0 or 2 , the adjacent region is the previous region but if it is 5 or 7 , the adjacent region is the next region curhandle index show which corner of the bound we are dragging
this is the normal case
this double 'for' loop may be optimised as follows use arrays in stead of a set for bases have the second loop start from the element after base1 but i chose not to do this , since the gain is small , and this is only used for a lazily filled combo btw this is also used by notation
see org argouml uml diagram ui pathcontainer ispathvisible \( \)
create the edit toolbar based on the menu all menuitems that have an icon are presumed to be based upon an action , and these actions are used in the toolbar
wfr transitions , omg uml 1 3
wizard actions
conflict detected showing a warning to the user , instead of saving shortcuts
there are no regions so create one and place the vertex there
see org argouml uml ui abstractactionnavigate navigateto \( java lang object \)
nothing we can do about veto , so just ignore it
todo user defined profile support untested currently \+ t t userdefined n \+ t t t filename n \+ foo profile n \+ filename n \+ t t t model n \+ foo profile package n \+ t t t model n \+ t t userdefined n
do not allow fill to change we should see through the text to the color of the main fig background
see org argouml uml ui sourcepathcontroller getallmodelelementswithsourcepath \( \)
we recalculate all the activations
see org tigris gef presentation fig isselectable \( \)
the only way a region is set to null is if we 're deleting the vertex in which case we do nothing special so that the removal of the state triggers a delete event
a deployment diagram shows something about the whole model according to the uml spec
repair action for possible np after load
test if this element can be contained by the target
supports implementation of some special elements not supported by buildnode
lafclass null
the nodes at the two ends
see org argouml kernel abstractprojectmember getzipfileextension \( \)
end class croppendconflict
made following change from ocl in uml 1 4 section 2 9 3 22 collaborationinstance collaborationinstanceset
end class loadmodules
see org tigris gef presentation fig getlinecolor \( \)
add one child
skip spaces
although not generally true for gef , for argo we know that the layer is a layerperspective which knows the associated diagram
see org argouml model aggregationkind getaggregate \( \)
this notation is not available !
set to the default laf
cont settarget \( elem \)
set it to an invalid number by default to make sure it is set correctly
for a match to be found , it has to have the same owner , and the same long class name
print an exception trace to a string buffer
ignore any error the transaction may already have been unwound as part of exception processing by mdr
log isdebugenabled \( \)
see testcase teardown \( \)
see javax swing plaf metal metaltheme getprimary2 \( \)
avoid doing this too early in the initialization process
see org argouml uml diagram static structure layout classdiagramnode getweight \( \)
saving shortcuts
see org tigris gef graph graphlistener edgeadded \( org tigris gef graph graphevent \)
itemlistener implementation
tablemodel implemetation
add
end class figcompositestate
create the return message modelelement with the interaction and the collaboration
todo not really the same thing , but close
there are 2 possibilities either \( 1 \) we follow the traditional notation philosophy , and set the tagged value to false , or \( 2 \) we restore to the pristine situation and delete the taggedvalue \( whatever the value was \) i chose the latter \( mvw \)
roll back transaction from first attempt start new one
we no longer send individual events , so next code is obsolete
see org argouml uml diagram state ui figstatevertex initnotationproviders \( java lang object \)
self association is n't draggable
buffer containing characters which have been decoded from the bytes in inbb
indicate that the test was validated
other class
no text we may remove the literal
a dependency potentially has many clients and suppliers we only consider the first of each \( not clear that we should really accept the case where there is more than one of either \)
also apply subprofiles
see org argouml ui explorer rules abstractperspectiverule getchildren \( java lang object \)
fire all of the diagram events
skip pos , we know it 's not a valid char from above
instead of making a new list , decrement index , return when found and index 0
private constructor for common work needed by both public constructors
we clear the save required flag on the swing event thread in the hopes that it gets done after any other background work \( listener updates \) that is being done there
required for keylistener interface , but not used
euluis using windows style initial path , do n't know if this fails in nixes
see javax swing jtree firetreecollapsed \( javax swing tree treepath \)
display related methods
see org argouml kernel projectmember repair \( \)
if we are the dest and is a call action , create the activation , but do n't add it until the height is set
project file does n't exist let 's pop up a message dialog
todo mvw i think this has to be clone namefig \( figsinglelinetext \) clonefig but have not the means to investigate , since this code is not yet used enable the menu items for copy paste to test btw in some other fignodemodelelement classes i see the same mistake
there were 2 elementresidences strange case
parsing file x of z
if the row is past the end of our current collection , return an empty string so they can add a new value
the ocl toolkit does not like void return types
create the singleton if it does not exist , and then return it
actions for toolbar
keywords which look like a stereotype \( e g interface \) have no owner
we silently ignore requests which conflict with uml 1 4 wfr 2 5 3 1 3 no aggregation for n ary associations
get current initialvalue
newedge setdielement \( graphchangeadapter getinstance \( \) createelement \( gm , edge \) \)
check against is needed for backward compatibility do n't remove without checking subclasses and warning downstream developers tfm 20081211
user interaction methods
see javax swing jcomponent setvisible \( boolean \)
the following should always be true
the name of this type of diagram
propagate
see org argouml cognitive poster unsnooze \( \)
end class resourceloader
wait for all awt events to be dispatched and processed
see org argouml model extensionmechanismsfactory createtaggedvalue \( \)
since uml2 it 's easier tds only via stereotypes
classifierrole classifierrole
see java awt event componentlistener componentresized \( java awt event componentevent \)
the following uml 1 4 elements have been removed from uml 2 x , so we do n't bother testing them
see org tigris gef event modechangelistener modechange \( org tigris gef event modechangeevent \)
look for associations
a list of the path item attributes for this container the list is populated during parsing , them processed at endelement \( \) private list hashtable string , string pathitemattrs new arraylist hashtable string , string \( \)
this assert fails for the testpropertypanels , file guitestpropertypanels zargo
modelelement instanceof statemachine
but its position may have been changed
does nothing
take into account the tab is not as wide as the body
get the names of the two ends if there are none \( i e they are currently anonymous \) , use the argouml convention of \( anon \) for the names
the old submachine container is deleted as listener
see org tigris gef graph graphfactory makenode \( \)
ok button
internal methods
if there is an outgoing association no problem
see org argouml uml ui umlmodelelementlistmodel2 buildmodellist \( \)
max distance is set at 100 pixels , \( rsquared 100 2 \)
forks have their own outgoing transitions critic
returns list
see junit framework testcase teardown \( \)
in the past , 0 milliseconds after january 1 , 1970 , 00 00 00 gmt
constructor for a link figclass during file load p parent link org argouml uml diagram ui fignodemodelelement will have created the main box link getbigport \( \) and its name link getnamefig \( \) and stereotype \( link getstereotypefig \( \) this constructor creates a box for the attributes and operations p the properties of all these graphic elements are adjusted appropriately the main boxes are all filled and have outlines todo which is wrong , since the bigport is filled , too param element model element to be represented by this fig param bounds rectangle describing bounds param settings rendering settings
ca n't be set
add listener to get notified when active diagram changes
set tablesp 's preferred height to 0 so that details height is used in pack \( \)
remove the states that did not match
end class actiongotodiagram
give priority to standard documentation tag
mclassifierrole
end class actionprint
see org tigris gef graph graphlistener nodeadded \( org tigris gef graph graphevent \)
since we are n't sure of ordering , fire event for whole table
see java awt dnd droptargetlistener dragenter \( java awt dnd droptargetdragevent \)
parse the text that was edited
this check is needed , otherwise the setbase \( \) below gives an exception
the user dropactions are ctrl \+ shift action link ctrl action copy shift action move \( none \) action move
here we are actually violating the test independance since we keep the detailspane from test to test the reason to do this is to make it possible to run the tests with less memory requirements hopefully someone might eventually fix the detailspane so that it is garbage collected properly and this is no longer needed see junit framework testcase setup \( \)
1 make sure all figs in the diagrams layer refer back to that layer
look for an existing reference matching our mofid
by default , do not show extension points
end class aboutbox
if a uml 1 3 file , attempt to upgrade it to uml 1 4
both lists have the same length
no non whitechars in text \? remove op !
see org argouml model pseudostatekind getdeephistory \( \)
set up figtext to hold the condition
to manage the case there are no label component pairs but just one component
constructor
4 6 2 4 tagdefinition
delete messages which have this as their action
static workers for dealing with notation names
nothing extra to do currently
see org argouml model modelimplementation getumlhelper \( \)
if a toolbar was requested , create an empty one
org argouml kernel , org argouml uml diagram ui , why does this fail \?
utility function to remove an element listener and adapt the remembered list of registration param element element to listen for changes on see org argouml model modeleventpump addmodeleventlistener \( propertychangelistener , object , string \)
no text \? remove op !
class
see tudresden ocl parser analysis depthfirstadapter outaintegerliteral \( tudresden ocl parser node aintegerliteral \)
these operations are ok for bags too
see org tigris gef graph graphfactory makegraphmodel \( \)
graphfactory implementation
end class postload
see tudresden ocl parser analysis depthfirstadapter outabooleanliteral \( tudresden ocl parser node abooleanliteral \)
clone this figure after the base clone method has been called determine which child figs of the clone represent the name , stereotype and port p todo enclosedfigs , encloser and eventsenders may also need to be cloned see java lang object clone \( \) return the cloned figure
nothings left , disable firing
todo assumes public
see java lang object equals \( java lang object \)
initialize the todolist
language
copy the current in the next
the box for the compartments is somewhere inside the outside bounds
cached expansions
other methods
and let 's ask the user whether he wants to save the actual project into a new file or not
actor
if the name is too long or multi line \( e g for comments \) then we reduce to the first line or 80 chars
see tudresden ocl parser analysis depthfirstadapter caseafeatureprimaryexpression \( tudresden ocl parser node afeatureprimaryexpression \)
sethelpmenu \( help \)
this case is a bit different , because of the parameters if the event already exists , the parameters are ignored
end class classgenerationdialog
add toolbar
figclone seperator \( figline \) it next \( \)
see org argouml application api progressmonitor close \( \)
see org argouml model modeleventpump addmodeleventlistener \( java beans propertychangelistener , java lang object , java lang string \)
end class statediagramgraphmodel
initialize a decision object with parameters
if the 1st attribute is static , then the new ones , too
todo get saved default directory outputdirectorycombobox getmodel \( \) setselecteditem \( saveddir \)
default is to do nothing
see org argouml uml diagram ui figedgemodelelement getsource \( \)
so it still looks like a cube
see org argouml ui stylepanelfig settargetbbox \( \)
see org argouml uml diagram ui figedgemodelelement getnotationprovidertype \( \)
result as integers , rounded up we ensure that the radii are integers for convenience
end class notsnoozedcm
synchronize the startup directory
utility function to unregister all listeners registered through addelementlistener see addelementlistener \( object , string \)
expected
set up for next iteration
delete callactions which have this as their operation
next line does give user home back but this is not compliant with how the project uri works and therefore open and save project as give different starting directories string directory globals getlastdirectory \( \)
a , a , b , b are offenders
or should the 1 be 0 \?
actual call that executes everything
we 've found the matching tag but do we have the correct instance with matching attributes \?
see org argouml model modelimplementation getcorehelper \( \)
ns is a namespace , but not a package
note this is package scope to force callers to use resourceloaderwrapper
note we have to do this due to leftovers from other tests being causing strange errors when running in eclipse
there 's just one profileconfiguration in a project and there 's no other way to add another one
only look at associations
fig calcbounds \( \)
well formedness rule 4 12 3 1 compositestate 4 there have to be at least two composite substates in a concurrent composite state if this is broken by deletion of substate then we delete the other remaining substates
add listener for project changes
elements created after file load wo n't have index entries
and its enumerationliterals
an associationend is now a property owned by an association
detach any non associationend edges \( such as comment edges \) already attached before this association node is removed they 'll later be re attached to the new figassociation
see org argouml notation providers notationprovider getparsinghelp \( \)
look for stereotype
see org argouml uml diagram ui fignodemodelelement textedited \( org tigris gef presentation figtext \)
extra care to be taken since alloffenders can be reset while this method is running
create a new project and assert that it has the metaprofile as part of the project 's profile configuration
event handling
this module will still register as enabled for uml1 4 but it wo n't actually do anything
strings
put the x at the right side of the activation if needed
make sure the line is dashed
delete all taggedvalues with this type
todo isstatic in uml 2 x
note this may be called from a different thread , so we need to be careful of the threading restrictions imposed by abstractdocument for mutators to be sure we do n't deadlock
these are gray in metal default theme
the uml object wrong end of the edge
notation events
guaranteed to return a non null array
thin bar to show current allocated heap size
only the bigport may be filled
set up all parameters some methods are invoked with primitives or collections , so we need to create them accordingly
todo we just need to get someone to re render a single line of text which represents the element here , but i'm not sure how to do that tfm todo bob replies we should n't be interested in this event here the figfeature \( or its notation \) should be listen for change and the figfeature should be update from that
see org argouml uml ui sourcepathcontroller getsourcepath \( java lang object \)
static accessors
todo \?
see org argouml ui targetmanager targetlistener targetremoved \( targetevent \)
add it to the project configuration
end class actionautocritique
nothing to do
sets the mouse cursor back to the regular pointer
end class finddialog
private jtabbedpane tabs new jtabbedpane \( \)
if the added edge is a create message it will affect the position of the classifierrole so it should be repositioned
end class spacerpanel
see org argouml ui targetmanager targetlistener targetset \( targetevent \)
if the base was not changed , then only set the name
see guisettingstabinterface gettabkey \( \)
different lengths
remove all of the listeners
see org argouml uml reveng importcommon getimportlevel \( \)
so , we found a classifier that is not a classifierinstate and at least one state has been selected well , let 's correct that
todo what \?
no other uses of string in pgmlhandler
we know this is a return action now it must be pointing the opposite way to the activator
as soon as we 've created a notation and have registered it listener force an event to go to the listener so it draws for the first time
see org argouml model xmireader getxmiuuidtoobjectmap \( \)
the 4 arg version of this method depends on this ordering do n't change it !
see org argouml ui guisettingstabinterface gettabpanel \( \)
if an exception is raised file is unusable
ca n't remove from existing one so create new one
see org argouml uml diagram state ui figstate getinitialy \( \)
\( mextend \)
see javax management notificationbroadcaster removenotificationlistener \( javax management notificationlistener \)
argodiagram activediagram diagramutils getactivediagram \( \) return \( activediagram instanceof umlclassdiagram \)
comment out when we are ready to release undo redo jmenuitem undoitem edit add \( projectactions getinstance \( \) getundoaction \( \) \) setmnemonic \( undoitem , undo \) shortcutmgr assignaccelerator \( undoitem , shortcutmgr action undo \) jmenuitem redoitem edit add \( projectactions getinstance \( \) getredoaction \( \) \) setmnemonic \( redoitem , redo \) shortcutmgr assignaccelerator \( redoitem , shortcutmgr action redo \) edit addseparator \( \)
listen to name changes in the path \( useful for e g package \)
we ca n't remove the targets in one go , we have to do it one by one
delete collaborationinstancesets where this is the last participatinginstance
see org argouml uml ui umlplaintextdocument setproperty \( java lang string \)
todo tabs for class , state , usecase , help
check if multiple items are selected
todo what \?
activatorintno is now guaranteed not null
ok , we 've been told to scroll because the mouse cursor is in our scroll zone see java awt dnd autoscroll autoscroll \( java awt point \)
this test needed for project deletion
vetoablechangelistener implementation
see java awt component setvisible \( boolean \)
and write them to our output stream
called when the user selects a tab , by clicking or otherwise see javax swing event changelistener statechanged \( javax swing event changeevent \)
set the following for some backward compatibility with old algorithm
see org argouml uml diagram state ui fighistorystate geth \( \)
see org argouml model pseudostatekind getfork \( \)
i am only prepared to go this far
since uml2 , this must appear before the isaclass clause
saves the project
if the user selects an action that is already selected in sticky mode \( double clicked \) then we turn off sticky mode and make sure no action is selected
supported format predecessors number action the 3 parts of the string to generate
see javax swing comboboxeditor geteditorcomponent \( \)
do not use a custom icon the titles of buttons default button title
org argouml ui tabtable tabmetrics tabjavasrc tabsrc tabumldisplay tabhash
checkassignidtoobject \( figstate , true , true \)
this method is invoked from several places , so we have to check whether if the project uri is set or not
make it stretch vertically
the diagram are always owned by the model in this first implementation
see org tigris gef graph graphedgerenderer getfigedgefor \( org tigris gef graph graphmodel , org tigris gef base layer , java lang object , java util map \)
4 5 2 9 class
see org argouml model metatypes getabstraction \( \)
if we are the target of a destroy action the figlifeline ends here and we add the activation
convert to 0 instead of
model is not used in current implementation
if only figs without owner are selected , then you can remove them !
test with a class in a package
checkassignidtoobject \( fighistorystate , true , true \)
end class crtoomanyclasses
jmenuitem cutitem edit add \( actioncut getinstance \( \) \) setmnemonic \( cutitem , cut \) setaccelerator \( cutitem , ctrlx \) jmenuitem copyitem edit add \( actioncopy getinstance \( \) \) setmnemonic \( copyitem , copy \) setaccelerator \( copyitem , ctrlc \) jmenuitem pasteitem edit add \( actionpaste getinstance \( \) \) setmnemonic \( pasteitem , paste \) setaccelerator \( pasteitem , ctrlv \) edit addseparator \( \)
end class crinstancewithoutclassifier
only interested in the ownedelement property either something has been added to the namespace for this model , or removed in the latter case the something will be in the old value of the property , which is the collection of owned elements , and the new value will be the element import describing the model element and the model from which it was removed
check that the model was initialized with one goal
check for more attributes \( ' ' separated \)
see org argouml uml reveng importsettingtypes uniqueselection getdefaultselection \( \)
see java util observable notifyobservers \( java lang object \)
we also show parameters
end class andcm
calculate the drop location , and place every n th element at an offset proportional to n
in uml2 , we model a method as a behavior \( initially opaquebehavior \)
see org argouml model modelimplementation getusecaseshelper \( \)
todo why is this ignored \? tfm 20070110
set the drop location in the case of d d
\( mattribute \)
update the values
see org argouml uml ui umlmodelelementlistmodel2 buildmodellist \( \)
clear target so that multiple copies have no effect \( other than inefficiency \)
internal initialization method handles initialization which is common to both public methods
no modifiers let 's check if the key is valid
see org argouml uml util namespace namespace setdefaultscopetoken \( java lang string \)
if we are not on a row then ignore this autoscroll request
a stereotype got applied or removed just mark for rebuild next time since we use lazy loading
assert that the model element that depends on the profile is consistent
see org argouml ui explorer rules perspectiverule getdependencies \( java lang object \)
see org argouml cognitive todolistlistener todoitemsremoved \( org argouml cognitive todolistevent \)
main parsing methods
in uml2 , the target is already the expression \( opaque \)
if the classifier is not in the current diagram , add it
this method is cpu intensive and therefore needs to be as efficient as possible
todo look up class in truth table
create a class in the project model
virtual memory \( heap \) stats
todo we could check that the contents of the files differ
todo concatenate \? tfm overwrite for now
make sure we got what we started with
see org argouml model modelimplementation getmetatypes \( \)
query checking added 05 21 01 , sz9
class accessors
todo assumes public , user pref for default visibility \? do i have to check the namespace here \? \( toby \)
see javax swing abstractlistmodel firecontentschanged \( object , int , int \)
see if there is already an element with the same name
copy the previous value in the current
create the rule
save the profile into a xmi file
see org xml sax contenthandler startelement \( java lang string , java lang string , java lang string , org xml sax attributes \)
file load save gets done on a background thread , so we 'll probably have to queue this to the swing event thread
skip first parameter return type
super \( model getfacade \( \) getname \( op \) , null \)
if we delete a figedge or fignode we actually call this method with the owner not the fig itself however , this method is called by actiondeletemodelelements for primitive figs \( without owner \)
umlsequencediagram seqdiag new umlsequencediagram \( \)
verify the copied nested package and the copied interface
see targetlistener targetremoved \( targetevent \)
see javax swing text document gettext \( int , int \)
see org tigris gef graph graphlistener edgeremoved \( org tigris gef graph graphevent \)
see org tigris gef presentation fig getclosestpoint \( java awt point \)
mouselistener implementation
add the node , check that it is an actor or use case and add it to the model namespace
ret setisleaf \( false \) ret setisroot \( false \)
link class , instance class , , transition class , statevertex class , ,
see java awt event actionlistener actionperformed \( java awt event actionevent \)
only resize elements which the user would also be able to resize
checkstyle on
see profilemodelloader loadmodel \( profilereference \)
add this new one , and mark it to be retained
popupaddoffset should be equal to the number of items added here
and not incompletely imported
works for both statediagram as activitygraph
and then by their enclosing path to fully distinguish them
remap specific classes
but exclude elements that enclose others , since their algorithms to calculate the minimum size does not take enclosed objects into account
see org argouml uml diagram ui fignodemodelelement updatelisteners \( java lang object , java lang object \)
advance currenty to where the start of the body box is , remembering that it overlaps the next box by 1 pixel calculate the size of the body box , and update the y pointer past it if it is displayed
add in front of the others add the label in front of the pane
see java awt dnd dragsourcelistener dragexit \( java awt dnd dragsourceevent \)
see javax swing table tablemodel setvalueat \( java lang object , int , int \)
classifier powertype
perhaps something like the following would workd if not , then traverse up the component hierarchy to a multeditorpane rectangle drawingarea globals cureditor \( \) getjcomponent \( \) getvisiblerect \( \)
layout
actor 4 11 3 1 2
we cannot delete the model itself
\( 1 \) test that the properties were correctly initialized
jmenuitem item filemenu add \( new actionreopenproject \( filename \) \)
get the classifier
this comment was included in a previous version \( before 1 2005 \) of the test which had this assertion commented out interaction should not be removed when removing classifierrole maybe if the last message is removed from the interaction but even then it 's doubtfull since it will probably lead to backward compatibility problems in save formats but my reading of the uml 1 4 specification is that an interaction without at least one message is definitely illegal , so mdr is doing the right thing by removing it in this case where we only have a single message , which then gets deleted tfm
classifier 4 5 3 8 5
delete linkends
this needs to iterate to fill entire output raster if implemented return image copydata \( outraster \)
delete stimulii which have this as their dispatchaction
see org argouml model modelimplementation getdirectionkind \( \)
see org argouml model modeleventpump removemodeleventlistener \( java beans propertychangelistener , java lang object \)
now we have to see if any state in any statemachine of classifier is named name if so , then we only have to link the state to c
history thehistory additemresolution \( item , reason \)
end class actioncreatepseudostate
see tudresden ocl parser analysis depthfirstadapter outaenumliteral \( tudresden ocl parser node aenumliteral \)
end class actioncut
build the field
mvw these are the wfrs for datatype 1 a datatype can only contain operations , which all must be queries self allfeatures forall \( f f ocliskindof \( operation \) and f oclastype \( operation \) isquery \) 2 a datatype cannot contain any other modelelements self allcontents isempty imho we should enforce these wfrs here so it is still possible to copy or move query operations , hence we should allow this
\+ a allconnections exists \( r r type ocliskindof \( actor \) \) and
see javax swing event documentlistener removeupdate \( javax swing event documentevent \)
for other xmi files with further namespaces
if no classifier has been set , then entering a state is not useful , so the user 's input has to be rejected
massociationend
report a progress to the progressmonitor window see org argouml persistence progresslistener progress \( org argouml persistence progressevent \)
see java beans propertychangelistener propertychange \( java beans propertychangeevent \)
create a dependency between the project 's model and the user defined profile
if anything goes wrong return the stack trace as a string so that we get some useful feedback
help tab is 0
empty at the moment
see org argouml uml cognitive critics cruml predicate2 \( java lang object , org argouml cognitive designer \)
see org tigris gef graph mutablegraphmodel connect \( java lang object , java lang object , java lang class \)
we 're going to change the name immediately , so just use
add adapters that do nothing for keyboard and mouse actions
if the name is only underscores
non existent in uml1
we can delete figs like figrects now too
this is an expensive method that we should ensure is called rarely hence info level to track easily
if no project was entered on the command line , try to reload the most recent project if that option is true
message
todo should update to size of diagram contents
generates a string representation for the provided attribute the string representation will be of the form visibility name multiplicity type expression initial value property string depending on settings in notation , visibility , multiplicity , type expression , initial value and properties are shown not shown
see org argouml model umlhelper move \( java lang object , org argouml model umlhelper direction \)
see org tigris gef graph mutablegraphmodel canaddnode \( java lang object \)
if element is an associationend use the namespace of containing association
follow well formedness rule for a class 2 determine the owning namespace for the statemachine
see org tigris gef presentation fig getusetraprect \( \)
remove the rule from the library list
always fire changes in the case something has changed in the composition of the taggedvalues collection
possibly use the following instead memberfilepersister persister new diagrammemberfilepersister \( \)
no action required
class to display a stereotype declaration figure using classifier box notation p todo this is just a place holder right now ! tfm this needs to show tags and constraints
the empty string return null
see org argouml model modeleventpump removeclassmodeleventlistener \( java beans propertychangelistener , java lang object , java lang string \)
select those features which are behavioralfeatures
check which targetmanager method to call
e g for an operation if pce getsource \( \) modelelement event propertyname parameter if event instanceof addassociationevent get the parameter instance from event newvalue call model to add listener on parameter on change of name , type else if event instanceof removeassociationevent get the parameter instance from event oldvalue call model to remove listener on parameter on change of name , type end if end if
4 5 2 28 namespace
and set the specification to the current operation
no default type for uml2
see org tigris gef presentation fignode hitport \( int , int \)
see javax swing event treeexpansionlistener treecollapsed \( javax swing event treeexpansionevent \)
if we do not exclude a model here , then dropping the model on a usecase diagram causes a package to be drawn
see junit framework testcase runtest \( \)
see org argouml uml cognitive critics abstractcrunconventionalname computesuggestion \( java lang string \)
refresh the text of the tab see org argouml ui tabtarget refresh \( \)
and when the owner is replaced \( unlikely for operations \) , and when the operation changes name
create a new implementation
instance \( in uml 1 4 \) and classifier are abstract and not tested
following the update the priority should be equivalent to decision unspec
make space for the clarifier margin between text and border
situation 1
for a classifier pre 10 the operation allcontents returns a set containing all modelelements contained in the classifier together with the contents inherited from its parents allcontents set \( modelelement \) allcontents self contents union \( self parent allcontents select \( e e elementownership visibility public or e elementownership visibility protected \) \) where parent is defined for generalizableelement as 1 the operation parent returns a set containing all direct parents parent set \( generalizableelement \) parent self generalization parent pre p
performance testing parameters
mainpanel add \( north , borderlayout north \)
todo we should also test that the object have been removed from their namespace collection c model getfacade \( \) getownedelements \( p getroot \( \) \)
put everything together
remember the fig for later
add it again \( but now in the right sequence \)
make a copy of the modelelements
this is needed for the junit tests otherwise a assert initialized would suffice
see org argouml uml diagram state ui figstatevertex makeselection \( \)
see java beans vetoablechangelistener vetoablechange \( java beans propertychangeevent \)
both diagram types shall show sequence numbers when requested
how to handle empty target lists \? probably the tabdiagram should only show an empty pane in that case
2 make sure that all figs are visible
alternatively , we could reduce the height of the fig by the height of this one hidden compartment but that would not be possible for the width so we better return to minimal dimensions overall
rule management
a use case has an external separator external means external to the compartment box this horizontal line sticks out of the box , and touches the ellipse edge
the association should have same namespace as from class
initlogging \( \)
make sure there is the minimum gap above the message being drawn
if this composite state is not attached to a statemachine it is not the toplevel composite state
add stereotype view submenu
let 's just build a statemachine , and put it in a suitable namespace
see java awt event mouselistener mousereleased \( java awt event mouseevent \)
prptodo createproperty \( label todo pane , positions , tabtodo class \) prpproperties createproperty \( label properties pane , positions , tabprops class \) prpdocumentation createproperty \( label documentation pane , positions , tabdocumentation class \) prpstyle createproperty \( label style pane , positions , tabstyle class \) prpsource createproperty \( label source pane , positions , tabsrc class \) prpconstraints createproperty \( label constraints pane , positions , tabconstraints class \) prptaggedvalues createproperty \( label tagged values pane , positions , tabtaggedvalues class \) property propertylist new property prptodo , prpproperties , prpdocumentation , prpstyle , prpsource , prpconstraints , prptaggedvalues , arrays sort \( propertylist \) top add \( new jscrollpane \( new propertytable \( propertylist , panecolumnheader , positioncolumnheader \) \) , borderlayout center \)
unimplemented
if there is no script , then the language should not be maintained
see javax management notificationbroadcaster getnotificationinfo \( \)
return a list of namespaces enclosing this element the list is ordered outer to inner i e it starts at the root model
private jpanel constraintstab new jpanel \( \)
end class predisfinalstate
end class cruselessinterface
and the parameter of its operations
create a new tagged value with the given type and value and add it to a modelelement
we only handle the case where a region has been removed
designgoalscm checks if the critic isrelevanttogoals of the designer this value is always true for the critic base class so designergoal should always return true in this condition
check for more operations \( ' ' separated \)
see org argouml uml diagram ui abstractactioncheckboxmenuitem valueoftarget \( java lang object \)
to prohibit dropping onto the drag source
the group must be resized if a text field exceed the bounds
see org argouml model modelimplementation getcollaborationsfactory \( \)
if we get here then we did n't get the default diagram
try moving in a simple maner
set enabled to false and check the opposite condition
see org argouml model visibilitykind getpublic \( \)
the operation specificationpath results in a set containing all surrounding namespaces that are not instances of package specificationpath set \( namespace \) specificationpath self allsurroundingnamespaces select \( n n ocliskindof \( subsystem \) or n ocliskindof \( class \) \)
we removed the last partition , so now remove the pool , too
linewidth \?
see java util collection iterator \( \)
end class clclassname
packages to be remapped
pw close \( \)
the reason the gui is initialized before the commands are run is that some of the commands will use the projectbrowser
do not show border line , make transparent
nothing more to do
the tv existed , but maybe it was not true
see javax swing table tablemodel setvalueat \( java lang object , int , int \)
see java util collection containsall \( java util collection \)
specifies valid elements for a class to contain
only initialized to prevent warning
xmi 1 1
initialize snoozeorder
return nothing
see org tigris gef persistence pgml handlerfactory gethandler \( handlerstack , object , string , string , string , attributes \)
loop through all the ends , comparing the name against those already seen \( ignoring any with no name \) no problem if there are no connections defined , we will fall through immediately
load the rest
get all our sub figs and hit them with the big stick too
we do n't care if optional modules are n't found
see org argouml uml diagram ui fignodemodelelement renderingchanged \( \)
get a node 's name along with the name of its parent \( which we 'll use to find the factory to create it with
just returns the descr param see org argouml cognitive poster expand \( java lang string , listset \)
end class delayedchangenotify
see javax swing plaf metal metaltheme getsystemtextfont \( \)
specifies valid elements for a enumeration to contain
join all into a group
see java util list listiterator \( \)
see org argouml application events argonotationeventlistener notationproviderremoved \( org argouml application events argonotationevent \)
distribute the extra height over the visible compartments
end class predisstartpackage
not in uml1 4
in this case , the bounds are determined by the figedge
todo this is using the default platform character encoding specifying an encoding will produce more predictable results
by default , do not show operations nor attributes
save the model \( current \)
we only have this here until we have stereotypes list on property panel
default \( any other step \) is to return nothing
todo defer most of this work if the panel is n't visible tfm
resolvedcritic \( critic , listset , boolean \)
end class actionimportfromsources
by default , the first value of the combobox is selected
see parent
place the final state last with a little separation
search for our current target language
we only request focus the first time we become visible
this function will , by design , contain long lists of i18n keys it might be tempting to shorten these by constructing them from the parts but please then consider that we might loose the possibility to build tools to statically check the property files against this file
store constraint body
if we 've got a streaming input , copy it to make sure we 'll be able to rewind it if necessary
get the widest of all textfigs calculate the total height
in deploymentdiagrams the situation is not the same as in other diagrams only classes , interfaces and objects can intersect each other while they are not the enclosingfig , so you have to prouve only these elements
c gridy 0 c gridx 5 jlabel fourlabel new jlabel \( asd \) gb setconstraints \( fourlabel , c \) mainpanel add \( fourlabel \)
try to create a new class diagram
let 's update the progress
get the perspective name
implements backspace functionality
return just the comment edges for a specific layer todo document diagram layer \? param diagram the diagram return a link list with the edges
east
see org argouml uml ui umlmodelelementlistmodel2 isvalidelement \( java lang object \)
there 's a duplicate let 's recheck if there is a conflict
2 the profile configuration , holding noneditable applied profiles
see org argouml uml cognitive critics cruml predicate2 \( java lang object , org argouml cognitive designer \)
notation settings are different since , we know that , at a minimum , the isshowpath \( \) setting can change because with implement pathcontainer , so we make sure that we have a private copy of the notation settings
mvw this is not the correct way , but it allows connecting a commentedge to it ! see e g actionaddnote for the correct way testcase 1 select the message 2 click the comment tool
if we get this with the repository locked , it means our root model element was already deleted nothing to do
both have the same owner
non abstract methods
additional operations in 4 5 3 8
for a transition use indirection through source statevertex
end class figlink
filled in later
not in uml1 4
lets see if this diagram has some figs on it
important these must remain in order !
resolvedcritic \( string , list \)
see org tigris gef graph graphmodel getinedges \( java lang object \)
the following will bring up a dialog box , so ca n't be run headless actionsupplier actionperformed \( new actionevent \( this , 0 , foo \) \)
see org argouml model abstractmodeleventpump addmodeleventlistener \( java beans propertychangelistener , java lang object , java lang string \)
gbc gridheight 10
set the newly selected item in the library list
a newly created associationclass may not have all its parts created by the time we are called
try the actions
base is already set to this assoc
leave logging commented out by default for efficiency log debug \( determine rendering for \+ value \) log debug \( show icon \+ showicon \)
check if any stereotype is defined
initialize the checklist
fine !
snooze and verify its been enabled
actionpaste getinstance \( \) setenabled \( globals clipboard ! null ! globals clipboard isempty \( \) \)
remove references for gc
try some more errors
see java awt event mouselistener mouseentered \( java awt event mouseevent \)
begin a transaction we 'll do a bunch of reads first to collect a set of elements to delete then delete them all
see org argouml uml util namespace namespace getcommonnamespace \( org argouml uml util namespace namespace \)
see org argouml uml diagram layout layouter getobject \( int \)
allow all packages and classifiers
4 5 2 8 binding
the space between the 2 text figs is padding see org tigris gef presentation fig getminimumsize \( \)
see org argouml uml ui umlmodelelementlistmodel2 settarget \( java lang object \)
get the ordered list of immediate successors
compare against all earlier operations if there 's a match we 've found the problem
see org tigris gef graph graphmodel getports \( java lang object \)
see javax swing tree treemodel addtreemodellistener \( javax swing event treemodellistener \)
see org argouml cognitive critics critic critique \( java lang object , org argouml cognitive designer \)
see org argouml uml ui umlcheckbox2 buildmodel \( \)
see org argouml model modelimplementation getvisibilitykind \( \)
the trysave method results in the save taking place in another thread if that completes without error the projectbrowser exit \( \) method will be called which will actually exist the system
try changing the direction of m7
save the project
create a new extension point and make it the browser target then invoke the superclass action method
do layout even if problems occurred during import
reuse signal event
the next 3 restrictions for abstraction seem to be argo specific not something the uml spec requires tfm 20070215
see org tigris swidgets orientable setorientation \( org tigris swidgets orientation \)
this is done for compatibility with previous version move the argo user properties written before 0 25 4 to the new location , if it exists
add figs to the fignode in back to front order put this rectangle behind the rest , so it goes first
does the file really exists \?
critiquing api
we accept a package , but not a model or a subsystem
wfr 2 10 3 3 4
for classifiers
work out the radii of the ellipse , a and b the top right corner of the ellipse \( cartesian coordinates , centered on the origin \) will be at \( x , y \)
this may return null
retrieve item
stop start cleaning up invalid todoitems
we really should n't add it until after it is set up , but we need it to have an owner for the following method calls
see javax swing tree treemodel getchild \( java lang object , int \)
component or action
end class documentationmanager
see org tigris gef graph mutablegraphmodel containsnode \( java lang object \)
the preferences with project scope
uml2 only
see org argouml uml diagram static structure layout classdiagramnode gettypeordernumer \( \)
get the first editable extent \( which is ok unless there is more than one editable extent \)
see javax swing table tablemodel getrowcount \( \)
update all tools' enabled status
we do n't know what thread events will be delivered on , so make sure we run swing methods on the swing thread
destroy it
let the group recalculate its bounds and then tell gef we 've finished
yes , scroll up one row
override superclass to do nothing line width cannot be changed
use the first diagram
create panel containing the previous field
utility is a namespace collection also not strictly required to have variables
see java awt event actionlistener actionperformed \( java awt event actionevent \)
private boolean mustrefresh
see tudresden ocl parser analysis depthfirstadapter outarealliteral \( tudresden ocl parser node arealliteral \)
repeat until no faults are fixed
the south panel always has tabs but they are added \( later \) elsewhere
end class crtoomanyoper
see java awt event actionlistener actionperformed \( java awt event actionevent \)
no instantiations
text group to contain name stereotype
fig accessors
see org argouml notation providers notationprovider parse \( java lang object , java lang string \)
eclipse uml2 implementation classes end with impl non nls 1
called by propertychange
check , if we have to create a new implementation
argoeventpump fireevent \( new argoimporterevent \( argoeventtypes importer added , gen \) \)
see org tigris gef presentation figgroup addfig \( fig \)
set up source for style sheet
4 5 2 23 generalizable element
see org tigris gef presentation fig setfillcolor \( java awt color \)
the following should fail
design feedback
and include the cue line in the area to be rubbed out next time
additional operation 4 5 3 3 1
set up the property panels for class diagrams
see java util collection isempty \( \)
a complex internal transition
see java awt event actionlistener actionperformed \( java awt event actionevent \)
this should only be helpful for old garbage collectors
strip any trailing semi colons
interactioninstancesets will get deleted automatically because they are associated by composition
test an unknown file
override superclass to do nothing line width property cannot be changed
flow is not in uml 2 x do n't implement
it is done
model null
see javax swing tree treemodel isleaf \( java lang object \)
end class actionfind
if this is not a circle to circle edge we default to let gef calculate edge route
this is not the correct location to set the cursor the commented out code illustrates the calculation of coordinates see java awt dnd dragsourcelistener dragover \( java awt dnd dragsourcedragevent \)
copy to new file and let the regular load code do the actual load
see java awt datatransfer transferable isdataflavorsupported \( java awt datatransfer dataflavor \)
mount the glasspane on the component window
the target is a valid context
end class tabtaggedvalues
uml spec for extend does n't call for name nor stereotype
unsnooze the critic to verify the critic is not relevant
see javax swing comboboxmodel getselecteditem \( \)
see org argouml uml diagram layout layouter remove \( org argouml uml diagram layout layoutedobject \)
see java util list indexof \( java lang object \)
see org argouml uml diagram static structure layout classdiagramnode isstandalone \( \)
see org argouml model abstractmodeleventpump addmodeleventlistener \( java beans propertychangelistener , java lang object \)
some subclasses will try to use this
set the namespace of the enclosed model element to the namespace of the encloser
if it is concurrent and contains concurrent regions , the bottom region has a minimum height
rearrange the diagram layout
the name of this instance of diagram
compares obj1 and obj2 sorting by user object type , then name diagrams are sorted first , then packages , then other types sorts by name within type groups nulls are sorted first for names see java util comparator compare \( java lang object , java lang object \)
specifies valid elements for a package to contain
add
blanking the old action 's shortcut and now refreshing the table
listselectionlistener implementation
visibility
see javax swing event caretlistener caretupdate \( javax swing event caretevent \)
in this case , either the container was not set , or it was not contained in a statemachine
constructor
see org tigris gef base selection draghandle \( int , int , int , int , org tigris gef presentation handle \)
warning this has containment side effects ! eclipse uml2 will move the property from the classifier to the association when the navigability is changed
todo the wfr does n't restrict this to classifiers tfm
see javax swing abstractaction abstractaction \( java lang string \)
override paint so we can set a flag the first time we 're called and notify any waiting threads that the splash screen has been painted see java awt component paint \( java awt graphics \)
the height of the blank space above and below the text figs
fire all of the generator events
testcase drag something from another application into argouml , and the explorer shows the drop icon , instead of the nodrop
see if we can copy a class right off
and when the class changes name
return \( \( redefinableelement \) handle \) isroot \( \) todo one part of uml 2 1 1 spec says that this is as above , but it appears to be gone tfm
finalstate element for activitydiagram
the selected operation
disconnect the message from the call graph make copies of returned live collections since we 're modifying
store in the user configuration , and let gef know also
if our position was clamped , try to make it up on the other end
the event source is the owner stub state
the following is the default implementation for diagrams of which the owner is a namespace
end computeroute
let 's update also the actions array
simulate a press of the mouse above the calculated point
one of the expected errors , just ignore
we do nothing
horizontal resizing
the clone method that should clone the jgraph with it 's contents and the toolbar with it 's contents since both jgraph as the toolbar are coming from the gef framework , cloning them will be hard work and should actually not be placed here but in a clone method of the jgraph and the toolbar see java lang object clone \( \)
see org argouml uml ui umlcomboboxmodel2 setselecteditem \( java lang object \)
see javax swing text document render \( runnable r \)
both have the same settings
specific classes to be remapped remap put \( , \)
testing works ok
see org argouml ui guisettingstabinterface handlesettingstabsave \( \)
jpanel docpane pane gettab \( tabdocumentation class \)
curdecisioncm isrelevant checks to see if the critic has any decisions that have a priority 0 and less than the priority of the critic by default the critic has no decisions so isrelevant should return false
progress bar
anchor position
p movetotrash \( source \)
the figs for the two end nodes
see java util list addall \( int , java util collection \)
this element can be contained add a menu item that allows the user to take that action
mclassifier
see java awt event actionlistener actionperformed \( java awt event actionevent \)
we initialised java notation , so let 's activate it
see org argouml uml diagram ui fignodemodelelement updatestereotypetext \( \)
see org argouml model abstractmodeleventpump addclassmodeleventlistener \( java beans propertychangelistener , java lang object , java lang string \)
a concurrent region cannot have incoming or outgoing transitions so incoming or outgoing transitions are redirected to its concurrent composite state container
see testcase setup \( \)
see org argouml uml diagram ui figedgemodelelement getnamefig \( \)
see org argouml model modelimplementation getcollaborationshelper \( \)
resize the big port around the figure
state is concrete in uml 1 3 , but becomes abstract in uml 1 4 , so we never allow it to be created \( and do n't test creation \)
clean the history
the name of this instance of modelelement
get all the classes from the diagram
compare the type of the parameters if any of the types is null , then we have a match
see org argouml uml diagram activity ui selectionactionstate getnewnodetype \( int \)
see org argouml ui explorer rules perspectiverule getchildren \( java lang object \)
we want the b foo attribute , that is the second in the list
restore original event policy not supported by mdr tfm mfactoryimpl seteventpolicy \( oldeventpolicy \)
see java lang throwable printstacktrace \( java io printstream \)
if we are given the null string , return immediately , so that the extensionpoint is removed
show compartment
this class is a temporary wrapper around the gef undomanager this will be changed when gef is modified to create commands and provide an observer interface for argouml to receive them p todo how does this relate to link org argouml kernel defaultundomanager \? author bob tarling
test that the properties were correctly initialized
convert null to empty string and clear help message
newop setownerscope \( op getownerscope \( \) \) not needed in case of operation
y position of the new cr should match existing crs y position
container state composite state
then classifier
see org argouml uml util namespace namespace getbasenamespace \( \)
see org argouml ui explorer rules perspectiverule getdependencies \( java lang object \)
update the listeners to match the desired set using the minimal update facility
check to see if association still exists
see org tigris gef presentation fig removefromdiagram \( \)
this is neat
public collection element getextendedelements \( object handle \)
while
long list of internals
catches a mouseevent and calls mysingleclick and mydoubleclick if a tab is clicked which is selected see java awt event mouselistener mouseclicked \( mouseevent \)
resize the fignode to accomodate the new text
leave some space below the include
see org tigris gef graph graphlistener graphchanged \( org tigris gef graph graphevent \)
\( mtransition \)
see org argouml uml diagram ui stereotypecontainer setstereotypevisible \( boolean \)
case 1 and 2
the fig that was under the mouse when it was released
the state of a classifierinstate is removed , so let 's reduce it to a classifier
because uml 1 4 2 1 metamodels are organized differently we need to traverse the hierarchy looking for our owning package
modifier
object getimportedpackage \( object element \)
usecase 4 11 3 5 2
see abstractaction actionperformed \( actionevent \)
see java util enumeration hasmoreelements \( \)
see org argouml uml cognitive critics cruml predicate2 \( java lang object , org argouml cognitive designer \)
block added by bobtarling 8 jan 2002 set the checkbox on or off according to the selected value of the action if no selected value is found then this defaults to true in order to remain compatible with previous versions of this code
parent is element , but it has no attributes or associations to check checkelementcopy \( e1 , e2 \)
end class goal
adapted from selectionwbuttons from line 280 calls a helper method to avoid this edge disappearing if the new source and dest are the same node
commit our transaction
blinks \?
move left
if a default action was voided then we have to save it
contructors
see javax swing table tablemodel getcolumnclass \( int \)
for the uml files in the eclipse jar files , we need this
add a predicate for argouml 's default capabilities
link
handle multivalued tagged value
if the child component is resizable then we do n't know it 's actual size yet it will be calculated later as a proportion of the available left over space for now this is flagged as zero
see javax management notificationlistener handlenotification \( javax management notification , java lang object \)
4 5 2 13 constraint
default implementation is to do nothing
delete extends where this is the base
this should not happen
else ignore
see java awt event actionlistener actionperformed \( java awt event actionevent \)
if we have only one return value and without type , the return param string is , , we remove it
jtabbedpane tabs new jtabbedpane \( \) mainpanel add \( tabs , borderlayout center \) tabs addtab \( all diagrams , alldiagrams \)
end updateinfo \( \)
the query state
finally , do the adaptations
get the implementations of this operations and look for an opaquebehavior
set maximum length of menu entry
end class crinvalidsynch
see org tigris gef base diagram getclassandmodelid \( \)
no valid field for above notationlanguage it 's valid if not null
we cannot delete the last diagram
setup a user defined profile
modifiers
we are looking first to match with 3 different constructor types we would not expect a fig to have any mix of these any constructor other than these should be deprecated so we look for these first fig \( diagramedgesettings , diagramsettings \) fig \( object , rectangle , diagramsettings \) fig \( rectangle , diagramsettings \)
see org argouml cognitive critics critic predicate \( java lang object , org argouml cognitive designer \)
x nodes and x edges
uml 1 4 wfr 2 5 3 1 3
force the parent to redraw
no concrete subclasses defined , this class is useless
overrule the single line name fig created by the parent
make the gradient ghostlike
todo if the next line trows an exception , then what do we do with the remainder of the parsed to be parsed lines \?
see javax swing event documentlistener changedupdate \( javax swing event documentevent \)
see org argouml uml reveng importcommon isdescendselected \( \)
end class actionpaste
notify the user that the modules in the list that are selected but not enabled were not possible to enable and that are not selected that we cannot disable currently we just log this todo we could eventually pop up some warning window
catch callers attempting to use one without other
add all of the test items from the first list
see java awt event windowlistener windowclosing \( java awt event windowevent \)
see org argouml uml ui sourcepathcontroller deletesourcepath \( java lang object \)
end class actionpagesetup
isrootpath
figassociationrole figassociationrole new figassociationrole \( \)
although we 've historically written out the doctype , the dtd does n't actually exist and this line will get stripped by the uml file persister \+ ! doctype profile system profile dtd n
debugging and looking at fig headfig figs 1 currtext i can see that it 's working , but how to test it \?
make all the parts match the main fig
forbid instantiation
create a different client to bind to the same supplier
all connected edges
add to the collection and round to look at the next one
dialog box to list all critics and allow editing of some of their properties p todo supported goals , critic network
now force minimum dimensions for the text
the modelelement must have been deleted ignore this it will pass
remove old listeners
no generalizations in deployment diagrams
with a name
we assume profile is contained in a single extent
secondly we check the previous model structure
the next if clause is important for the deployment diagram it detects if the enclosing fig is a component , in this case the container will be set for the owning interface
help menu
warn about inherited name conflicts , different critic \?
see org argouml ui explorer treemodelumleventlistener modelelementchanged \( java lang object \)
uml 1 4 2 spec section 4 5 3 20 5 a generalizableelement may only be a child of generalizableelement of the same kind
see org argouml uml diagram umlmutablegraphsupport isremovefromdiagramallowed \( collection \)
there is a constructor
by default , double the snooze interval each time
work out the padding each side , depending on whether the stereotype is displayed and set bounds accordingly
see org argouml ui tabtarget refresh \( \)
get the text in the field , and do n't do anything if the field is empty
do n't explicitly check if element is null
instance varables
see javax swing icon geticonwidth \( \)
so , the target is a massociationrole
let 's make it a bit more difficult by setting the target
initialize band buffer bounds
see org argouml ui guisettingstabinterface handlesettingstabcancel \( \)
see org argouml model aggregationkind getcomposite \( \)
it is quite possible that the cause of the problem has by now been deleted , in which case we will throw an exception if we try to change things catch this tidily
place all the nodes
if the current property occurs a second time in the given list of properties , then skip it
see org argouml model visibilitykind getprivate \( \)
binary link
we do n't recalculate activations , just move them
end class systeminfodialog
necessary to create distance between the textfield and the icon
see org argouml uml ui actionnewdiagram creatediagram \( \)
mmessage
whatever happened we are no longer newly created , so clear the flag then set the bounds for the rectangle we have defined
see org argouml uml diagram state ui figstate getinitialheight \( \)
see javax swing table tablemodel getcolumncount \( \)
see javax swing plaf metal metaltheme getname \( \)
find all elementresidences between the class and the component
set properties for application behaviour
case 3
see org tigris gef presentation figgroup hitfig \( java awt rectangle \)
alternatively , we could just return null here , so that you can not create a comment just linked to a comment this way which is a bit uncommon , but not illegal , so for consistency , we better allow it
see tudresden ocl parser analysis depthfirstadapter casealetexpression \( tudresden ocl parser node aletexpression \)
todo the next text was copied to adapt sets the target if the old target is an uml element , it also removes the model from the element listener list of the target if the new target is an uml element , the model is added as element listener to the new target p this function is called when the user changes the target hence , this shall not result in any uml model changes p this function looks a lot like the one in umlcomboboxmodel2 p as a possible future extension , we could allow listening to other model elements param thenewtarget the new target
stores the action command into the umlplaintextdocument class which is also used for setproperty and getproperty
make a seamless integration of the text in the note figure
\( mgeneralization \)
look for the dashed edge
text was stored in name in uml 1 3
failed to clone
store wizard \?
computeroute \( \) this recomputes the route if you reload the diagram
see org tigris gef presentation fig getminimumsize \( \)
use a transaction to avoid the performance penalty \( 3x \) of mdr 's autocommit mode
return original string if no replacements made
verify the copied attribute
at the top right bottom left bottom
in case of a tagged value , the type should n't be set here
copy the gif image to the clipboard
remember to change this if you change the number of mes with source path settings
3 the editable unapplied profile
find the target in the project browser we can only do anything if its a use case
case 3 and 4
send indeterminate new value instead of making copy of vector
if we 've got a local \( uninherited \) font name or size or if we 've got no parent to inherit from recompute our cached fonts
see javax swing table tablemodel getvalueat \( int , int \)
return null
specify design issue category and knowledge type
see org argouml uml diagram ui figedgemodelelement getdestination \( \)
the user cancelled !
access methods for the program infrastructure
user made a false start
no state with the given name is found , so we have to reject the complete user 's input
end class figpackage
this action performs the layout and triggers a redraw of the editor pane see java awt event actionlistener actionperformed \( java awt event actionevent \)
specifies valid elements for an simplestate to contain
element is allowed , but only namedelement can return nonempty list
we put the targets 'backwards' in the history since the first target in the addedtargets array is the first one selected
delete messages which have this as sender or receiver
change priority of unspecified goal so we can verify it was updated
fail silently as we expect users to accidentally drop on to wrong component
we have no model event listeners , so no need to do anything
when call by contructor no one is selected
tell gef its changed
keep track of the glasspane as an instance variable
rule name but no rules
for ant setup
read it back in to a new empty project
get the base association name
test that properties were correctly initialized by the constructor
compartments
uml 2 x files could also contain a profile model try again with uml profile as main tag
see org tigris gef base modecreatepolyedge mousereleased \( java awt event mouseevent \)
we need to set the namespace owner of the new attribute before parsing
used by the copy functions do not call this function directly todo generalizations , specializations \? param source the source generalizable element param target the target generalizable element
treeselectionlistener implementation
next line coming from projectbrowser
show a chooser dialog for the file name , only xmi is allowed
mvw we should use default font sizes as much as possible btw , this impacts only the width , and reduces readibility
todo initial value
todo add filename \?
keep them sorted
and listen to name changes of the submachine
because the notation events get dispatched on the swing event thread , we need to use invokeandwait to make sure that we do n't return until they 've been delivered
if test is ok this element should not be in the result set
if we have no source and dest connector then we assume this is load of an old uml1 4 diagram from before this data was saved in pgml for uml1 4 we can assume the source is first connection and destination is last connection stored in repository for this association
if a message has a name and a named operation , then show the operation
ensure that model subsystem implementation does n't remember the profiles by changing their names and directories
if the array has n't been flagged to indicate otherwise swap elements the elements and add again
show
see java awt datatransfer transferable gettransferdataflavors \( \)
ask the cell renderer to paint itself into the bufferedimage make the image ghostlike
we got at least one stereotype
editor editor globals cureditor \( \) graphmodel gm editor getgraphmodel \( \) layerdiagram lay \( \( layerdiagram \) editor getlayermanager \( \) getactivelayer \( \) \)
targetlistener implementation
end class windowcloser
return all edges going from given port see org tigris gef graph graphmodel getoutedges \( java lang object \)
\( mclassifier \)
make next accesses to this instance predictable
see org argouml uml ui umlmodelelementlistmodel2 isvalidelement \( object \)
assumes the next child is the labelled component
updates stereotype setting , adds all children per treemodel 'build on demand' design see javax swing event treewillexpandlistener treewillexpand \( javax swing event treeexpansionevent \)
not needed in uml 1 x
can finish if we 're on step1 and have actually made a choice
check the localized parts
additional support for tagged values
this target is a statemachine , for which no diagram exists yet , so , let 's use it
exception expected test success
see org argouml ui targetmanager targetlistener targetadded \( org argouml ui targetmanager targetevent \)
iteration should be fast
increase the height of the fig
access methods for modules that need to query about the status of other modules
get class box , because we will set it 's bounding box in text field
skip any whitespace till we should be on an equals sign
the following from the original nsuml implemenetation was attempting to implement wfr 1 from section 2 5 3 32 of the uml 1 4 spec , but if there is an owner set , no namespace is valid the checks for this wfr , if desired , need to go in setowner \( \) and settype \( \) tfm
easy interface to properties
the dialog is modal
end class uuidmanager
see org argouml uml ui actionsetmultiplicity setselecteditem \( java lang object , java lang object \)
no shortcuts none
apparently this object had no getitemuid
todo we do n't have any settings that can change per fig currently so we can just use the default settings settings new diagramsettings \( rendersettings \)
see org argouml ui targetmanager targettablemodelview gettargettablemodel \( \)
some convenience methods
see org argouml cognitive poster getsupporteddecisions \( \)
it is a uml element that is not a modelelement
see javax swing tree treemodel getindexofchild \( java lang object , java lang object \)
enumerate all selected figures and update their path accordingly
same name , different classes , everything ok
todo huntformodulesfromjavawebstart \( \)
the model is changed job done
see java util collection add \( java lang object \)
if we have n't succeeded in getting a namespace then abort
see javax swing table tablemodel iscelleditable \( int , int \)
object icon resourceloaderwrapper lookupicon \( s \) putvalue \( action name , translator localize \( s \) \) putvalue \( action small icon , icon \) set the tooltip string putvalue \( action short description , translator localize \( s \) \)
handling methods that does n't return
end class saxparserbase
it seems , there was no implementation of our current target language , so we just add one
the string code log4j configuration code is the same string found in link org apache log4j configuration default configuration file but if we use the reference , then log4j configures itself and clears the system property and we never know if it was set if it is set , then we let the static initializer in link argo perform the initialization
c gridy 0 c gridx 2 jlabel lowlabel new jlabel \( low \) gb setconstraints \( lowlabel , c \) mainpanel add \( lowlabel \)
create an instance of org w3c dom document
see org argouml application api progressmonitor notifymessage \( java lang string , java lang string , java lang string \)
see org argouml persistence saxparserbase iselementofinterest \( string \)
see org argouml uml ui actionadddiagram isvalidnamespace \( object \)
helper interfaces and methods
list add \( literalunlimitednatural \) when other ok
ommit root package name it 's the model 's root
end class crtoomanystates
try some guard iterator errors
is the name already in the list of those seen , if not add it and go on round
constructors
use left and right , up and down
end of profile section
this is null as until the first stereotype declaration is seen after that it is non null
do nothing
pack \( \)
see javax swing table tablemodel getvalueat \( int , int \)
build the final string
see javax swing action isenabled \( \)
\( massociationend \)
get the parent vector first
both ends must be classes , otherwise there is nothing to merge
by default the build already builds one default ep
calculate the higher and lower figs
rewrite it after change setexpression \?
this should not be needed if the above is correct , but let 's be sure
end class configurationfactory
constructor and singeton methods
make buttons
notation allows to add or modify things , not remove hence , this does nothing
this is explained by wfr 2 of a structuralfeature the type of a structuralfeature must be a class , datatype , or interface see org argouml uml ui umlcomboboxmodel isvalidelement \( object \)
needed for notification
set up the target and its model element variant
commonbehaviorfactory datatypesfactory extensionmechanismsfactory modelmanagementfactory
see javax swing jframe getjmenubar \( \)
restricting types for tagged values
check that the model correctly updates a goal 's priority
verify isrelevant is true
see javax swing tree treecellrenderer gettreecellrenderercomponent \( javax swing jtree , java lang object , boolean , boolean , boolean , int , boolean \)
apparently it had a getitemuid , but we 're not allowed to call it
calculate the minimum needed height for all the compartments
name
we initialize the coordinates
try creating a timeevent
see org argouml ui targetmanager targetlistener targetset \( org argouml ui targetmanager targetevent \)
by default we do n't show the attribute check box mark this object as a listener for the check box
commented out next piece to remove failure of testcase the testcase is probably correct but the implementation of detailspane is not pane gettabs \( \) setselectedcomponent \( docpane \) pane targetset \( e \) assertequals \( docpane , pane gettabs \( \) getselectedcomponent \( \) \)
clear out queues !
see org argouml uml ui umluserinterfacecontainer formatcollection \( java util iterator \)
see org argouml uml diagram ui figedgemodelelement updatelisteners \( java lang object \)
c gridx 1 c gridy 3 c gridheight gridbagconstraints remainder spacerpanel spacer2 new spacerpanel \( \) gb setconstraints \( spacer2 , c \) mainpanel add \( spacer2 \)
end class argojmenu
the stereotype width is the same as the cover , height is its default \( since the font is not yet set \) the text should be centered
see java awt datatransfer clipboardowner lostownership \( java awt datatransfer clipboard , java awt datatransfer transferable \)
end class cloperationcompartment
initialize font sizes list
see javax swing comboboxmodel setselecteditem \( java lang object \)
confirm with the user that he wants to delete , presenting the list of settings to delete
end class actionopenproject
show filechooser to select outputdirectory
retain the original one
if the id does not look like a top level fig then we can assume that this is an id of a figedgeport inside some figedge so extract the figedgeport from the figedge and return that as the fignode
number of goals should now be 1
needs to happen after initialization is done modules loaded
see targetlistener targetset \( targetevent \)
get the generic clarifier for this designer poster see org argouml cognitive poster getclarifier \( \)
iterate through the tabbed panels to determine whether they should be enabled
see org argouml model modelimplementation getcommonbehaviorhelper \( \)
see org argouml uml reveng importsettings getimportlevel \( \)
end class actionaddextensionpoint
see tudresden ocl parser analysis depthfirstadapter caseamultiplicativeexpressiontail \( tudresden ocl parser node amultiplicativeexpressiontail \)
see javax swing tree treemodel removetreemodellistener \( javax swing event treemodellistener \)
todo place comments near connected classes todo place from middle towards outer edges \? \( or place largest groups first \)
if a message has a name and a named operation and an empty script , then show the operation
todo partly overlaps croppendvsattr
generation preferences
the name of the umldiagram represented by this node has changed
see org argouml cognitive critics critic todoitem \( object , designer \)
end class crtoomanyattr
scopekind , visibilitykind , pseudostatekind , etc does n't include boolean though , despite what uml 1 4 spec says
one last check that some loaded
super implementation found a hit
make space for the clarifier for vertical symmetry margin between text and border
see org argouml cognitive critics critic isactive \( \)
add an arrow with an open arrow head
roll back transaction to remove any partial results read
use the configuration if it exists , otherwise use what gef thinks
see org argouml uml ui actionadddiagram creatediagram \( object \)
see org tigris gef presentation fig setbounds \( int , int , int , int \)
return 1 1 multiplicity for empty string
this one is still usable , so let 's retain it ,
see org argouml uml ui abstracttestactionadddiagram getvalidnamespaceclasses \( \)
create the uml connection of the given type between the given model elements default aggregation \( none \)
only set the name if the base was found
see org argouml persistence xmifilepersister issaveenabled \( \)
calling connect \( \) will add the edge to the graphmodel and any layerpersectives on that graphmodel will get a edgeadded event and will add an appropriate figedge \( determined by the graphedgerenderer \)
at least one stereotype is visible
if we 're trying to set the namespace to the existing value then do n't do any more work
for transition use indirection through target statevertex
boundary condition in gef , make sure this is less than , not equal
not visible any more so remove as listener
this changes the complete structure of the table , so we need to set the column widths again
see guisettingstabinterface handlesettingstabrefresh \( \)
start is a composite aggregation of end
regex pattern for xml declaration and , optionally , doctype backslashes are doubled up one for java , one for regex
only work for associatins
see junit framework testcase setup \( \)
mouselistener implementation
for a iterator call we should provide \( a \) the variables \( b \) the expression to be evaluated on each step \( c \) the lambda evaluator to evaluate it
see org argouml ui targetmanager targetlistener targetadded \( targetevent \)
gone in uml 2 x
see abstracttestactionadddiagram getvalidnamespaceclasses \( \)
system err println \( nullpointerexception ignored \)
chooser setselectedfile \( new file \( filename \) \)
we need to set a new notationprovider , since the notation language may have been changed
remove any elements not in requested namespace
create a new list to test the addall
for now just skip registering this and ignore the request , but the real issue is that magicdraw serializes the same object in two different composition associations , first in the referencing file and second in the referenced file
remove leftovers from other tests
make sure there is the minimum gap below the message being drawn
specifies valid elements for a use case to contain
remove the old project first it 's wasteful to create a temp empty project , but too much of argouml depends on having a current project
keystroke f7 keystroke getkeystroke \( keyevent vk f7 , 0 \)
create a new figtext instance based on the given mouse down event and the state of the parent editor
ca n't finish if our parent ca n't
set the lastmodified value
end class stylepanel
end is a shared aggregation of start
see org argouml uml ui abstracttestactionadddiagram getaction \( \)
set the child components to the heights in the array list calculating the height of any proportional component on the fly
see tudresden ocl parser analysis depthfirstadapter outaemptyfeaturecallparameters \( tudresden ocl parser node aemptyfeaturecallparameters \)
if we drop out here , there was no match and we have no problem
add them back to front
see org argouml uml diagram ui umldiagram getdependentelement \( \)
todo should there really be \( \) here \?
reset the pointindex
happens when 'is' comes from a zip file
actually return the figedge that the figedgeport is part of
although this only handles one level of package , it is ok for uml 1 4 because of clustering get the right uml package in the extent
todo get the list of extended settings from the current language importer and add those too
and a change event for that end
xmi 2 1
contains instances of each modelelement used for testing so that we only use each modelelement once
the critiquing thread should wait if disabled
is this item a copy \? see java lang object equals \( java lang object \)
have we handled uml2 here \?
see org argouml cognitive todolistlistener todoitemsadded \( org argouml cognitive todolistevent \)
test that the category and description are correct
see org tigris gef presentation fig getlinewidth \( \)
obey the contract ourselves !
handle itemuid in container contents
end class orcm
then any new buttons
link does not exist in uml2
see org argouml application events argogeneratoreventlistener generatoradded \( org argouml application events argogeneratorevent \)
add an invisible button to be used when everything is off
can not delete the model
invoke the parent constructor first
copy the todo items after the model and diagrams so that any model elements or figs that the todo items refer to will exist before creating critics
this makes dragging connected edges very smooth see org tigris gef presentation fig getclosestpoint \( java awt point \)
todo associationrole
perform recursive search of subtree rooted at 'node' , selecting all nodes which have a userobject matching one of our targets
see org argouml model changeablekind getaddonly \( \)
see org argouml model modelimplementation getstatemachinesfactory \( \)
see org argouml model modeleventpump addmodeleventlistener \( java beans propertychangelistener , java lang object \)
remove item
see tudresden ocl parser analysis depthfirstadapter casealogicalexpressiontail \( tudresden ocl parser node alogicalexpressiontail \)
treemodel implementation todo specific stuff
see org argouml uml diagram ui visibilitycontainer setvisibilityvisible \( boolean \)
see org argouml uml ui umlmodelelementlistmodel isvalidelement \( java lang object \)
inconclusive
\( mstatevertex \)
handle multiplicity here since we need the type actually the api of generator is buggy since to generate multiplicity correctly we need the attribute too
public methods
or self allconnections forall \( r self namespace allcontents excludes \( r participant \) implies self namespace clientdependency exists \( d d oclistypeof \( permission \) and d stereotype name 'access' and
a runtime exception that occurs when some internal test fails
see java util enumeration nextelement \( \)
our comparator will throw an invalidelementexception if the old list contains deleted elements \( eg after a new project is loaded \) so remove all the old contents first
projectbrowser exposes functionality , not components assertnotnull \( pb gettabprops \( \) \) assertnotnull \( pb getstatusbar \( \) \)
see java awt datatransfer transferable isdataflavorsupported \( java awt datatransfer dataflavor \)
see org argouml uml diagram static structure layout classdiagramnode calculateweight \( \)
check for more literals \( ' ' separated \)
limit our retries in case its too hard to get free
end class crdisambigstatename
see org argouml cognitive ui wizard cangonext \( \)
end class main
this makes the text not touch the text border line
yeah right we do n't have an operation \( and thus no
get features owned by those classifiers
see org argouml ui explorer treemodelumleventlistener modelelementremoved \( java lang object \)
see org argouml ui explorer rules perspectiverule getrulename \( \)
critic details panel
listen for a removeassociationevent between the comment and the annotated element when recieved delete the commentedge and this figedgenote see org argouml uml diagram ui figedgemodelelement modelchanged \( java beans propertychangeevent \)
unfortunately the fig and it 's associated commentedge will not be fully initialized yet here if we 're being loaded from a pgml file the remainder of the initialization will happen when set dest source fignode are called from pgmlstackparser attachedges \( \)
no text \? remove attr !
see org argouml model collaborationshelper getallclassifierroles \( java lang object \)
for a package pre 3 the operation allcontents results in a set containing the modelelements owned by or imported by the package or one of its ancestors allcontents set \( modelelement \) allcontents self contents union \( self parent allcontents select \( e e elementownership visibility public or e elementownership visibility protected \) \) where the required operations are defined as 1 the operation contents results in a set containing the modelelements owned by or imported by the package contents set \( modelelement \) contents self ownedelement union \( self importedelement \) 2 the operation allimportedelements results in a set containing the modelelements imported by the package or one of its parents allimportedelements set \( modelelement \) allimportedelements self importedelement union \( self parent oclastype \( package \) allimportedelements select \( re re elementimport visibility public or re elementimport visibility protected \) \) pre
set metaprofile as a default profile
see java awt event actionlistener actionperformed \( java awt event actionevent \)
nop
make the projectbrowser
and the stereotypes of its features
unsupported
try to find suffix in module list
ignored highly unlikely , and what would we do anyway \? log it
only refresh the tab if the bounds propertychange event arrives see org argouml ui stylepanel refresh \( java beans propertychangeevent \)
just move the corner to it 's new position
we move down or up the messages that are downward the broom
now we are sure dm is a state
resolvedcritic \( critic , listset \)
todo this does n't do anything special with keywords they should probably go first
got past the veto , add the member
end class splashpanel
a string of the form location this will be confused by the string , so we pick this out as an instruction to clear both name and location
see java awt dnd droptargetlistener drop \( java awt dnd droptargetdropevent \)
see targetlistener targetremoved \( targetevent \)
only for associations
instantiation not allowed
see org argouml uml reveng settingstypes booleanselection isselected \( \)
add the element to the diagram
figedgemodelelements should match here \( they have no bounds \)
create and start event pump first so it 's available for all others
delegate the re routing to graphmodels
todo probably really want to cancel editing \( \( figtexteditor \) focusowner \) cancelediting \( \)
set this to true on to enable debugging figs
log log \( level fine , result x \+ , \+ result y \+ theta \+ theta 180 math pi \+ dx \+ dx \+ dy \+ dy \)
although we register for notification of diagrams being deleted , we currently depend on the targetmanager to assign a new target when this happens when we implement mdi and have our own list of open diagrams we can ressurect the use of this
see org argouml uml reveng importsettingsinternal ischangedonlyselected \( \)
if default namespace is not already set
todo gone in uml 2
title because already done for optional
we preserve the current \( multiple \) selection , if we are over part of it
see org argouml persistence saxparserbase handlestartelement \( org argouml persistence xmlelement \)
end of interval
see org argouml model modeleventpump removemodeleventlistener \( java beans propertychangelistener , java lang object , java lang string \)
see org tigris gef presentation fig makeselection \( \)
see propertychangelistener propertychange \( propertychangeevent \)
same class , other operation
clean up after ourselves by deleting profile model
end class compositecm
bounds not relevant here , but i am perfectionist
uml model events
see org argouml uml reveng importsettings iscreatediagramsselected \( \)
mywriter ,
now create a new object
get the cell renderer \( which is a jlabel \) for the path being dragged
umlreserved add \( initial \) umlreserved add \( final \) umlreserved add \( fork \) umlreserved add \( join \) umlreserved add \( history \)
removed to workaround problems with autosplit ocleditor optionmask autosplit
if not found , try the parent namespace
unimplemented we only care about expanding
if there was no action yet , create a callaction
see org argouml model modelimplementation getmessagesort \( \)
if we 're setting a handler , enable the preferences menu item by calling com apple eawt application reflectively
as write in uml specification , we have size \( bodies \) size \( langs \) we must have tabvalues length 2 0
see org netbeans api xmi xmireferenceprovider getreference \( javax jmi reflect refobject \)
wfr transitions , omg uml 1 3
utility is a namespace collection also not strictly required to have operations
just change the name and linked signal
yes , there are more
start of interval
end class wizdescription
the boundary box as held in the target fig , and as listed in the boundary box style field \( null if we do n't have anything valid \)
add a todoitem
a string of the form name
or just the owner \?
see org argouml profile internal ocl modelinterpreter getbuiltinsymbol \( java lang string \)
cast the params
enter here go rules only relevant for uml 2 empty for now
see org argouml uml ui umlexpressionmodel2 getexpression \( \)
we update the activations
see javax swing filechooser filefilter accept \( java io file \)
see org argouml persistence abstractfilepersister getdesc \( \)
make sure this test happens on the awt event thread
see org argouml uml diagram ui umldiagram relocate \( java lang object \)
skip the \? xml first line
how to handle empty target lists \? probably the tabprops should only show an empty pane in that case
for andromda
handling the initialise method
see org tigris gef presentation fig classnameandbounds \( \)
ignored fixed rendering
the returnparameters
tests if enter is pressed in the bbodfield so we need to set the target bounds see java awt event keylistener keytyped \( java awt event keyevent \)
todo specifiedend \? \?
find the passed in container in validcontainmentmap
the text was frozen true
as extended by 4 6 2 2
initialize the checkliststatus
see java util collection removeall \( java util collection \)
first we decode the string
because we map both ends of an association we 'll see many names twice log log \( level fine , duplicate property name found 0 1 , new object typename , propertyname \)
the source of the transition is a choice
gef sets a different fig than the one that we had at construction time , so we need to set its color and width
create profile model
additional operation in 4 5 3 9
object args typename , elemname misc name element import imported 0 1 return translator localize \( misc name element import , args \)
see namespace pushnamespaceelement \( namespaceelement \)
see org argouml uml ui umlcheckbox buildmodel \( \)
let 's initialize the progressmgr
a list of valid connections between elements , the connection type first and then the elements to be connected
if we 're not provided a namespace then get it from the diagram or the root
overridden to make it possible to include a statevertex in a composite state see org tigris gef presentation fig setenclosingfig \( org tigris gef presentation fig \)
todo we do n't currently have any settings that can change on a per fig basis , so we can just use the project diagram defaults settings new diagramsettings \( rendersettings \)
firetreenodeschanged \( this , path , childindices , children \)
hide compartment
newfc content
if we 're using a fixed offset , just add it and return no collision detection is done in this case
remember the path being dragged \( because if it is being moved , we will have to delete it later \)
now we are sure dm is a statevertex
see java io inputstream read \( \)
hypotheses no time expression \( only invariants \)
end class crcomponentinstancewithoutclassifier
end class cremptypackage
end class stylepanelfigassociationclass
see javax swing table tablemodel getrowcount \( \)
add preloading progress bar \?
detach any edges \( such as comment edges \) already attached to the figassociation before the figassociation is removed they 'll later be re attached to the new fignodeassociation
we also show stereotypes
now read it and check the results
and add the gaps around the textfield to get the minimum size of the note
now force calculation of the bounds of the figure , update the edges and trigger anyone who 's listening to see if the bounds property has changed
check for all uppercase and or mixed with underscores
load project at slightly lower priority to keep ui responsive
if there is a selection on the clipboard
assert that the project 's model element that had a dependency to the metaprofile does n't get inconsistent
the fix
translate any old style sequence diagrams
pick out return type
todo exception has been removed for uml 2 x just return signal for now tfm
see org tigris gef presentation fig damage \( \)
check pre conds
constructor
this will contain the figs that we do not need anymore
fig accessors
end class projectmembermodel
todo this seems to be called at startup only so no check so far
remove trailing
if event source is unknown or the event source is the container 's target then update the field
check if we are using a supported java version
always put the model at the top
if the classifier does not have a name , then no problem the model is not finished anyhow
log log \( level fine , ocl \+ ocl \)
pushing this to the end of the awt thread seems to be the only way to get this to update correctly
create a dependency from the project 's model to the metaprofile
north
the layout manager would normally do this
intentional if there is nonsense in the field , we return false
see java beans vetoablechangelistener vetoablechange \( java beans propertychangeevent \)
datatype 4 5 3 12 1
see org argouml uml diagram ui fignodemodelelement getnotationprovidertype \( \)
check that the model was initialized with the unspecified goal
see java util collection retainall \( java util collection \)
give up and let superclass deal with it
retrieve an existing glasspane if old one already exist or create a new one , otherwise return null
param item the todo item param reason the reason todo use it ! return code true code if the argument was a component of this list code false code otherwise throws unresolvableexception unable to resolve
need to copy the lists since we will be moving the elements
list of objects note this methods which read write this do n't appear to be used
create new menu item if it does n't exist for this class
see org argouml profile internal ocl oclexpressionevaluator evaluate \( java util hashmap , org argouml profile internal ocl modelinterpreter , java lang string \)
tagvalue true
end class enabledcm
see org tigris gef util predicate predicate \( java lang object \)
diagrams are not placed in search results
called after the notation default property gets changed see java beans propertychangelistener propertychange \( java beans propertychangeevent \)
see java awt event mousemotionlistener mousemoved \( java awt event mouseevent \)
if there 's only a single child \( and we 're it 's only parent \) , set a hint for where to place it when we get to its row
why are we here \?
deactivate the glass pane capabilities
end class actionhelp
if our map has any entries for this type , it 's a connection type
else the empty s will do
do n't allow drag outside of bounds of diagram
continue and abort buttons
\( massociation \)
get the first existing fignode and if it exists set the y position and height of pers to be the same as it
the boundary box as held in the target fig , and as listed in the boundary box style field \( null if we do n't have anything valid \)
1 for 1 pixel overlap
see javax swing event treewillexpandlistener treewillcollapse \( javax swing event treeexpansionevent \)
enumerate constructors
fall back to gef 's handling if we could n't find an appropriate constructor
todo all of the following can be broken if we have multiple targets selected
use asize to build up the minimum size start with the size of the name compartment and build up
below for uml 1 4 compatibility
now let 's check if the new line is already present in the old list of internal transitions if it is , then mark the old one to be retained \( i e do not create a new one \) , if it is n't , continue with parsing
register for name changes , added extensionpoints and abstract makes the text italic all figs need to listen to remove , too
d supplier oclastype \( package \) allimportedelements select \( e e elementimport visibility public \) includes \( r participant \) \) \)
we want to maintain a minimum width for the fig also , add the border dimensions to the minimum space required for its contents
we must find out if the activator itself does not have message as it 's activator
see java util collection toarray \( java lang object \)
someone took our association away
create a new expression
end of sourcepathcontrollerimpl class definition
delete createactions which have this as their instantiation
replace all occurances of offender with the name of the first offender
parse the string to creat a new extension point
see org argouml uml reveng importcommon isdiagramlayoutselected \( \)
mustrefresh true
replace name
todo need named tags and constraints compartments here addfig \( tagsfig \) addfig \( constraintsfig \)
create an extent and read in our metamodel \( m2 model \)
create a new arg list with a different set of args \( but same types \)
log log \( level fine , adding resolution for \+ c getclass \( \) \+ \+ cancreate \)
fonts and colors should get updated automatically for contained figs
set up the property panels for collaboration diagrams
tablemodel implementation
the big port color of the big port is irrelevant
end of block
defer all work until we 're actually needed
this should n't be possible , but just in case
see javax swing tree treecellrenderer gettreecellrenderercomponent \( javax swing jtree , java lang object , boolean , boolean , boolean , int , boolean \)
do not set the name
strip all characters out of var s var that could not be part of a valid java identifier return either the given string \( if all characters were valid \) , or a new string with all invalid characters stripped out this allows automatic conversion of strings containing punctuation and spaces to a resource name that can be looked up
default parameter name
there was no elementresidence yet , so let 's create one
null elements represent new constraints , which will be added to the target the first time any actual editing takes place this is done to ensure syntactical correctness of constraints stored with the target
signalname
see org argouml uml diagram ui fignodemodelelement texteditstarted \( org tigris gef presentation figtext \)
name and params
this non editable field shows the version of the argouml that last saved this project
4 5 2 27 modelelement
alphabetic order !
see org argouml persistence abstractfilepersister issaveenabled \( \)
end class crclassmustbeabstract
place in the middle of the line and ensure the line is dashed add an arrow with an open arrow head remember that for an extends relationship , the arrow points to the base use case , but because of the way we draw it , that is still the destination end
getautocritique \( \)
for a collaboration pre 1 the operation allcontents results in the set of all modelelements contained in the collaboration together with those contained in the parents except those that have been specialized allcontents set \( modelelement \) allcontents self contents union \( self parent allcontents reject \( e self contents name include \( e name \) \) \) parent here is the generalizableelement definition pre
todo org argouml ui , org argouml cognitive ui , fails due to subpackages todo org argouml cognitive , org argouml cognitive critics ,
do nothing by design
the parameters
the interface realization will be created in the client namespace \( client is a namespace \)
see org argouml cognitive poster containsknowledgetype \( java lang string \)
see org argouml uml diagram ui figedgemodelelement getnamebounds \( \)
several tries to construct a url that really exists
all rules
end class stylepanelfigrrect
end class stylepanelfigusecase
see org argouml model umlhelper addlistenerstomodel \( java lang object \)
umlreserved add \( node \)
see javax swing table tablemodel getcolumnname \( int \)
south
do this if you want to prohibit dropping onto the drag source
if a message has a name and a named operation and a named script with parameters , then show the script
checkassignidtoobject \( figassociationrole , true , true \)
found no such attribute
see javax swing icon painticon \( java awt component , java awt graphics , int , int \)
javadoc reviewed above this point tfm
no type defined yet
ignored rendering is fixed
if center points are close enough we just adjust the endpoints of the line a little bit otherwise we add a jog in the middle to deal with the offset todo epsilon is currently fixed , but could probably be computed dynamically as 10 of the width of the narrowest figure or some other value which is visually not noticeable
now we construct the zig zag inheritance line getunderlyingfig \( \)
4 11 3 5 usecase
we cannot set the body of this model element type
recurse into ourself for each parent
end class actionaddmessage
20 sec
for an ellipse , we can put the box in the middle
remark the code in projectsettings init \( \) currently presumes that nobody is using this event
if the list does not exist add the code generation and good practices profiles as default
assuming the target is some model element
why \?
we have to do this to set the laf for the splash screen
if there are no owned elements then return empty list
find the compartment fig for this umlobject
the effect will get deleted automatically by mdr , unlike the guard
see org argouml uml diagram ui pathcontainer setpathvisible \( boolean \)
temporary start private static final color color array color red , color blue , color cyan , color yellow , color green private int nextcolor 0 temporary end
tablemodel implemetation
used by the copy functions do not call this function directly param source the stereotype to copy from param target the object becoming a copy
see org argouml cognitive poster stillvalid \( org argouml cognitive todoitem , org argouml cognitive designer \)
error warning messagearea
build a new extension point
redundantly add item again which should be ignored
4 5 2 29 node
enumerate the current children of node to find out which now sorts in different order , since these must be moved
catch all exceptions and errors , however severe
parse the string as if possible
see org argouml cognitive critics critic addsupporteddecision \( org argouml cognitive decision \)
object from a different file , register with superclass so it can resolve all references
should n't happen
see javax swing jcomponent paintcomponent \( java awt graphics \)
always select properties panel if defaulttoproperties is true , and if properties panel is appropriate for selected perspective
create transformer and do transformation
enabledcm isrelevant checks if the critic is enabled initialize this to true to verify isrelevant returns true
see org argouml uml reveng importsettings isminimisefigsselected \( \)
4 5 2 7 behavioralfeature
see org tigris gef graph basegraphmodel getowner \( java lang object \)
returns nothing
update the discriminator if it changed
end class crnameconflictac
we found the classifier , now go find the operation
a fig with a removed model element
todo changed from uml 1 4
there is a selection
see org argouml model abstractmodeleventpump removeclassmodeleventlistener \( java beans propertychangelistener , java lang object , java lang string \)
source source position destination destination position number of objects to be copied
todo signal receptions association not navigable in this direction
decision model listener
see org argouml model extensionmechanismshelper getstereotypes \( java lang object \)
see javax swing comboboxeditor setitem \( java lang object \)
ca n't do anything if we do n't have a fig
ignore mouse clicks
sets the value of an element s property \( tagged value \) this method makes sure that a collection of values is set if and only if the property is multivalued \( upper multiplicity value greater 1 \) , so passing a collection is safe see org argouml model extensionmechanismshelper setvalueoftag \( java lang object , java lang object , java lang object \)
cat debug \( bad decision \)
de selects the fig minimising layout if we are not creating diagrams
see org argouml uml cognitive critics wizmename doaction \( int \)
see java awt event windowlistener windowopened \( java awt event windowevent \)
if systemid is publicid previously mapped from a systemid , try to use the systemid
let 's build the comment first , unlinked
updates the button if the current row changes see javax swing event tablemodellistener tablechanged \( javax swing event tablemodelevent \)
boolean , string , integer , long , float , double , etc
add this to search list for i18n properties \( done for both modules localized property file sets \)
todo qualifiers \( e g , const \) todo stereotypes
a profile is a special package having the profile stereotype
see org argouml uml ui sourcepathcontroller getsourcepathsettings \( \)
otherwise if it 's not something we 've already read , just punt to the super class
avoiding null names
there is a bug in the version of mdr \( 20050711 \) that we use that causes it to fail to delete aggregate elements which are single valued and where the aggregate end is listed second in the association defined in the metamodel for the uml 1 4 metamodel , this affects a statemachine 's top statevertex and a transition 's guard see issue 4948 5227 tfm 20080713
removed item in last position
see org argouml uml ui umlmodelelementlistmodel2 buildpopup \( javax swing jpopupmenu , int \)
we found it !
user interface
specifies valid elements for a operation to contain
set bounds will be called from our superclass constructor before our constructor has run , so make sure this gets set up if needed
if a recursive call from setvisible \( \) , just return
end class crmulticomposite
skip any whitespace till we should be on a quote symbol
reuse change event
4 5 2 11 comment
only interrupt for one todoitem
toolbar boundary is the area between the menu and the status bar it contains the workarea at centre and the toolbar position north , south , east or west
fire all of the help events
build association build association between actor and top use case
fignodemodelelements should match here
but the collaboration diagram refuses to leave them out
see org argouml model modelimplementation getxmiwriter \( java lang object , java io writer , java lang string \)
specifies valid elements for a signal to contain
level 1 import detail
for each reordered node , find it 's new position among the current children and move it there
look for our specification
listen for the removal of diagrams from project
get the list opaqueexpression , literalstring ,
see tudresden ocl parser analysis depthfirstadapter outastringliteral \( tudresden ocl parser node astringliteral \)
bigport setfilled \( f \)
\? inform \( \)
see org argouml uml diagram ui fignodemodelelement clone \( \)
the keyword fig already exists
if the model repository does n't manage a di model then we must generate our figs by inspecting pgml
as write in uml specification , we have size \( bodies \) size \( langs \) we must have tabvalues length 2 0
the source was the referenced state that has got a new name
see java awt event mouselistener mouseclicked \( java awt event mouseevent \)
get the region as the first region in the state if there is no region in the statemachine then create one
do nothing
if we drop out there were no clashes
could not find model
the child is sometimes not found when the tree is being updated
create an anonymous class as a kind of adaptor for the cognitive system to provide proper translation i18n
mutators hold write lock will deadlock if use is not thread safe
no need to listen to these property changes the notationprovider takes care of this
usecase 4 11 3 5 1
todo the last argument \( recursive flag \) should be a selectable option
specialised icons for designer
do not set buildingmodel false here , otherwise the action for selection is performed
no related
do n't allow instantiation
see org argouml ui guisettingstabinterface handlesettingstabrefresh \( \)
custom button text
if the component is a jlabel which has another component assigned then position size the label and calculate the size of the registered component
copy the next value in the current
enumerate fields
c gridy 0 c gridx 0 jlabel prilabel new jlabel \( priority \) gb setconstraints \( prilabel , c \) mainpanel add \( prilabel \)
no else here to make sure associationclass goes ok
get the associationrole name
register the built in profiles
see org tigris gef presentation figedge setdestfignode \( org tigris gef presentation fignode \)
do nothing ! the next time we refresh , we will fetch the values again
constructor p todo correct \? param nodes the uml elements , typically classifiers , to generate param inmodel code true code if the path is in the model
if one or the other is null or they are not equal
param node see tudresden ocl parser analysis depthfirstadapter caseastandarddeclarator \( tudresden ocl parser node astandarddeclarator \)
new constraint , first time setdata is called
see org xml sax contenthandler endelement \( java lang string , java lang string , java lang string \)
see org argouml model modelimplementation getconcurrencykind \( \)
singleton , no instantiation
see javax swing plaf metal metaltheme getsecondary3 \( \)
no offenders
the initial x is the left side of the activation
remove last ,
background color
this is expected to be safe , do n't add a try block here
if action comes in with no modifiers , it is a pure keyboard event \( e g spacebar \) , so do it anything else is probably a mouse event , so ignore it mouse events are dealt with by mousepressed \( \) instead \( see bottom of page \)
return a package to use as the namespace
skip any identical items already on the list
note gef 's gif writer uses jeff poskanzer 's gif encoder , but that saves a copy of the entire image in an internal buffer before starting work , defeating the whole purpose of our incremental rendering
the list of namespaces to return
correct exception was thrown
empty constructor
todo this catch block needs to be narrower and do something with the caught exception tfm 20071120 ignore
see javax swing tree treemodel getindexofchild \( java lang object , java lang object \)
see java awt component getlocale \( \)
if the target has changed notify the third party listener if it exists and dispatch a new element event listener to ourself otherwise dispatch a target reasserted to ourself
although not represented in the ocl \( or our java \) , the english text of wfr 4 of section 2 10 3 4 in the uml 1 4 spec is more restrictive 4 a collaboration may only contain classifierroles and associationroles , the generalizations and the constraints between them , and actions used in the collaboration 's interactions
see org argouml uml ui umlcomboboxmodel2 buildmodellist \( \)
see org argouml uml diagram ui umldiagram setnamespace \( java lang object \)
buttonbox add \( box createrigidarea \( new dimension \( 0 , 20 \) \) \)
no need to check any further if we fail the 1st part
todo the following is carried over from setowner , but probably is n't needed renderingchanged \( \) it does the following \( add as needed \) updatenametext \( \) updatestereotypetext \( \) updatestereotypeicon \( \) updatebounds \( \) damage \( \)
transition
the target of description will always be set directly by tabtodo
see org argouml uml ui proppanel shouldbeenabled \( java lang object \)
apparently this object had no setitemuid
see org tigris gef base modecreatefigpoly createnewitem \( java awt event mouseevent , int , int \)
let 's load the default shortcut for every action
this is not a very useful transition
keep track of first non equal comparison to use in case the case insensitive comparisons all end up equal
compute the initial center position of the cr
verify the priority was correctly updated
handle the same as an explicit cancel
4 5 2 26 method
see org argouml uml cognitive critics cruml predicate2 \( java lang object , org argouml cognitive designer \)
end class oclexpander
clean up our model and the extent that we read profile in to
stylepanelfigclass relies on getpaneltarget \( \) to return a figcompartmentbox
see java awt dnd droptargetlistener dragenter \( java awt dnd droptargetdragevent \)
mmodelelement modelelement elementimport getmodelelement \( \)
this next argument may be used to switch off the generation of sequence numbers this is still to be implemented they are less desired in sequence diagrams , since they do not add any information in collaboration diagrams they are needed , and they are still optional in sequence diagrams
overridden to set argo specific renderinghints to determine whether or not antialiasing should be turned on see org tigris gef base editor paint \( java awt graphics \)
todo these should get replaced immediately by the creating initialization code , but make sure we 've got a default just in case
end is a composite aggregation of start
loads the project
see org argouml uml ui umlcomboboxmodel addelement \( java lang object \)
any type
setting the icon
todolistlistener implementation
quadrant ii iii
see javax swing comboboxeditor addactionlistener \( java awt event actionlistener \)
end class actionsaveprojectas
this updates the diagram hence as last statement
only show the menuitems if they make sense
if the control is a panel , add it
extend , include , usecaseinstance extensionpoint not implemented
extent ignored for euml2 implementation \( required for netbeans mdr \)
setenabled \( \( globals clipboard ! null ! globals clipboard isempty \( \) \) ! issystemclipboardempty \( \) \)
do nothing by design
autoscroll interface the following code was borrowed from the book java swing by robert eckstein , marc loy dave wood paperback 1221 pages 1 ed edition \( september 1998 \) o'reilly associates isbn 156592455x the relevant chapter of which can be found at http www oreilly com catalog jswing chapter dnd beta pdf
update any text , colors , fonts , etc
todo the following cleans up left overs from previous tests , but , preferably we should n't have to do this
see java util collection size \( \)
see javax swing icon painticon \( java awt component , java awt graphics , int , int \)
stop updating model when we 're not visible
select the new comment as target
see java awt window dispose \( \)
used by the copy functions do not call this function directly todo actions \? instances \? collaborations etc \? param source the source classifier param target the target classifier
set the i18n locale
queue to event thread to prevent race during close
register for internal transitions
if the target method returns a boolean , use that as a hint
adding same target again should not generate new events
interface
newly selected tab may have stale target info , so generate a new set target event for it to refresh it
load profile name
\( melementimport \)
method 1 \( collect data and assign later in endelement \( \) method \) hashtable string , string ht new hashtable string , string \( \) ht put \( classname , classname \) ht put \( figclassname , figclassname \) ht put \( ownerhref , ownerhref \) ht put \( angle , angle \) ht put \( offset , offset \) pathitemattrs add \( ht \)
constructor param me an object
the name of the meta type is the class name \( after the last \) and before the next or end of class name
in this case , either the container was not set , or it was not contained in a statemachine
let 's add the key printing logic
increase width to accommodate all tabs on one row
see org tigris gef persistence pgml pgmlstackparser setattrs \( org tigris gef presentation fig , org xml sax attributes \)
if not , it is a control and must be labeled
and its stereotypes
compare each following character to see that it matches the tag we want
test the removal of a goal
binary association
see tudresden ocl check types type2 navigateparameterizedquery \( java lang string , tudresden ocl check types type \)
this sets the linewidth of all in the group
select buttons
nif untruthtest \( model getfacade \( \) isamethod \( o \) , model getmetatypes \( \) getmethod \( \) \)
although usage permission are dependencies , they need to be include separately because of the way lookup works
see javax management notificationemitter removenotificationlistener \( javax management notificationlistener , javax management notificationfilter , java lang object \)
gone in uml 2 x just classifier now
allow null
end at an interface \? navigable other end \?
allow concatenation order and separator to be localized
see org argouml model visibilitykind getprotected \( \)
see org argouml ui explorer perspectivemanagerlistener addperspective \( java lang object \)
last is the top fig
the 1st region has an invisible divider line \( the box is always invisible \)
see org argouml uml reveng importsettingsinternal isdescendselected \( \)
rerouting the source
see org argouml uml ui umlcomboboxmodel isvalidelement \( object \)
see org xml sax entityresolver resolveentity \( java lang string , java lang string \)
remove with null item should remove all entries for key
missing wfrs
customized shortcut custom
iterate over all the associationends we only have a problem if 1 \) there is an end connected to an interface and 2 \) an end other than that end is navigable
enumerate methods enumerate method arguments
create a default profile and record its contents
all use cases and actors require associations hence all predicates evalulate to true
todo settings
create a change event for the corresponding property
reuse opaque , just set it 's attributes
we can distinguish between 4 cases 1 a trigger is given none exists yet 2 the trigger was present , and it is the same type , or a different type , and its text is changed , or the same 3 a trigger is not given none exists yet 4 the name of the trigger was present , but is removed the reaction in these cases should be 1 find the referred trigger \( issue 5988 \) or create a new one , and hook it to the transition 2 rename the trigger 3 nop 4 unhook and erase the existing trigger
the selected value may be to clear the represented classifier
project p projectmanager getmanager \( \) getcurrentproject \( \) collection elems modelmanagementhelper gethelper \( \) getallmodelelementsofkind \( mclassifier class \)
end class wiznavigable
if there are bits of an association class then remember their location and path
see org argouml model modelimplementation getfacade \( \)
see org argouml application api commandlineinterface docommand \( java lang string \)
even though this is not relevant for uml2 we have code calling this that expects it for uml1 4 and we must handle it gracefully
read past the colon
if this is the only message contained in the interaction we delete the interaction
none of the menu items below apply when multiple modelelements are selected
see javax swing table tablemodel getcolumncount \( \)
if the new edge implements the mouselistener interface it has to receive the mousereleased \( \) event
remove a node
set the icon for this poster
create the new fignodeassociation and locate it
if we 've found the module model , log it and place it in the map so we do n't have to find it if we need it again
see org argouml uml ui umlcomboboxmodel2 getselectedmodelelement \( \)
2 line width \? or extra padding \?
clean up our two models and the extent that we read profile in to
redrawmanager lock \( \)
the event source is the submachine state
cat debug \( note todoparser handlestarttag \+ e getname \( \) \)
allows me to ask do you want to save first \?
see org tigris gef base pathconv stuffpoint \( java awt point \)
4 5 2 31 parameter
c insets new insets \( 1 , 1 , 1 , 1 \)
a fig designed to be the child of some fignode or figedge to display the stereotypes of the model element represented by the parent fig currently , multiple stereotypes are shown stacked one on top of the other , each enclosed by guillemets p the minimum width of this fig is the largest minimum width of its child figs the minimum height of this fig is the total minimum height of its child figs p the owner of this fig is the uml element that is extended with the stereotypes we are listening to changes to the model addition and removal of stereotypes p this fig supports showing one keyword as the first stereotype in the list p there is no way to remove a keyword fig , once added p todo allow for uml2 style display where all stereotypes are displayed in the same guillemet pair and are delimited by commas the style should be changeable by calling getorientation \( orientation \) the swidget orientation class can be used for this author bob tarling
remove the first prefix because it may be an archive \( like magicdraw \)
try the predecessors
only adjust the stereotype height if we are not newly created this gets round the problem of loading classes with stereotypes defined , which have the height already including the stereotype
the next associationend
our wrapped version of the same error
if we made something aggregate , make sure the other ends conform to uml 1 4 wfr 2 5 3 1 2 no more than one aggregate end
now apply the changes to the model
see org tigris gef presentation fig setlinewidth \( int \)
see org argouml application api progressmonitor updatemaintask \( java lang string \)
activate the glass pane capabilities
list add \( literalinteger \) when other ok
let 's save this project in the mru list
note if we switch to a persistent repository like the b tree repository we 'll want to keep the old extent \( s \) around
if we were handed a classifier to start , this must be a classifier
see org argouml model modeleventpump addmodeleventlistener \( java beans propertychangelistener , java lang object , java lang string \)
see org omg uml diagraminterchange adiagramelementproperty add \( org omg uml diagraminterchange diagramelement , org omg uml diagraminterchange property \)
set up the property panels for deployment diagrams
if the y coordinate is before the classifier role y , we place the start in the corner of the fighead
called when the user has pressed save performs save in all tabs
simply use name as it is
targetlistener methods implemented so notified when selected diagram changes used to update the window title
now get the factory implementation method to be invoked
if this is not overridden it will revert to the old behavior all internal subclasses have been updated , but this if for compatibility of non argouml extensions
see javax swing table tablemodel getcolumnname \( int \)
the responsibility of determining if the given target is a correct one for this tab has been moved from the detailspane to the member tabs of the details pane reason for this is that the details pane is configurable and cannot know what 's the correct target for some tab
add the first point twice
we presume that the container equals this proppanel
see org argouml model modeleventpump removemodeleventlistener \( java beans propertychangelistener , java lang object , java lang string \)
see tudresden ocl check types type navigatequalified \( java lang string , tudresden ocl check types type \)
must be called after setimplementation
needed for project deletion
create the new figassociation edge to replace the node
this is safe because getname always returns a string of some type
real test
nif runtruthtest \( model getfacade \( \) isastructuralfeature \( o \) , model getmetatypes \( \) getstructuralfeature \( \) \) nif runtruthtest \( model getfacade \( \) isataggedvalue \( o \) , model getmetatypes \( \) gettaggedvalue \( \) \)
add them
the selected value may be to clear the represented operation
this works when running the test from within eclipse apparently eclipse runs the tests using a class loader that has the tests folder among the url s
no aggregation
new target is of type object , refresh should not be called
view menu
end class crtoomanytransitions
the report
get the association and its connections iterate over all the associationends and check that each connected classifier is in the same sub system or model
log log \( level info , configuration saved to 0 n , url \)
check for singleton stereotype , uninitialised instance variables and outgoing associations , as per javadoc above
flag the command as to whether it is first in a chain
the 2 component a textfield and a list
for those things which we 've already migrated to uml 2 x syntax we need to map them back to their uml 1 4 equivalents during the migration period
listen for name changes so we can veto them if we do n't like them
report a progress to the progressmonitor window see org argouml application api progressmonitor updateprogress \( int \)
access methods for program infrastructure
instance variables
nif runtruthtest \( model getfacade \( \) isainteraction \( o \) , model getfacade \( \) interaction \)
these settings are needed to make the progressmonitor pop up early
saveposition \( prptodo , tabtodo class \) saveposition \( prpproperties , tabprops class \) saveposition \( prpdocumentation , tabdocumentation class \) saveposition \( prpstyle , tabstyle class \) saveposition \( prpsource , tabsrc class \) saveposition \( prpconstraints , tabconstraints class \) saveposition \( prptaggedvalues , tabtaggedvalues class \)
file menu
types can probably have variables , but we should not nag at them not having any
try adding the extension from the chosen filter
see org argouml uml diagram ui figeditablecompartment getnotationtype \( \)
avoid our initialization here
now remove one target by setting subset
get the list of valid model item pairs for the given connection type
end class crunnavigableassoc
todo real numbers not yet supported assertequals \( defaultoclevaluator getinstance \( \) evaluate \( null , null , 1 5 \) , 1 5 \)
if the region is changed to another region then we make sure that a delete event is not fired as a result non nls 1
if it did n't have a loadable module class and it does n't look like a localized property set , warn the user that something funny is in their extension directory
nested class
there seems to be cases where we do n't erase the profile let 's make sure it is deleted
if is a classifier role , it must return all the related messages
a composite state contains at least one region
see org argouml uml ui umlcomboboxmodel isvalidelement \( java lang object \)
if this was an association then there will be relevant information to fetch out of the mode arguments if it not an association then these will be passed forward harmlessly as null
see org argouml ui abstractargojpanel spawn \( \)
return true if the given object is a valid edge in this graph see org tigris gef graph mutablegraphmodel canaddedge \( java lang object \)
see org argouml model umlhelper getdestination \( java lang object \)
cat debug \( bad goal \)
ignored this event
needed for initialisations
ending editing
get the points representing the poly line for our edge
see org tigris gef presentation fig setfilled \( boolean \)
and not association classes
do n't do it for comment
add a decision but set the critic priority to 0 so isrelevant should still be false
create a new empty project
no else here to make sure classifier with its double inheritance goes ok
not implementable in uml2 , because property is missing
classify nodes by base path
the introducing label
see javax swing comboboxeditor getitem \( \)
testing add a parameter to an operation on an interface does the interface fig adapt its width \?
we only look at singletons
and the parameter names and values
now resize all sub figs , including not displayed figs start by the name we override the getminimumsize if it is less than our view \( 21 pixels hardcoded ! \) add in the shared extra , plus in this case the correction
return arrays copyof \( selectedfiles , selectedfiles length \)
this will add a new modelelement event listener after update is complete
case 2
todo does this help \?
see javax swing table tablemodel iscelleditable \( int , int \)
create an image which will do deferred rendering of the gef diagram on demand as data is pulled from it
x 2 \+ y 2 r 2 \( equation of a circle \)
4 5 2 30 operation
tree nodes
see javax swing table tablemodel getcolumncount \( \)
used by the copy functions do not call this function directly todo template parameters , default type todo constraining elements todo flows , dependencies , comments , bindings , contexts \? \? \? todo contents , residences \? \? \? param source the source me param target the target me
c gridy 0 c gridx 3 jlabel twolabel new jlabel \( ad \) gb setconstraints \( twolabel , c \) mainpanel add \( twolabel \)
any swing work done here needs to be queued to the awt thread since we do n't know what thread our event will arrive on
fig spf null fig dpf null fignode sfn null fignode dfn null
todo gone from uml 2
\? line width \?
see org argouml uml ui abstractactionnavigate navigateto \( java lang object \)
if the object does not have a name , than no problem
if we found an old style name , update it to the new package name
umlreserved add \( copy \) umlreserved add \( create \)
only allow one load
text is short , tooltip is long
where there is more than one supplier or client , take the first element in each case there really ought to be a check that there are some here for safety
just quit
set up the property panels for use case diagrams
first argument component to associate the target with second argument droptargetlistener
init the sequence diagrams from the module
end class crmergeclasses
see java awt event itemlistener itemstatechanged \( java awt event itemevent \)
refresh the table when a critique is enabled disabled see java util observer update \( java util observable , java lang object \)
all of the applicationlistener methods are void return null regardless of what happens
4 5 2 3 association
disable the buttons for now , since no selection has been made yet
in uml2 x there is no metaclass named method , but we use the 'method' association of behavioralfeature
see javax swing tree treemodel getindexofchild \( java lang object , java lang object \)
output directory
add another child
initialize test data
manage changes of direction
we draw a cross
no action required in case of veto on setname
add the perspectives to a list for the combobox
only add mof elements , not primitive datatypes
end class
add the profile to the project configuration
handle other uses of private contents
see org argouml uml reveng importcommon isminimisefigschecked \( \)
4 5 2 12 component
fill with our background color
see org argouml application api progressmonitor setmaximumprogress \( int \)
end class actionexit
see targetlistener targetadded \( targetevent \)
see javax swing plaf metal metaltheme getcontroltextfont \( \)
profile section dealing with profiles in different states
remark there is also a java like notation , which is also part of argouml core distribution
constructors
specifies valid elements for an associationrole to contain
there are various details panes all of which could hold different tabs pages according to users settings place each pane in the required border area
see org argouml uml diagram state ui figstate getinitialwidth \( \)
cannot break here since an object can be multiple times in history
update the text labels see org argouml uml diagram ui fignodemodelelement modelchanged \( java beans propertychangeevent \)
the activitygraph
todo update setting
see org argouml uml reveng importcommon iscreatediagramschecked \( \)
create a body that reacts to double clicks and jumps to a diagram
uri persistencemanager getinstance \( \) fixuriextension \( theprojecturi \)
update all panes
register for events from all modelelements that change the name and body text i e when the callaction is replaced
the netbeans saxparser sets line number and column number to 1
delete interactioninstancesets where this is the last participatingstimulus
todo different critic for packages consisting only of references to elements of other packages \?
add
yellow
utility function to add a listener for a given property name and remember the registration param element element to listen for changes on param property name of property to listen for changes of see org argouml model modeleventpump addmodeleventlistener \( propertychangelistener , object , string \)
specifies valid elements for an objectflowstate to contain
do n't let a transient error kill the thread
only classes with name need a constructor
see org argouml uml diagram ui figedgemodelelement texteditstarted \( org tigris gef presentation figtext \)
get the splash screen up as early as possible
see org argouml profile profile getprofileidentifier \( \)
see org argouml ui targetmanager targetlistener targetset \( org argouml ui targetmanager targetevent \)
setup
actions for toolbar
see org tigris gef presentation fig deletefrommodel \( \)
see org argouml uml ui behavior state machines actionnewevent createevent \( java lang object \)
if the array has n't been flagged to indicate otherwise swap elements the elemnts and add again
see java awt event mousemotionlistener mousedragged \( java awt event mouseevent \)
set a custom laf
see javax swing tree treemodel valueforpathchanged \( javax swing tree treepath , java lang object \)
connect the message at a new spot
see org tigris gef ui istatusbar showstatus \( java lang string \)
deleting source here would probably delete the parameters
add field \( s \) to panel
the name of this type of modelelement
verify isrelevant is still false
in the next line , replacing makeemptyproject by getcurrentproject fails the test , except when run in eclipse mvw i have no idea why
notation events are fired on the swing event thread we assume that serializing on the final call is sufficient
create a change event for the associated property
initconstraintstab \( \) tabs addtab \( translator localize \( tab constraints \) , constraintstab \) tabs setenabledat \( 3 , false \)
see tudresden ocl parser analysis depthfirstadapter caseaclassifiercontext \( tudresden ocl parser node aclassifiercontext \)
private jcheckbox jchbbold null
and parse the parameter list
remains selected
main methods
todo why is there a space before the \( here , and not in case of the operation name \?
see java util collection remove \( java lang object \)
general icons for poster
see org argouml profile profilemanager lookforregisteredprofile \( java lang string \)
correct lazy initialization of static field without further updates
see javax swing listmodel getelementat \( int \)
see java beans propertychangelistener propertychange \( java beans propertychangeevent \)
see org tigris gef presentation fig setboundsimpl \( int , int , int , int \) override setbounds to keep shapes looking right
add stereotypes submenu
delete all sendactions which have this as signal
org argouml notation providers , fails because sub packages fail \( \? \) org argouml notation providers java , org argouml notation providers uml , org argouml notation , fails because sub packages fail \( \? \) org argouml notation ui ,
thresholds for bar color changes
discard the event if its source is not from the correct type
if the edge is near the bottom of the classifier roles , we enlarge all the figclassifierroles in the diagram
do nothing during the deprecation period , then it can be removed
set the storage id for our repository so that mofids will be unique \( they are composed as storageid serialnumber \) note the storage manager only looks for a few property names such as the storagefactoryclassname everything else needs to be prefixed with mdrstorageproperty which gets deleted from the property name before it and its associated value are copied to an internal property table separate from the system property table
create the tree of objects
if we 're about to upgrade the file lets take an archive of it first
see org argouml uml diagram ui umldiagram isrelocationallowed \( java lang object \)
message class , classifierrole class ,
get all classifiers in our model todo we need the property panels to have some reference to the project they belong to instead of using deprecated functionality
the model structure has changed significantly , eg a new project see org argouml ui explorer treemodelumleventlistener structurechanged \( \)
we have to give a message to user and set the system to unsaved !
see targetlistener targetadded \( targetevent \)
see org tigris gef graph graphedgerenderer getfigedgefor \( org tigris gef graph graphmodel , org tigris gef base layer , java lang object , java util map \)
get classifiers in namespace
boolean haspackages false todo move package in row to noderow
see javax swing plaf metal metaltheme getsecondary1 \( \)
see java lang throwable printstacktrace \( java io printwriter \)
there are one or more regions so find the one that the vertex was dropped in
see org argouml uml diagram ui abstractactioncheckboxmenuitem togglevalueoftarget \( java lang object \)
also define subprofiles
see javax swing plaf metal metaltheme getwindowtitlefont \( \)
see java awt event actionlistener actionperformed \( java awt event actionevent \)
test with a class and an inner class
protected methods
see org tigris gef presentation fignode isdragconnectable \( \)
just mark for rebuild next time since we use lazy loading
end class navigatorpane
handles all children of relationship including extend and include which are not members of core
the text was frozen
logger private static final logger log logger getlogger \( defaultoclevaluator class getname \( \) \)
the next one defaults to true , to stay compatible with older argouml versions that did not have this setting
log debug \( is a base or multiplicity \)
list of model element listeners we 've registered
end class clattributecompartment
delete button
the uml profile is always present and default
tabmodeltarget interface methods
see org tigris gef presentation fig getfillcolor \( \)
perform the action
verify isrelevant not is false
then generalizable element
todo else exception !
test with a class and class diagram
build the configpanel
end class actiongotocritique
extra care to be taken since allposters can be reset while this method is running
private static final stereotypeview stereotypeviewmap static stereotypeviewmap new stereotypeview 3 stereotypeview stereotypeviewmap diagramappearance stereotype view textual stereotypeview textual stereotypeviewmap diagramappearance stereotype view big icon stereotypeview big icon stereotypeviewmap diagramappearance stereotype view small icon stereotypeview small icon
end class todobyoffender
return all ports on node or edge see org tigris gef graph graphmodel getports \( java lang object \)
write any left over bytes in the input buffer \( perhaps from a partially decoded character \)
prevent hover timer from doing an unwanted expandpath or collapsepath
number of goals should now be 0
temporary until simplelistmodel is used for all
amount to increment y position by for each node placed we pack them densely on the assumption that the user is going to split them into at least two swimlanes
run through any stylesheet upgrades
edit menu
see org argouml uml util namespace namespace peeknamespaceelement \( \)
end of oclevaluator
transform to 0 2pi range if we 've gone all the way around circle
see javax swing jfilechooser cancelselection \( \)
see org argouml uml diagram ui figedgemodelelement updatelisteners \( java lang object , java lang object \)
init from config read number , write result as new default and prepare keys
end while loop
private constructor to enforce singleton
was
create all nessessary configuration keys for lru
avoid gef calcdrawingarea bug when nothing in a diagram
the text was frozen false
set timer to one shot mode
check that the names match
nsuml does this \( \? \) model getfacade \( \) setguard \( trans , g \)
see java beans propertychangelistener propertychange \( java beans propertychangeevent \)
also unapply subprofiles
this used to be deferred , but it 's only 30 40 msec of work
updating the radiobuttons container 's title
make sure the names did n't change again
rule for project root \( top level \) elements todo as currently implemented it returns all top level elements in the model repository , not just those in a given project since we only support a single project at a time currently , these are equivalent but this will need to be enhanced with additional bookkeeping in project when we support multiple open projects tfm todo i changed it to get the roots from the project it was showing the profiles that were loaded but were not applied to the current project maurelio1234 author tom morris tfmorris gmail com
see org argouml model modelimplementation getdatatypesfactory \( \)
disable the button since no row will be selected now
force the line width to 0 , since the figgroup that contains the stereotype may want to show a border , but we do n't
no body found
otherwise we ca n't finish
register popup menu with toolbar
use case
performs critique asap see java beans propertychangelistener propertychange \( java beans propertychangeevent \)
if we 're trying to load a file from a future version complain and refuse
these are a list of arrow types
end interface delayedvchangelistener
bounds not relevant here
this is a private method in model
set up a hover timer , so that a node will be automatically expanded or collapsed if the user lingers on it for more than a short time
if we 're setting a handler , enable the about menu item by calling com apple eawt application reflectively
see org argouml cognitive critics critic getwizardclass \( org argouml cognitive todoitem \)
try with statediagram
can not delete the profile
see java awt event keylistener keytyped \( java awt event keyevent \)
prevent e g associationclasses from being added trice
align submenu
todo assert modelelement ! null \? \? \?
specifies valid elements for an callstate to contain
see java lang throwable printstacktrace \( \)
access should be fast
do string compare of names of uml objects comparison is case insensitive using a primary strength collator in the user 's locale see java util comparator compare \( java lang object , java lang object \)
see javax swing listcellrenderer getlistcellrenderercomponent \( javax swing jlist , java lang object , int , boolean , boolean \)
use super because not fully init 'd
the only thing we need to deal with is updating is the condition text see org argouml uml diagram ui figedgemodelelement modelchanged \( java beans propertychangeevent \)
only allow binary associations
string title getui \( \) getdialogtitle \( this \)
see javax swing defaultlistmodel contains \( java lang object \)
just change the time expression
see org argouml model directionkind getinparameter \( \)
no title looks better
return struc getowner \( \) getnamespace \( \) getownedelement \( \) contains \( struc gettype \( \) \)
this also sets the target as a convenient side effect
we handle and consume editing events
event handlers
get the dest of the return message
default tab todo
notation events are likely to cause gef swing operations , so we dispatch them on the swing event thread as a convenience so that the receiving notationchanged \( \) methods do n't need to deal with it
update the priority of the critic to be the same priority as the decision
we also show the type \( of which e g the name may change \)
we have our own uml2 profile , but it is not used instead , by the following line the build in eclipse uml2 standard profile and primitive types implementation are used
load the project
see observable notifyobservers \( \)
our angle theta is arctan \( opposite adjacent \) because y increases going down the screen , positive angles are clockwise rather than counterclockwise
operations that work on elements
end class curdecisioncm
now create the five options
load user perspectives
center the namefig , since center justification does not seem to work
certain types of fixed text \( e g a figstereotype with a keyword \) may not have an owner
add the path of the model to the search path , so we can read dependent models
this is perfectly normal and happens among other things within the call to setdiagram \( below \)
see javax swing plaf metal metaltheme getsecondary2 \( \)
create the comment links and draw them
middle of shortcut
argument can be an instanceof a fig which we ignore
if moved into an package
namefig and stereotypefig are handled by parent
this is somewhat inconsistent with the design of the constructor that receives the root object by argument if this is okay then there may be no need for a constructor with that argument
end class modecreateassociation
start receiving all events and consume them if necessary
all text was stored in name field in uml 1 3
when running from maven
select prop panel if current panel is not appropriate for selected target
see java awt event keylistener keypressed \( java awt event keyevent \)
specifies valid actions
if the message has a name , but no action , then show the name
see org argouml model copyhelper copy \( java lang object , java lang object \) make a copy of element in the given namespace p this function is a dispatcher that calls the copyelement \( element , namespace \) function from xxxfactory p this function may fail and return null for any of the following reasons ol li no copy function is known for element 's type li the copy function fails or throws ol param anelement is the element to copy param ans the namespace return a copy of element , or null throws illegalargumentexception if element is null
empty implementation we only care about keytyped
eventlistenerlist add \( \) is synchronized , so we do n't need to synchronize ourselves
try guard iterator syntax
try changing the triggertype to changeevent
see org tigris gef graph mutablegraphmodel addedge \( java lang object \)
see org argouml ui stylepanelfig refresh \( \)
to be able to remove dep 's later
defer initialization until we 're visible
check if there is no ocl end if so , the critic expression is not correct and can not be expanded
the condition or iteration expression \( recurrence \)
register for events from the type
no content of diagram
todo comments are on element in uml 2 x
create file
on uniprocessors wait until we 're sure the splash screen has been painted so that we are n't competing for resources
returns the target of this tab see org argouml ui tabtarget gettarget \( \)
keep reading till we hit the argo tag
if doubleclicks
also parse 1 or 0 n etc
in uml2 subsystem is a component with subsystem stereotype so this must occur after the metatypes getcomponent \( \) case
additional operation 4 5 3 1 1
only show the path item when there is an owning namespace
see org argouml model pseudostatekind getshallowhistory \( \)
these are the positions of child figs inside this fig they must be added in the constructor in this order for now the name must not be last as this would force zero width lines \( until gef is fixed \)
make sure it 's parseable as an number
project events
put in the location field if it 's there
throw new illegalargumentexception \( property ' \+ attribute \+ ' does n't exist in metamodel \)
nothing else to do \( \? \)
firetreenodeschanged \( this , path , childindices , children \)
will always be null
param pc see org argouml profile profilemanager applyconfiguration \( org argouml kernel profileconfiguration \)
see org argouml model modelimplementation getcommonbehaviorfactory \( \)
not needed currently for uml 2
set up the property panels for statechart diagrams
set name
general
see org argouml model modelimplementation getumlfactory \( \)
add any remaining nodes
the property value has changed so rebuild our view see java beans propertychangelistener propertychange \( java beans propertychangeevent \)
see org argouml persistence saxparserbase handleendelement \( org argouml persistence xmlelement \)
for debugging you probably want either this or the logging for every event which is fired not both
place the edge on the layer and update the diagram
todo
case 3 4
if the event originated from the window w glass pane , consume the event
translate clip graphic to match region of interest
end class actionopendecisions
static variables
see org tigris gef base cmd undoit \( \)
see org argouml cognitive critics critic todoitem \( java lang object , org argouml cognitive designer \)
start testing stuff
since body ever looks at the type of the diagram appearance event , we can simplify from sending every existing event to one event only but since there is no catch all event defined , we just use one rationale reduce the number of total refreshes of the drawing
we hav n't found it add it
the expected exception is thrown
and 3rd , we adapt the model
link the new dependency in to the ends
get the assocations and connections no problem \( there is a separate critic \) if this is not a binary association or is an association role
access methods for the gui that the user uses to enable and disable modules
see org argouml uml cognitive critics umlwizard setsuggestion \( java lang string \)
west
return parsing java help attribute
remove the old fig from the diagram , so we can draw the new one in its place
create a generalizable element with an element without children
notsnoozedcm isrelevant checks if the critic is snoozed snooze the critic to verify isrelevant returns false
add displacement angle to slope
see java awt dnd droptargetlistener dropactionchanged \( java awt dnd droptargetdragevent \)
windowopen state will be changed when window is activated
4 5 2 5 associationend
try catch only the jarfile instantiation so we do n't accidentally mask anything in argojarclassloader or processjarfile
check if multiple items are selected
see javax swing table tablemodel iscelleditable \( int , int \)
todo factor out param rule the rule to be added
increase offset by increments until we 're clear
the project description
object args newvalue
put in the name field if it 's there
if the diagram is empty , gef wo n't write anything , leaving us with an empty \( and invalid \) file handle this case ourselves to prevent this from happening
propertypane tabprops
proxy methods for real umlmodelelementtaggedvalue
checkstyle off ignore too many parameters since api is fixed by mdr
override fignode implementation to keep setowner from getting called
see org argouml model modelimplementation getchangeablekind \( \)
comments
todo constraints ,
see org argouml uml ui umlcombobox umlcombobox \( umlcomboboxmodel , action , boolean \)
if we got back null we interpret this as meaning delete the reference to the extension point from the use case , otherwise we set the fields of the extension point to the values in newep
find the preceding message , if any , on either end of the association
see org argouml uml diagram layout layouter layout \( \)
add the profile stereotype to the class
todo add referencevalue for tagged values which have a non primitive type
at this stage during loading , the diagrams are not created yet so we have to store this name for later use
convert classname to refobject
level 0 import detail
see org omg uml diagraminterchange adiagramelementproperty exists \( org omg uml diagraminterchange diagramelement , org omg uml diagraminterchange property \)
segment size for computing slope
change to true to enable testing
see org argouml ui tabtarget shouldbeenabled \( java lang object \)
ask to be notified of any changes to tagdefinitions so that we can track new ones , name changes , etc
moperation
multiplicityelement is now an interface implemented by element types that support multiplicities tfm
see org tigris gef presentation fig setlayer \( org tigris gef base layer \)
make this change persistant
save project at slightly lower priority to keep ui responsive
see if we can copy a stereotype right off
eventlistenerlist remove \( \) is synchronized , so we do n't need to synchronize ourselves
create a new tagdefinition if none found
listen also to the association , of which the link is an instantiation , since we want to update the rendering when the association name changes see org argouml uml diagram ui figedgemodelelement updatelisteners \( java lang object , java lang object \)
4 5 2 18 elementownership
create popup tool if we have a single row
name \+ in \+ dname
maybe uml2 has these as constants somewhere
see javax swing tree treemodel getchildcount \( java lang object \)
todo this looks o \( n 2 \)
quick exit if it 's a transaction event \( we get a lot of them and they are all ignored \)
end our transaction
see org argouml uml diagram activity ui figactionstate getnotationprovidertype \( \)
see tudresden ocl check types type hasstate \( java lang string \)
mvw indeed the intention of the constructor parameter is to prove that there is a valid uml object to bind the notation to so , the next statement should fail on a null parameter , and on anything that is not an object of which we can retrieve the multiplicity
see org argouml uml cognitive critics umlwizard getnumsteps \( \)
see org argouml uml ui umlcomboboxmodel removeothermodeleventlisteners \( java lang object \)
set the minimum and preferred equal , so that the size is fixed for the labelledlayout
end class todobydecision
this populates the stereotypes area
copy previous element
cat debug \( checking for inhibitors \+ rc \)
4 5 2 1 abstraction
see org argouml uml ui umluserinterfacecomponent targetreasserted \( \)
only show actions for associations not already on diagram
let 's register for events from all modelelements that change the name or body text
let 's select the correct radio button
in uml2 , a td is a property of a stereotype in a profile
create a map of partitions keyed by x coordinate
use a different notation as messages on a collaboration diagram
see org argouml model abstractmodeleventpump removemodeleventlistener \( java beans propertychangelistener , java lang object , java lang string \)
see org argouml cognitive poster expand \( java lang string , listset \)
see org argouml model modelimplementation getdiagraminterchangemodel \( \)
4 5 2 10 classifier
add the non associationend edges \( such as comment edges \) that were originally attached to this and attach them to the new figassociation and make sure they are positioned correctly
test case for the above code draw a class create a stereotype for it by clicking on the prop panel tool , and name it remove the class from the diagram drag the class from the explorer on the diagram select the stereotype in the explorer , and change its name in the prop panel to something longer the longer name does not make the class fig wider unless the above code is added
end class actionaddattribute
see org argouml uml diagram ui umldiagram getumlactions \( \)
see org argouml profile internal ocl uml14 bag count \( java lang object \)
2002 07 31 jaap branderhorst from here made visibility etc configurable
\( \( umldiagram \) dia \) doesaccept \( dtde getsource \( \) \)
end class stylepanelfiginterface
for andromda profiles
navigable only want incoming
it is the combo for order
see javax swing event menulistener menuselected \( javax swing event menuevent \)
should we be getting this from the gui \? bt 11 aug 2002
manage if cursor x is less than lastx1
see org argouml model visibilitykind getpackage \( \)
see java awt event keylistener keyreleased \( java awt event keyevent \)
see org argouml uml util namespace namespace popnamespaceelement \( \)
make sure the file does n't exist so the user will get prompted to choose a new name
do we need to
issue resolutions
if the user has selected modeplace either by a diagram tool or addtodiagram then we do n't want to show the toolbelt items
see java awt component getsize \( \)
read xsltstream into a temporary file get url for temp file openstream from url and wrap in streamsource
this only happens if model change events arrive before we are completely constructed
inputsource xformedinput chainedtransform \( transformfiles , pis \)
verify snoozeorder starts off not snoozed
there is one fig more in the group than \( stereotypes \+ keyword \)
see org argouml model modeleventpump addclassmodeleventlistener \( java beans propertychangelistener , java lang object , java lang string \)
if a preferred height is not given or is the same as the minimum height then fix the height of this row
end class crcrossnamespaceassoc
see org argouml model umlhelper deletecollection \( java util collection \)
see java awt event focuslistener focusgained \( java awt event focusevent \)
note we assume members are ordered correctly already
end class crnoinitialstate
here it is another object sent to the test
eliminates right mouse clicks as valid actions
put all the bits together , suppressing bounds calculations until we 're all done for efficiency
see org argouml cognitive poster getclarifier \( \)
em warning when changing the implementation of this method be warned that the sequence of the if then else tree does matter em most notably , do not move the setnamespace method any level up in the tree p
see org argouml uml ui umlcombobox2 umlcombobox2 \( umlcomboboxmodel2 , action , boolean \)
consider the property multiplicity
add settings from the settings registry
does nothing
copy raised signals
check param types only some connections are legal uml connections
get the size of the text field
subsystem has been removed from uml 2 x
upgrade is in the way for uml2 projects , so we turn it off in that case
now lets search
here the actions to divide a region
see org argouml ui explorer weakexplorernode subsumes \( java lang object \)
an error that can be corrected by the user , so no stack trace , but instead an explanation and a hint how to fix
for java notation , we also need to listen to leaf changes , since they are shown as final on the diagram
specifies valid elements for an subactivitystate to contain
simply create 3 usecases and an actor in a package with individual names
see org netbeans lib jmi xmi xmicontext getreference \( java lang string , java lang string \)
we need to verify that ns is a package , if not find its parent package ! otherwise this causes an exception when creating a sequence diagram for a classifierrole
test if the given namespace is a valid namespace to add the diagram to todo this method was created to facilitate the merge of this class with actionadddiagram param ns the namespace to check return returns code true code if valid
probably redundant just in case
and hook it to the transition immediately , so that an exception can not cause it to remain dangling
see tudresden ocl parser analysis depthfirstadapter caseaifexpression \( tudresden ocl parser node aifexpression \)
add the element and place it in the namespace of the model
rub out the last ghost image and cue line
additional operations in 4 5 3 25
see java io filefilter accept \( java io file \)
initialize the goalmodel
copy returned parameters because it will be a live collection for mdr
java is the default module for historical reasons , but it 's not required to be there
overridden purely to keep our superclass from removing the listener that we just added see org argouml uml diagram ui figedgemodelelement updatelisteners \( java lang object , java lang object \)
size should be 0 since item was removed
layerperspective layer diagramutils getactivediagram \( \) getlayer \( \)
too bad , we choose to take the first value
see javax management notificationbroadcaster addnotificationlistener \( javax management notificationlistener , javax management notificationfilter , java lang object \)
see org argouml model directionkind getreturnparameter \( \)
all states in the old reference state 's path are deleted as listeners
make sure the contents match what we expect
we only take the filename , not the whole system path
we are getting events we do n't want filter them out
removed from uml 2 x and deprecated in model api so we wo n't implement it throw new notimplementedexception \( \) we do not throw an exception because argouml still uses this
make sure the component width is n't any greater than its maximum allowed width
see org argouml uml diagram ui abstractactionradiomenuitem togglevalueoftarget \( java lang object \)
can finish if it 's step 0
constants
for performance , we check if this is a selfmessage if it is , we have just updated the activations
get all the features \( giving up if there are none \) then loop through finding all operations each time we find one , we compare its signature with all previous \( held in collection operseen \) , and then if it does n't match add it to the collection
if any of the values are null , ignore the element
usecase 4 11 3 5 3
ca n't remove the last file
prepare for typing in rationale field when window is opened see java awt component setvisible \( boolean \)
this enables direct text editing for sub figs of a figgroup object
construct a checkitem
notifications and updates
see java io inputstream close \( \)
the user wants to hide them
sort the x coordinates into order
this call seems not very robust yet to determine cause
remove duplicates and take care of getowner \( \) and remove nulls
the text will be set later
let 's call the real save method
we do nothing no call to the parent
text fig to hold the include label
these 3 steps are only needed for the 2 cases indicated with a x below
the actionexpression
for some reason , this alleged directory is a single file this could be that there is some confusion or just the normal , that a single file was selected and is supposed to be imported
note although wfr 3 in section 2 11 3 5 usecase of the uml 1 4 spec says a usecase cannot contain any classifiers , the ocl is actually self contents isempty which would seem to imply it ca n't contain any elements tfm 20060416
see javax swing table tablemodel getcolumnclass \( int \)
see org argouml uml diagram layout layouter getminimumdiagramsize \( \)
see javax swing event menulistener menudeselected \( javax swing event menuevent \)
see org argouml uml cognitive critics cruml getcriticizedmetatypes \( \)
ignore if the directory does not exist this error will throw when running from the ant setup
in is the default
in this case , the bounds \( of the box \) are determined by the figclassassociationclass
see org argouml uml ui umlexpressionmodel2 setexpression \( java lang object \)
arbitrary settings not used used for testing
see javax swing abstractlistmodel fireintervalremoved \( object , int , int \)
behavioral feature 4 5 3 5 2
add a new entry in the list and select it translator localize \( button add \) \+
the following is a possible future improvement of the modelchanged \( \) function michiel propose not to do this to keep architecture stable
some arbitrary bounds and settings unused in test
find selected rows and make a list of the model elements that are selected
currently this is in this try block as it does not work propertypanel always has size 0 , 0
see org argouml uml ui abstractactionaddmodelelement getdialogtitle \( \)
see getvalue \( \) , setvalue \( \)
click on the already selected value must not call setvalue
todo gennavigableclasses \?
parameter etc
setting the tooltip to type and name
otherwise add the diagram at the start
see javax swing action getvalue \( java lang string \)
add grandchild
return
set the bounds of the bigport and cover
now we are sure dm is a composite state
operations that work on classes of objects
sb append \( \( string \) model getfacade \( \) getbody \( c \) \)
todo should this not be an assert \?
jasonsthemes
construct an exception with a message and a causing exception param message the message param c the cause of the exception public xmireferenceexception \( string message , throwable c \) super \( message , c \)
tabresults has really large preferred height , so divide in half to reduce size of dialog which will be sized based on this preferred size
process the final list of internal transitions , and hook it to the state
20 height of name fig \?
this instead of the label \? \? \? displaypane setborder \( new titledborder \( translator localize \( display \) \) \)
namespace 4 5 3 26 2
build all other elements using existing buildnode
listeners
see org tigris gef graph mutablegraphmodel canconnect \( java lang object , java lang object \)
see org argouml uml ui umlcombobox2 umlcombobox2 \( umlcomboboxmodel , action \)
log log \( level fine , getdata returning raster \+ translatedraster \)
write out something for us to read back in
this shortcut was already been assigned to another action let 's pop up a message for the user
see java awt event actionlistener actionperformed \( java awt event actionevent \)
in any case draw \( over the ghost image if necessary \) a cue line indicating where a drop will occur
let our superclass sort itself out first
end class todotreerenderer
see org argouml uml diagram ui fignodemodelelement addenclosedfig \( org tigris gef presentation fig \)
see java lang object hashcode \( \)
verify the items were correctly added
if there are more than one suitable operation , then we pick the first one
end class crmultipleagg
suggest that actors may not connect \( see javadoc comment about this \)
get the model elements that are being transfered
i e eventtype notification remove
parse the boundary box text null is returned if it is empty or invalid , which causes no change otherwise we tell gef we are making a change , make the change and tell gef we 've finished
add a listener for changes to any property
if a message has a name and a named operation and an expression with no script , then show the operation
log log \( level fine , final point \+ count \+ \+ result \+ offset of \+ scaledoffset \)
see org argouml uml ui umlmodelelementlistmodel2 removeothermodeleventlisteners \( java lang object \)
see java lang object hashcode \( \) this is a rather bad hash solution but with the link equals \( object \) defined as below , it is not possible to do better
set the priority to a different value
the creation of the actual gui elements is deferred until they are actually needed otherwize we have problems with the initialization
not \? \? \?
just completed the first step where we make our choices first see if we have a choice we always should , so print a rude message if we do n't
found a concrete subclass
see java awt event componentlistener componentshown \( java awt event componentevent \)
continue with null stream , readdiagram \( \) will take care of it
mclassifiers cannot be bag
see org argouml notation providers notationprovider getparsinghelp \( \)
fetch the key before going in synchronized mode
if the line angle is less than 3 degrees then snap the line straight
sets the mouse cursor to hourglass mode
the text element has no border , so the line color does n't matter
see org argouml kernel delayedvchangelistener delayedvetoablechange \( java beans propertychangeevent \)
create a new diagram wide settings block which is backed by the project wide defaults that we were passed
public static decision decisionuncategorized new decision \( uncategorized , 1 \)
see org argouml kernel abstractprojectmember gettype \( \)
otherwise create a new classdiagram for the package
todo all the todos in the docopyfoo methods below are inherited from the nsuml implementation and do not reflect new issues one additional thing which does need to be dealt with is the copying of any attributes which have been added since this code was implemented for uml 1 3
this rectangle marks the operation section all operations are inside it
crazy numbering scheme at work here here 's how the handle numbers are laid out values 0 7 are defined by gef and go left to right , top to bottom \( ie not clockwise or counterclockwise \) values 10 14 zigzag north , south , west , east , southwest if you can correctly guess where 15 will go , you should buy a lottery ticket immediately pre 10 0 1 2 12 3 4 13 14 5 6 7 11 pre
see org argouml persistence memberfilepersister save \( org argouml kernel projectmember , java io outputstream \)
actionlistener implementation
handling the isinitiated method
see org argouml model modelimplementation getmodeleventpump \( \)
see org argouml uml util namespace namespace isempty \( \)
tabs setminimumsize \( new dimension \( 300 , 250 \) \)
clean up index entries
see java util list lastindexof \( java lang object \)
verify the size of the list
redrawmanager unlock \( \) redrawer repairdamage \( \)
skip leading underscores
upper lower case
see org argouml model modeleventpump stoppumpingevents \( \)
ignore w and h from here on
if we are the source of a return action the activation ends here
in case someone turns it on
the 2 radios have only one information
usage differs from uml1
now put the text in we must handle the case where the text is null
c gridy 0 c gridx 6 jlabel highlabel new jlabel \( high \) gb setconstraints \( highlabel , c \) mainpanel add \( highlabel \)
make sure it is n't caching anything that should be written
see org argouml uml ui umlexpressionmodel2 newexpression \( \)
this should n't happen , because of our line segment size check
create a diagram this 4 arg version is only for internal use the 'namespace' argument is deprecated and not used in the new apis
the new submachine container is added as listener
non nls 1 non nls 1 make sure we have a recognized file extension non nls 1
\( mcompositestate \)
note these must stay in this order to match rendering styles
set up
if the user double clicks on any part of this fignode , pass it down to one of the internal figs this allows the user to initiate direct text editing see java awt event mouselistener mouseclicked \( java awt event mouseevent \)
it would be better if we did n't need the container to get the target this constructor can have zero parameters as soon as we improve targetchanged
see org argouml model pseudostatekind getinitial \( \)
cat debug \( added todoitem \+ headline \)
filter out all unchanged files
if method not supported ignore failure
we do n't need this hashmap anymore so free up the memory
list classes getcandidates \( \) return classes size \( \) 0
target has been deleted
see org argouml cognitive todolistlistener todolistchanged \( org argouml cognitive todolistevent \)
project setfile \( file \)
see javax swing event documentlistener removeupdate \( javax swing event documentevent \)
distribute submenu
the user 's email
if location is non null , convert to a rectangle that we can use
see org argouml cognitive ui wizard getnumsteps \( \)
see if there 's a pair in this list that match the given model elements
timer action method periodically update our stats and force a repaint
todo use per project undo manager , not global
lookup primary key , creating new entry if needed
handle visibility
used by pgml tee
if there is no dot then this must be a top level fig and can be assumed to be a fignode
then c is a normal classifier uml states
convert from bytes back to characters
see org tigris gef presentation fig calcbounds \( \)
let 's change the target
4 make sure all fignodes and figedges have an owner the report
and find the fig
allow listening to other elements addothermodeleventlisteners \( listtarget \)
class variables
types can probably contain operations , but we should not nag at them not having any
see org argouml uml diagram ui fignodemodelelement updatelisteners \( java lang object , java lang object \)
todo quick return here for target null \? tfm
we also want to match with the right bracket of the tag or some other terminator
and finally , adjust the scrollbars to show the fig
transparent cyan
resize the fignode to accommodate the new text
see targetlistener targetset \( targetevent \)
the width needs to be the height
gridbagconstraints gridbagconstraints3 new gridbagconstraints \( \) gridbagconstraints3 gridx 2 gridbagconstraints3 anchor gridbagconstraints northwest gridbagconstraints3 insets new insets \( 5 , 5 , 0 , 0 \) gridbagconstraints3 gridy 3 gridbagconstraints gridbagconstraints2 new gridbagconstraints \( \) gridbagconstraints2 gridx 0 gridbagconstraints2 anchor gridbagconstraints northwest gridbagconstraints2 insets new insets \( 5 , 5 , 0 , 0 \) gridbagconstraints2 gridy 3
return all edges going to given port see org tigris gef graph graphmodel getinedges \( java lang object \)
log debug \( result \+ node1 \+ this \+ , node2 \+ node \)
equal
the new size can not be smaller than the minimum
see java lang object hashcode \( \) this will result in rather bad performance but at least we will not violate the contract together with link equals \( object \)
see java util list listiterator \( int \)
retain the previous project file even when the save operation crashes in the middle also create a backup file after saving
if no variable name was given , then retain the one in the model
user feedback
end class wizstep
read the name of the child tag and then reset read position back to that child tag
generate button
see org argouml model modelimplementation getcorefactory \( \)
only association end has an aggregation option box
implements the source path controller note if requested in the future this could be returned from the language modules todo update this to use the uml 1 4 tagdefinition mechanism instead of uml 1 3 string type tag types the tagdefinition can be made more specific so that it just applies to components with a sourcemodule stereotype or something similar tfm author euluis since 0 17 1
load modules specified by a system property modules specified by a system property is for running modules from within eclipse and running from java web start
see org argouml application events argonotationeventlistener notationadded \( org argouml application events argonotationevent \)
great ! the class already existed just use it
partitions are composite elements and will get deleted implicitly partition contents do n't need to be deleted or checked
find the bases of the connected classifierroles so that we can see what associations are between them if there are bases then the associations between those bases form the possible bases otherwise the bases are formed by all associations in the namespace of the collaboration
this throws org argouml model xmiexception unknown element in xmi file model because the uml 1 3 1 4 converter can only handle xmi 1 0 , not 1 1
compute the final center position of the cr
actionsequence class
we want at least some of the package body to be displayed
get the next non return parameter null if non left
generate menu
need to update the selection state
element will normally be null when called from pgml parser it will get it 's source destination set later in attachedges
todo do we need to clone the stereotype \( s \) \?
note although it 's not shown in the uml 1 4 spec , a templateargument appears to be a datavalue \( like multiplicityrange \) and can not be reused in multiple instances the uml diagrams do n't show it as a composition , but it effectively is
see org argouml model commonbehaviorhelper getsource \( java lang object \)
make sure everything created gets deleted
and now add listeners to them all
see java util collection contains \( java lang object \)
setblinkports \( false \) make port invisble unless mouse enters
make sure save action is always reinstated
marker interface only
added by eric lefevre 13 mar 1999 we must check if the figtext for attributes is drawn before drawing things over it
see java io inputstream read \( byte , int , int \)
see if we can copy an interface right off
getters for plugin modules
ignored we only care about open closing
only set the name if it differs from the text
elements are collated first by name hoping for a quick solution
get localised strings once only
see tudresden ocl parser analysis depthfirstadapter caseaunaryunaryexpression \( tudresden ocl parser node aunaryunaryexpression \)
search all attributes found to those expected if any do n't match then turn off the found flag so that we search for the next matching tag
end gef methods
log log \( level fine , ocl feature call \+ subject \+ \+ type \+ \+ feature \+ \+ parameters \)
throw new illegalargumentexception \( \)
set the name so that superclasses can find the newly created element in the model , if necessary
process the listeners last to first , notifying those that are interested in this event
new style importers do n't create diagrams , so we 'll do it based on the list of newelements that they created
load a project which contains links to it
see org argouml ui clarifier settodoitem \( org argouml cognitive todoitem \)
see org tigris swidgets dialog namebuttons \( \)
constructor
let 's load the current shortcut from the configuration \( as a string \)
set initial sorting on critic headline
create an event for the other end of the association
4 6 2 3 stereotype
get the contents of the directory
no further listeners required in this case the rest is handled by the notationprovider and sub figs
see java awt event mouselistener mouseexited \( java awt event mouseevent \)
for all other model elements , return any elements associated in any way
see javax swing event documentlistener insertupdate \( javax swing event documentevent \)
end interface guisettingstabinterface
discard class name , x y w h
copy package p1 into p2 package
default diagram settings
ignore any nested exceptions we do n't want infinite loop
calculate the insets for the jtree , not the viewport the tree is in this makes it a bit messy see java awt dnd autoscroll getautoscrollinsets \( \)
save our old boundaries \( needed later \) , and get minimum size info asize will be used to maintain a running calculation of our size at various points
to circumvent too many registered listeners
see javax swing event changelistener statechanged \( javax swing event changeevent \)
includes the the seq expr from the header javadoc the is not included in number it is always present
add messages from caught exceptions
end class wizstepcue
event related stuff
todo this is using the default platform character encoding specifying an encoding will produce more predictable results
this one should work except java is not registered by default asserttrue \( settings setnotationlanguage \( java \) \) assertequals \( java , settings getnotationlanguage \( \) \)
end class cralreadyrealizes
see org argouml uml diagram state ui figstatevertex initnotationproviders \( java lang object \)
testmc should now have an itemuid so we should be able to create without adding a new itemuid
throw new notimplementedexception \( this is not a uml2 element \) non nls 1
4 5 2 20 enumerationliteral
see org argouml model corehelper clearstereotypes \( java lang object \)
add the height of all the compartments \( if there are any \) , and check their minimum width
test passed
inittagvalstab \( \) tabs addtab \( translator localize \( dialog find tab tagged values \) , tagvalstab \) tabs setenabledat \( 2 , false \)
only specified format are allowed
when this is called from pgmlstackparser attachedges , we finished the initialization of owning pseudo element \( commentedge \)
pce \( propertychangeevent \) rxdevent getsource \( \) asserttrue \( wrong event name , pce getpropertyname \( \) equals \( diagramappearance key default shadow width getkey \( \) \) \) string value \( string \) pce getoldvalue \( \) int i integer parseint \( value \) asserttrue \( wrong old event value , i 4 \) asserttrue \( wrong new event value , \( \( string \) pce getnewvalue \( \) \) equals \( 2 \) \)
just no item added in this case
this test is a bit stupid , but nevertheless
see org argouml cognitive todolistlistener todoitemschanged \( org argouml cognitive todolistevent \)
4 5 2 21 feature
no non whitechars in text \? remove attr !
graphmodel implementation
lets redraw the box
scale everything up
if save did not raise an exception and name \+ exists move name \+ to name \+ this is the correct backup file
see javax swing table tablemodel getvalueat \( int , int \)
for use cases we need to check for extend includes actors cannot have them , so no need to check
if the model url has a suffix of ' zip' or ' jar' , get the suffix without it and store it in the urlmap
use asize to build up the minimum size start with the size of the name fig and build up
if wizclass is not a subclass of wizard , print a warning
see org argouml notation providers notationprovider updatelistener \( java beans propertychangelistener , java lang object , java beans propertychangeevent \)
it 's a time event now , but was of another type before !
not implemented in mdr
see java awt component getminimumsize \( \) sets minimum size to 120 , 100
ca n't delete last top level model
maybe we have a modelelement that is part of some other fig
hence , a diagram name was saved in the project that we are loading so , we use this name to retrieve any matching diagram
there was a comment saying that the below has no cycles , but classycle thinks there 's a cycle here too , so i believe there really is one tfm 20070702 org argouml uml cognitive critics ,
let 's create a class with the given name , otherwise the user will not understand why we refuse his input !
ignore if the directory does not exist this error will throw when running from the eclipse setup
verify the copied package
give up if the assocation ends do n't have a type defined
if the destination is a datatype , then abort
delete attributelinks where this is the attribute
copy next element
see org argouml ui targetmanager targetlistener targetremoved \( org argouml ui targetmanager targetevent \)
if we have a model but no list then build the list with preferred constructor eventually all lists should be built this way
if a drag image is not supported by the platform , then draw my own drag image
let 's reload the shortcuts
since there is no way to compare the objects as equal , we have to search through the list at this point
end rungc actionperformed \( \)
get the source of the return message
modifier menu placed one before last , so the properties entry is always last
ca n't be done in the general case of federated repositories , but at least get what we can find for the current resource set
else nothing changed
verify the size of the new list
set the icon
see javax swing text document remove \( int , int \)
we have to follow the arrows
override setbounds to keep shapes looking right see org tigris gef presentation fig setboundsimpl \( int , int , int , int \)
generate all the existing internal transitions , so that we can compare them as text with the newly entered ones
give up if we are already on the graph this is a bit inconistent with canaddnode above
if there was no diagram at all , then use the \( first \) uml model
since there are no buttons on this panel , we have to set the size of the buttonpanel , otherwise the title would not be aligned right
mutablegraphmodel implementation
a fig with a null owner
do nothing
compute our deltas
delete extends which have this as their only extensionpoint
we have an edge \( the uml modelelement ! \)
all strings collate before all uml elements
this method can be called only if there 's a valid selection so go ahead and remove whatever 's selected
the text the user has filled in the textfield is first checked to see if it 's a valid multiplicity if so then that is the multiplicity to be set if not the input is rejected
see org argouml persistence progresslistener progress \( org argouml persistence progressevent \)
collect the to be removed stereotypes
self allconnections forall \( ar ar participant self \)
the workarea is all the visible space except the menu , toolbar and status bar workarea is laid out as a bordersplitpane where the various components that make up the argo application can be positioned
if there is an attribute which is not static no problem
just swap order of arguments to get to new form
all other types of elements must be in this namespace
see org tigris gef presentation fig propertychange \( java beans propertychangeevent \)
the figpoly is located at the right of the name text the namefig size is increased , so that it fits its text , and the figpoly next to the text , all within the boundaries of the namefig
see org argouml model directionkind getoutparameter \( \)
allow listening to other elements removeothermodeleventlisteners \( listtarget \)
and fields at the right
the parsed text describes a change event , but the model contains another type !
get all \( uml \) metaclasses
see java lang object finalize \( \)
see org tigris gef presentation fig getenclosingfig \( \)
see org tigris gef graph mutablegraphmodel addnoderelatededges \( java lang object \)
set the appropriate aggregation on each end
build the activity diagram
standard uml 1 4 profile
new initprofilesubsystem \( \) init \( \)
let 's enable the radiobuttons container
case 3
set editor 's model
do not create a constraint
these are blue in metal default theme
delete all existing entries
there are no regions so create one and place the vertex there
now we can remove ourself \( which will also remove the attached association ends edges \)
name stereotypes get updated by superclass
class preloading , so packages are there
register with the save action with other subsystems so that any changes in those subsystems will enable the save button menu item etc
see org argouml cognitive critics critic todoitem \( java lang object , org argouml cognitive designer \)
adds all stereotypes defined at the profiles applied to the current namespace
in uml a message could have an action in uml2 it never does
if it has no language , then we assume it is not an instance of opaqueexpression , so we leave it null and handle elsewhere
the last one needs extra space below it
4 5 2 39 templateparameter
add it to the operation 's methods
todo values
and now asize has the answer
add target listeners for details panes
see org argouml uml diagram ui fignodemodelelement updatelisteners \( java lang object \)
see java awt event actionlistener actionperformed \( java awt event actionevent \)
see org argouml kernel delayedvchangelistener delayedvetoablechange \( java beans propertychangeevent \)
do n't try to test this if we 're removing the element
fig related todo items
x first getx \( \) y first gety \( \)
allow listening to other elements
todo lets pass in project as a constructor argument
link the new extend relationship in to the ends remember we draw from the extension use case to the base use case
change the fill colour
greater
only look at classes
accessor methods
non nls n
split constraint body , if user wants us to
make up a default
attributelink class
must add an editable list of new explorerperspective 's to the list model so that the original ones are not changed in the case of a cancel action by the user
critiquing
remove bases that are n't there anymore
keep track of which events fired
setblinkports \( false \) make port invisible unless mouse enters
remove the ones already selected \( if a perspective is selected \)
make port invisible unless mouse enters
additional operations in 4 5 3 26
see java awt event actionlistener actionperformed \( actionevent \)
prevent triggering too many events by setname \( \)
if we do n't have it , find the trigger if this fails it will keep its default value of null
in uml2 , some elements are not to be shown
targets remove \( target \)
end class figassociation
tree structure
see org argouml model extensionmechanismshelper getcommontaggedvaluetypes \( \)
set the name and icon
todo localize
throws propertyvetoexception
commentedge the owner of a figedgenote
see org argouml cognitive poster supports \( org argouml cognitive decision \)
todo we should be able to just call renderingchanged on the child figs here instead of doing an updateoperations
see org tigris gef graph graphnoderenderer getfignodefor \( org tigris gef graph graphmodel , org tigris gef base layer , java lang object , java util map \)
open space at gridy 2
see javax swing listmodel getsize \( \)
the argouml version with which this project was last saved
current shortcut default default
see java awt event componentlistener componentmoved \( java awt event componentevent \)
to be able to remove dependencies later
override superclass to do nothing fill property cannot be changed
create the layer
calculate the source and dest figs for to self assoc
collect the current set of objects that should be children to this node
and remember where we are about to draw the new ghost image
get the elements
final object scope ,
copy in memory the current
end class crzerolengthedge
and hook in the new ones
set the tooltip string
copy all the features
see java awt dnd droptargetlistener dragexit \( java awt dnd droptargetevent \)
see org argouml application events argonotationeventlistener notationprovideradded \( org argouml application events argonotationevent \)
uml1 4 only
see org argouml cognitive critics controlmech isrelevant \( org argouml cognitive critics critic , org argouml cognitive designer \)
the action still has the argument from above
figure out which row we 're on
owner related todo items
next statement is necessary to update the textfield if the selection is equal to what was allready selected
\( 2 \) construct another checkitem
this test calls todolist addelement which requires the model we are able to get away with using the mock model
copy ca n't iterate modify live collection while iterating it
the show types defaults to true , to stay compatible with older argouml versions that did not have this setting
see org tigris gef presentation fig hit \( java awt rectangle \)
a deployment diagram shows something about the whole model according to the uml spec , but we rely on the caller to enforce that if desired
not true in general , but should be true for our test models
see javax swing comboboxmodel setselecteditem \( java lang object \)
count limit
if we still do n't have a mofclass , something 's wrong
name updating
this needs to be a concrete metatype , so we ca n't use the general , but abstract , classifier replace with its concrete subtypes
heuristic algorithm do not show stereotypes if there is no name
see org argouml uml diagram layout layoutededge layout \( \)
change the line colour
see javax swing tree treenode isleaf \( \)
see if the other copy was just a lucky shot
see org omg uml diagraminterchange adiagramelementproperty getproperty \( org omg uml diagraminterchange diagramelement \)
create the graph model
we can not remove this and have the application manage things directly based on the font , since only the names should be bold
this will include all subtypes registered
see org argouml model scopekind getclassifier \( \)
if element has been deleted , it 's no longer valid
all tests should consider the threshold as inclusive value
see org argouml uml cognitive critics cruml predicate2 \( java lang object , org argouml cognitive designer \)
remember the system id of our root document so that we can write out profiles and linked models to a different file if requested
see org tigris gef graph graphnoderenderer getfignodefor \( org tigris gef graph graphmodel , org tigris gef base layer , java lang object , java util map \)
see org argouml application api progressmonitor iscanceled \( \)
this can throw an exception if the target has been deleted we do n't want to try locking the repository because this is called from the event delivery thread and could cause a deadlock instead catch the exception and leave the model empty
tree value isselected \( dont want a colored background \) isexpanded isleaf row \( not important for rendering \) hasfocus \( dont want a focus rectangle \)
it can still be null if the uml element did not have a multiplicity defined
reencode the remaining characters as bytes again
do nothing , this rect will always be transparent
event handlers mouselistener implementation
reverse order
see org argouml cognitive checklist checkitem expand \( java lang string , java lang object \)
aggregation
see org argouml uml diagram ui figsinglelinetext removefromdiagram \( \)
todo gone in uml 2 1 it is now an instancespecification with an association as its classifier
eclipse uml2 implementation classes often start with uml non nls 1
fire all of the profile events
see org argouml ui guisettingstabinterface gettabkey \( \)
keep d even or odd , just like the line width
notationproviderfactory2 getinstance \( \) addnotationprovider \( 1234 , name , mynp class \) notationprovider notationprovider notationproviderfactory2 getinstance \( \) getnotationprovider \( 1234 , new object \( \) \) asserttrue \( test notation provider for 1234 not found , notationprovider ! null \)
if we get a 2nd error , just ignore it
test remaining form of removebaseclass
diagram appearance settings with project scope
something was added nothing for us to worry about
not supported for this target
see javax swing event menulistener menucanceled \( javax swing event menuevent \)
get all classifiers in all top level packages of all profiles
check that the tag definition is returned by link umltagdefinitioncomboboxmodel getapplicabletagdefinitions \( object \)
repair any errors in the project
adding same targets list again should not generate new events
we are sure dest is a namespace now
object getimportingnamespace \( object element \)
cp1252 is often the default , but windows 1252 is the name listed by charset availablecharsets
button action
assert that the copy is n't modified when the source changes
here we located the new classifier with its operation
2 reposition and resize nodes
we have the path provided from the build script
the source of an association end should not be the classifier if it is the user has drawn the wrong way round so we swap here
specifies valid elements for an actionstate to contain
fire all of the notation events
mmodelelement
implements java io serialization
a link is an assocation in uml2 x
if the euml resources system property is defined then we are in a stand alone application , else we 're in an eclipse plug in the euml resource should contain the path to the org eclipse uml2 uml resource jar plugin non nls 1
the xerces saxparser sets line number and column number to 1
the renderer should be a singleton
system err println \( nullpointerexception ignored \)
mark this as newly created this is to get round the problem with creating figs for loaded comments that had stereotypes they are saved with their dimensions including the stereotype , but since we pretend the stereotype is not visible , we add height the first time we render such a comment this is a complete fudge , and really we ought to address how comment objects with stereotypes are saved but that will be hard work
set bounds of big box
todo no links in uml 2
the state name
may only occur as child of the model or in a package
case 1
initialize the model and profile subsystems to simulate a fresh argouml session
see org argouml uml diagram ui umldiagram propertychange \( java beans propertychangeevent \)
if the source of the event is an uml object , then the uml model has been changed
keyevent isactionkey \( \) method
uml 1 4
a parameterized class can only be the client of a single binding
add a listener to focus changes rationale reset the undo manager to start a new chain
see org argouml uml diagram ui umldiagram getlabelname \( \)
now , we link it to the modelelements which are represented by fignode
reuse time event
if laf is metal \( either set explicitly , or as the default \)
get model listeners removed
we must have a project open before continuing create if necessary
see java awt event windowlistener windowclosing \( java awt event windowevent \)
the next associationend , and its classifier check the classifier is in the namespace of the association if not we have a problem
see org argouml uml diagram ui figedgemodelelement textedited \( org tigris gef presentation figtext \)
accumulate a bounding box for all the figs in the group
end copy actionperformed \( \)
and the arguments
todo constraints todo required tags
this should not be necessary , but let 's be sure
update the model , and then notify
see tudresden ocl parser analysis depthfirstadapter caseaexpressionlistorrange \( tudresden ocl parser node aexpressionlistorrange \)
do nothing these buttons are not shown
the method
we want to maintain a minimum size for the partition
do n't listen to all property names we only need to listen to its type , and remove
we pass our drag image just in case it is supported by the platform
see targetlistener targetadded \( targetevent \)
d supplier oclastype \( namespace \) ownedelement select \( e e elementownership visibility public \) includes \( r participant \) or
load of the new project just reuse of the actionopen object
guaranteed to return a non null array
event handlers
see java awt dnd droptargetlistener dropactionchanged \( java awt dnd droptargetdragevent \)
see org argouml model umlhelper getsource \( java lang object \)
removed stereotype
throw out any previous elements that were enclosed but are not a concurrent region let 's move them onto the first region
lazily create the event
see javax swing filechooser filefilter getdescription \( \)
target may appear multiple places in the tree , so we do n't stop here \( but it 's expensive to search the whole tree \) tfm 20070904 targets remove \( t \) break
the default nr of rows is 8 , but since we have 9 perspectives by default now , setting to 9 is nicer
called during teardown
see org argouml cognitive ui wizard canfinish \( \)
things are strange if there are more than one candidate root , it has no obvious interpretation in terms of a call tree
see org argouml ui targetmanager targetlistener targetset \( org argouml ui targetmanager targetevent \)
we presume the stream is encoded using the default char encoding
if there is a 3rd column then this represents a connection of between 2 different types of element
save first
internal methods
delete stimuli which have this as a sender or receiver
readonly class no generalization , no association to self
split \( split null split isstandalone \( \) \) \? node split
cut down on debugging noise
setup a user defined profile which is n't loaded by the model subsystem and contains a stereotype and this contains a tag definition
translate any sequence diagrams create with any previous svn work in progress
usecaseinstance , gone in uml 2 x unused by argouml
create a proxy object around this handler that can be reflectively added as an apple applicationlistener
top of the hierarchy is me
see org argouml cognitive critic getcriticizeddesignmaterials \( \)
make the edge go between nearest points
expected illegalargumentexception seen
4 make sure the only figgroups on a diagram are also fignodes the report
first read the argo file from zip
if there are no subkeys , register using our special value to indicate that this is a primary key only registration
should never get here if we do , return the inner point
we are not interested in the name
attempt to save this project under a new name
specifies valid elements for a classifier to contain
trash related methods
otherwise we select the item below the mousepointer
the special value code null code is used internally to indicate that the default value should be inherited from the next level of settings
removed from uml 2 x
create a class model element
private utility routine to work out the \( positive \) x coordinate of a point on an oval , given the radii and y coordinate p todo use this to calculate the separator lines ! param a radius in x direction param b radius in y direction param y y coordinate return positive x coordinate for the given y coordinate
the node 's been placed on the diagram
enter the class to speed up the next search
the following test can cause trouble with links , because links are accepted as directories , even if they link files links could also result in infinite loops for this reason we do n't do this traversing recursively
correct the activator value
default 0 opaqueexpression set to 1 for test
if dm is the top state of the statemachine , then it is not supposed to have incoming transitions
determine if metatype is a valid element for container
\( mtransition \)
save profile
see org argouml model modelimplementation getpseudostatekind \( \)
todo this should be the name of the designer that created the todoitem , not the current username !
we actually are computing max x max y , not width height
defer work until fetched visible
p new umlvaluespecificationpanel \( model , propertyname \)
see org tigris gef presentation figedge setsourcefignode \( org tigris gef presentation fignode \)
keep nagging until the user solves the problem this seems a nice way to nag
update our model with our saved target
on a headless system \( without display \) this will crash
select the current type in the combobox
this enables tooltips for tree this one wo n't be shown
recursively place all nodes pointed to by outgoing transitions because of the recursive algorithm multiple outgoing transitions will end up very lopsided because one entire subgraph will be done before dealing with the other transition \( s \) param seen set of nodes seen so far param node the node to collect neighbors for
see javax swing table tablemodel getrowcount \( \)
see org tigris gef presentation fig setenclosingfig \( org tigris gef presentation fig \)
see org tigris gef base diagram initialize \( java lang object \)
constants instance variables
this enforces the following well formedness rule p well formedness rule 4 12 3 1 compositestate 4 there have to be at least two composite substates in a concurrent composite state p if this is broken by deletion of substate then we change the parent composite substate to be not concurrent
tree is created depth first , so this should be at the bottom
if we find an instance variable that is not a constant we have succeeded
todo
this would be solution \( 1 \) model getextensionmechanismshelper \( \) setdatavalues \( taggedvalue , new string false \)
select the correct diagram \( implicitly creates it \)
see org argouml ui targetmanager targetlistener targetadded \( targetevent \)
accessors
set properties of the stereotype box initially not set to be displayed , but this will be changed when we try to render it , if we find we have a stereotype
labels at the left
target might not have been initialised yet
build extend these parameters seem to be in correct order add an extend we do not need an assoc on the extending use case
see java awt dnd dragsourcelistener dropactionchanged \( java awt dnd dragsourcedragevent \)
nothing yet later maybe something like
add the action to the component
dm is a transition
see org argouml cognitive critics critic initwizard \( org argouml cognitive ui wizard \)
we must call the correct method on targetmanager for each added or removed target
a , a are offenders
special case for backward compatibility
next statement gives us a clone jgraph but not a cloned toolbar
a fig with a null layer
for a namespace pre 2 the operation allcontents results in a set containing all modelelements contained by the namespace allcontents set \( modelelement \) allcontents self contents where contents self ownedelement union \( self namespace , contents \) pre p
if the y coordinate is inside the head , the x must be in the border of the headfig
first verify that the set goal priority did not add an extra goal
convert the string \( e g aaa , bbb , ccc \) into separate stereotype names \( e g aaa , bbb , ccc \)
see java awt event mouselistener mousepressed \( java awt event mouseevent \)
if a message has a name and a named operation and a script with parameters but without name , then show the operation name
begin andromda code
todo not exact , but close
see java util list add \( int , java lang object \)
the part after the is for when there 's nothing between the \( \)
this should work now that they both have names
remove the user defined profile and the directory where it is
ignored we just skipped inserting it in our document
argument class
the following check should have been satisfied before we instantiated the module , but double check again
makes sure that the edges stick to the outline of the fig see org tigris gef presentation fig getgravitypoints \( \)
set the name
history thehistory additemresolution \( item , no longer valid \) \( \( todoitem \) item \) resolve \( no longer valid \) notifyobservers \( removeelement , item \)
it is safe to give a null to the next function , since a statemachine is always composed by a model anyhow
if the given object is a keystroke instance , then we ca
the source of the transition is a pseudostate
once one criticism is found , exit
verify the copied class
now decide if the row is at the top of the screen or at the bottom we do this to make the previous row \( or the next row \) visible as appropriate if were at the absolute top or bottom , just return the first or last row respectively
private eventlistenerlist listenerlist new eventlistenerlist \( \)
see org argouml uml ui umlcomboboxmodel2 propertychange \( java beans propertychangeevent \)
some cached fonts based on the above settings
see javax swing text document getlength \( \)
association class 4 5 3 2 1
oops we already have the body
methods that implement the vetoablechangelistener interface
top , left , bottom , right
reuse call event
search the classpath
see org tigris gef presentation fig setlinecolor \( java awt color \)
figedge showhelp \( role getparsinghelp \( \) \) role settext \( \)
loop through the associations , counting the ends with aggregations
see org argouml cognitive critics critic initwizard \( org argouml cognitive ui wizard \)
both ends must be navigable , otherwise there is nothing to merge
make buttons layout
set up reader to be first filter in chain
added to the arrow type for navigable
make sure this setting exists in the configuration file to facilitate changing
handle remove for non uml elements \( e g diagrams \)
this does n't support i18n or multiple states , but it 's just a default
specifies valid elements for an actor to contain
see java lang runnable run \( \)
log log \( level fine , slope \+ theta math pi \+ pi \+ theta math pi 180 0 \)
testing with more than one , since it failed with a manual test i made
treemodel implementation
panel for controls
set up hide all show all
the namespace of the activitygraph is changed !
listen to the modelelement itself
an association can only have a single unnamed classifierrole , so
copy the current in the previous
see org argouml model modeleventpump startpumpingevents \( \)
so , let 's do it the hard way
create filter for each style sheet and chain to previous filter reader
abstractions are represented in the inheritance node
make the composite state 1 region higher
if the user has selected modeplace either by a diagram tool or addtodiagram then we do n't want to show the clarifiers
see java io filefilter accept \( java io file \)
hiding one compartment means that the fig returns to minimal dimensions
unnamed \+
todo if a namespace with sub classdiagrams is deleted , then confirmstr \+ translator localize \( optionpane remove from model will remove subdiagram \) doask true
see org argouml uml ui umluserinterfacecontainer formatnamespace \( java lang object \)
events
we also show tagged values \( the for derived \)
get the ends from the association \( we know there are two \) , and the types associated with them
4 5 2 38 templateargument
apparently it had a setitemuid , but we 're not allowed to call it
guard against error conditions if climb search was n't successful
make lists
class to display graphics for a uml objectflowstate in a diagram p the fig of this modelelement may either represent the following umlelements p \( 1 \) an objectflowstate with a classifier as type , or p \( 2 \) an objectflowstate with a classifierinstate as type p in both cases \( 1 \) and \( 2 \) , the fig shows the underlined name of the classifier , and in the latter case \( 2 \) , it shows also the names of the states of the classifierinstate p in the examples in the uml standard , this is written like pre purchaseorder approved pre i e in 2 lines the first line is underlined , to indicate that it is an instance \( object \) p the fact that the first line is underlined , and the 2nd not , is the reason to implement them in 2 separate figs p todo allow stereotypes to be shown author mvw
see java awt event actionlistener actionperformed \( java awt event actionevent \)
or vice versa \?
see org argouml model modelimplementation getactivitygraphsfactory \( \)
see tudresden ocl parser analysis depthfirstadapter casealiteralcollection \( tudresden ocl parser node aliteralcollection \)
change prefix
jaap branderhorst 2002 23 09 added next lines to link parameters and operations to the figs that represent them
the keyword fig does not exist yet let 's create one
save the project into a new file
this is needed for the case when the default notation is not loaded at this point
the old selection
tablemodel implementation
end class startcritics
end class crcircularinheritance
see org argouml uml ui umlcomboboxmodel2 isvalidelement \( java lang object \)
the drag gesture recognizer fires events in response to drag gestures in a component
generalizations are not required to have unique names within a namespace
construct bases string \( comma separated \)
note no longer a separate type in uml 2 1
procede with the deletion in the model
c gridy 0 c gridx 4 jlabel threelabel new jlabel \( asd \) gb setconstraints \( threelabel , c \) mainpanel add \( threelabel \)
todo double check tfm
case 1 after \( \)
frank in case of exception delete name and mv name \+ back to name if name \+ exists this is the rollback to old file
apparently this object had no getuuid
event handlers
verifications
see org argouml uml ui umlradiobuttonpanel buildmodel \( \)
check if there are new elements in the list if the old and new list are of the same size set the oldtargets to the correct selection
should be element not eobject really
usecase 4 11 3 5 4
add edges for a 2 pass r e process we might have already added the class but not its edges
see org argouml model modelimplementation getextensionmechanismsfactory \( \)
add stereotypes
clear the ghost image
remember what handle was clicked for the case where the drag is released over empty space
todo since there may be multiple top level elements in a project , this should be using the default namespace \( currently undefined \) or something similar
everything fine
need to copy the lists since we will be moving the elements one by one
necessary since gef contains some errors regarding the hit subject see org tigris gef presentation fig hit \( rectangle \)
select an index
the next 3 restrictions for abstraction seem to be argo specific not something the uml spec requires tfm 20070215 there is no need for these because they ar n't used by buildconnection \( \) b00 1 abstraction class , org eclipse uml2 uml class class , org eclipse uml2 uml class class , null , , abstraction class , org eclipse uml2 uml package class , org eclipse uml2 uml package class , null , , abstraction class , component class , interface class , null , ,
this calls the getters to fetch actions even though the action variables are defined is instances of this class this is because any number of action getters could have been overridden in a descendant and it is the action from that overridden method that should be returned in the array
resize the text figure
end interface poster
convenience methods to return saved width and height values
remove the commentedge if there are more then one comment edges between the 2 objects , then delete them all
end class crsingletonviolatedonlyprivateconstructors
see org argouml model modelimplementation getorderingkind \( \)
try some predecessor errors
initialize the module loader at least the plug ins that provide profiles need to be initialized before the project is loaded , because some of these profile may have been set as default profiles and need to be applied to the project as soon as it has been created or loaded the first instance of a project is needed during the gui initialization
go the other way to lookup an element by path
testing does not fire
see org argouml uml cognitive critics cruml getcriticizeddesignmaterials \( \)
note for uml2 the aggregation ends are swapped
new target is of type umlclassdiagram , refresh should not be called
see tudresden ocl parser analysis depthfirstadapter caseaconstraint \( tudresden ocl parser node aconstraint \)
stop receiving all events
although operation and signal are peers in the uml type hierarchy they share the attributes isroot , isleaf , isabstract , and specification concurrency is not shared and is specific to operation
the model is changed our job is done
special cases for use cases extending use cases and use case that are being included are not required to have associations
figclone polygon \( polygon \) polygon clone \( \)
create add and remove buttons if needed first
end class tabtext
record the changes in the instance variables of our parent , tell gef and trigger the edges to reconsider themselves
junit end
utilities usually do not require a constructor either
fill the list with items
test project readable files
keep reading till we get the left bracket of an opening tag
in the deploymentdiagram there are no generalizations
see javax swing abstractaction isenabled \( \)
add the perspective
4 5 3 2 associationclass
only do this for classifiers
context instanceof collaboration context instanceof model
private jpanel tagvalstab new jpanel \( \)
if a not default current shortcut was added , then we have to save it
we could check for base class of the stereotype but the condition normally covers it all
provide feedback to the user that their name was not accepted
the association that triggered the critic its just possible the association is no longer there , in which case we return null
end class xmltokentablebase
these strings match the xml element names in the argo tee exactly
see org tigris gef base pathconv setclosestpoint \( java awt point \)
now , let 's set up the selected action container
see targetlistener targetset \( targetevent \)
see org argouml uml diagram static structure layout classdiagramnode getrank \( \)
switch the value back off , so that we will get notified again next time
see java awt event windowlistener windowdeiconified \( java awt event windowevent \)
see org tigris gef base selectionbuttons getnewnode \( int \)
for eclipse setup
if the user cancelled the operation , we do n't have to save anything
return true if the given object is a valid node in this graph see org tigris gef graph mutablegraphmodel canaddnode \( java lang object \)
technically this is legal , but a structuralfeature should probably only ever have an owner instead of a namespace tfm
we do n't want to show some nasty gray background color , now do we \?
see org argouml model commonbehaviorhelper setnodeinstance \( java lang object , java lang object \)
this pair of params where the same lets check the next pair
now the new namefig height will include the stereotype height
if its an interface we have an interface end , otherwise its something else and we should see if it is navigable we do n't check that the end is a classifier , rather than its child classifierrole , since we have effectively eliminated that possiblity in rejecting associationroles above
if we can find a nested sax exception , it will have information on the line number , etc
the next condition becomes false when dragging in something from another application
needed for argo startup \(
thin bar to show current used
end class crcircularassocclass
state
making it possible to jump to the modelroots
if the destination is a datatype , then reject
see javax swing listcellrenderer getlistcellrenderercomponent \( javax swing jlist , java lang object , int , boolean , boolean \)
if this fails , then there is a problem dthompson 29 12 2008 it seems that the returned value is irrelevant here , so i assume that the purpose of this call is just to throw an exception in case of a problem
only take into account the stereotype width , not the height , since the height is included in the name fig
uml 2 x
and exit menu entry starting with separator
if we do n't have a fig for this uml object , we 'll need to add one we set the bounds , but they will be reset later
do nothing , override in subclass
todo assumes public , user pref for default visibility \?
see org argouml model corehelper clearstereotypes \( java lang object \) all methods below similarly override methods in corehelper
the transition has a name text box it contains ul li the event signature li the guard condition between li the action expression ul p the content of the text box is generated by its own notationprovider see org argouml uml diagram ui figedgemodelelement getnotationprovidertype \( \)
this is the tooltip of a comment link
tabs addtab \( translator localize \( dialog find tab name and location \) , nameloctab \)
actionstate 4 13 3 2 3 issue 715
delete the old extent first
see org argouml uml ui umlcomboboxmodel2 isvalidelement \( object \)
ca n't have a connection between 2 interfaces get the 'other' end type
4 5 2 6 attribute
operations
end class stylepanelfigpackage
get the assocations and connections no problem \( there is a separate critic \) if this is a binary association or is an association role
not uml1 4
use diagraminterface to add classes to diagram
because we get the metatype class stripped of its reflective proxies , we need to jump through a hoop or two to find it in the metamodel , then work from there to get its proxy
todo for uml2 check if the type of the tv is string
no generalizations on deployment diagram
if the actual is not going to be saved , then try to remove it \( as it could have been cancelled \)
only the head should be filled \( not the text \)
end class crtoomanyassoc
if visibility is already changed for this class , respect it
slope of the line we 're finding the normal to is slope , and the normal is the negative reciprocal slope is \( p1 y p2 y \) \( p1 x p2 x \) so recip is \( p1 x p2 x \) \( p1 y p2 y \)
wellformednessrules and preconditions
utility function to add a listener for an array of property names and remember the registration param element element to listen for changes on param property array of property names \( strings \) to listen for changes of see org argouml model modeleventpump addmodeleventlistener \( propertychangelistener , object , string \)
try changing namespace of element and make sure results track
not used , do nothing
no , scroll down one row
no else to handle multiple inheritance of linkobject
both ends must be defined and nodes that are on the graph already
uml 2 x only
see org argouml ui explorer treemodelumleventlistener modelelementadded \( java lang object \)
if the user double clicks on any part of this fignode , pass it down to one of the internal figs this allows the user to initiate direct text editing see java awt event mouselistener mouseclicked \( java awt event mouseevent \)
see org argouml uml ui umluserinterfacecomponent targetchanged \( \)
end class cruselessabstract
no initialization required
see org argouml model activitygraphshelper findclassifierbyname \( java lang object , java lang string \) all methods below similarly implement methods from activitygraphshelper
see org argouml model modelimplementation getstatemachineshelper \( \)
do nothing
end class figassociationrole
an activator ca n't also be a predecessor of a message
we have to give a message to user and set the system to unsaved !
see org argouml ui explorer rules perspectiverule getchildren \( java lang object \)
now paint a gradient under the ghosted jlabel text \( but not under the icon if any \)
if no base was typed , then only set the name
this is not a well formed model in a strict sense see the multiplicity in uml 1 3 figure 2 5
log log \( level fine , predicate \( \) returned true , creating todoitem \)
a binary association is not a node so reject
see org argouml uml diagram ui stereotypecontainer isstereotypevisible \( \)
see javax swing comboboxeditor selectall \( \)
add gui internal stuff gui internal stuff is panes , tabs , menu items that are part of the gui subsystem i e a class in the org argouml ui package things that are not part of the gui , like everything that has any knowledge about uml , diagrams , code generation , reverse engineering , creates and registers itself when that subsystem or module is loaded
see org argouml application events argonotationeventlistener notationchanged \( org argouml application events argonotationevent \)
see org argouml cognitive critics critic addsupportedgoal \( org argouml cognitive goal \)
no more we can do here on failure
there is none
create set up temporary output file
these should n't really be br instead of p elements , but the lines all get run together when pasted into a browser window
cmd api
the connection is not valid unless both nodes are in this graph model
see org argouml application events argogeneratoreventlistener generatorchanged \( org argouml application events argogeneratorevent \)
keylistener implementation
abstract elements do not necessarily require associations
the close window shortcut \( alt \+ f4 \) actually ca n't be registered as a shortcut , because it closes the configuration dialog !
do n't show extensions in profiles
see org tigris gef presentation figtext settextfilled \( boolean \)
needs to be updated for changes in notation subsystem tfm string namestr notation generate \( this , getowner \( \) \) trim \( \) getnamefig \( \) settext \( namestr \)
we remove all of them
todo the uml does not seem to define this name or is it \?
if no function name was given , then retain the one in the model
load argo project descriptor
see java util collection toarray \( \)
no longer abstract to allow subclasses to remove , so we provide a null default implementation
if there are no stereotypes , we return \( 0 , 0 \) , preventing double lines in the class \( see issue 4939 \)
if the new encloser is null , and the old one is a component , then the enclosed fig has been moved on the diagram this causes the model to be adapted as follows remove the elementresidence between the enclosed and the oldencloser see org argouml ui argodiagram changefigencloser \( org tigris gef presentation fignode , org tigris gef presentation fignode , org tigris gef presentation fignode \)
the text box containing the problem messages
prevent no changes
compound critics
because we 're listening for stereotypes being added and removed but we 're really interested in their owned tag definitions , the default implementation wo n't work for us
isrelevant should still be true
see org argouml model orderingkind getordered \( \)
see java beans propertychangelistener propertychange \( java beans propertychangeevent \)
read until the end section is found , discard generated content
shorthand notation for convenience
if the current shortcut has not been set , then the actual shortcut value is the default one
do n't create a stereotype for signal on a reception but create any other parsed stereotypes as needed
this next line presumes that the 1st fig with this owner is the previous port and consequently nullifies the owner of this 1st fig
see org argouml uml reveng settingstypes booleanselection getdefaultvalue \( \)
update the previously selected tab
in theory there can be multiple details pane \( work in progress \) it must first be determined which details page contains the properties tab bob tarling 7 dec 2002
action to save a diagram as a gif image in a supplied outputstream todo this requires java 6 in its current state , so do n't use author tom morris tfmorris gmail com
see java awt event windowlistener windowdeactivated \( java awt event windowevent \)
argo customization
see org tigris gef presentation fig translate \( int , int \)
hide grid , otherwise ca n't see anything
create a default extent for the user uml model this will get replaced if a new model is read in from an xmi file
see java beans propertychangelistener propertychange \( java beans propertychangeevent \)
let 's use groups to construct the different text sections at the association
see org argouml notation notationname samenotationas \( org argouml notation notationname \)
then classifier package
see org argouml ui explorer relocatable isrelocationallowed \( java lang object \)
to persist to and from zargo \( zipped file \) storage containing seperate xmi , argo , plgml and todo zip entries author bob tarling todo review use of this against zargofilepersister bob
if the source of the event is an uml object , e g the owner of this fig \( but not always only the owner is shown , e g for a class , also its attributes are shown \) , then the uml model has been changed
verify all events were fired correctly
see org argouml persistence projectfilepersister doload \( java io file \)
comment body text field editing disabled
arctan only returns pi 2 to pi 2 handle the other two quadrants and normalize to 0 2pi
make the topmost diagram \( that is not the one being deleted \) current
see org argouml uml diagram ui figeditablecompartment getumlcollection \( \)
see org argouml ui explorer rules abstractperspectiverule getchildren \( java lang object \)
if we do n't have a mofclass , see if we can get one from the instance
2 pixel padding after compartment
we should n't get here , but just in case we want a wide exception catcher to make sure our transaction always gets ended
log log \( level fine , finding children for \+ o getclass \( \) \)
see java awt dnd droptargetlistener dragexit \( java awt dnd droptargetevent \)
see tudresden ocl check types modelfacade getclassifier \( java lang string \)
noop fixed rendering
should never happen something 's really wrong
to rupdate the diagram set the stimulus name again todo explain that this really works also in the mdr case linus is a sceptic
see org argouml uml diagram ui figedgemodelelement modelchanged \( java beans propertychangeevent \)
adds all stereotypes defined at the profiles applied to the current project
private jpanel modifiedtab new jpanel \( \)
todo check !
see org argouml model concurrencykind getconcurrent \( \)
the following will bring up a dialog box , so ca n't be run headless actionclient actionperformed \( new actionevent \( this , 0 , foo \) \)
see java lang object clone \( \)
activitygraphs
see javax swing tree defaulttreemodel removenodefromparent \( javax swing tree mutabletreenode \)
a problem if we found more than 1 aggregation
uml 1 4 wfr 2 5 3 1 3 no aggregation for n ary associations
see org argouml model aggregationkind getnone \( \)
and now remove them
the include label it 's not a true stereotype , so do n't use the stereotype support
see javax swing plaf metal metaltheme getmenutextfont \( \)
gone from uml 2 x throw new notimplementedexception \( \)
manage if cursor x is more than lastx2
documentlistener implementation
save count
this presumes that the layer is set after the owner
and store configuration props
the name itself
see java awt dnd droptargetlistener dragover \( java awt dnd droptargetdragevent \)
other methods
parse the text that was edited
these are not entry exit do activities !
multiplicity
end class tabchecklist
force the configuration to load
test with a package and a class and activity diagram
there is a bug in gef where positioning nodes can affect edge positions we need to do 3 iterations to protect against that
todo set font \?
see org argouml uml ui abstracttestactionadddiagram getnamespace \( \)
skip 1 lines
see javax swing abstractlistmodel fireintervaladded \( object , int , int \)
should these also be deleted \?
vertical resizing
we 've got a profile read pending handle it ourselves now
initialize the event listener trackers which verify that all of the proper events were fired
transitions can have multiple triggers now
see javax swing plaf metal metaltheme getusertextfont \( \)
handle methods which return opaque objects
remove the dependent modelelements , such as the statemachine for a statechartdiagram
filefilter api
build namespace hierarchy like this g a b c d e f
the target list is empty , re emptying it again should not generate any events
see org tigris gef graph graphfactory makeedge \( \)
the graph should stay the same
move down
todo should be improved so that it 's recognized whether there is something selected that can actually be generated nothing selected in the diagram
anything else is handled the normal way
see org argouml model modelimplementation getusecasesfactory \( \)
the owner should always have already been set in the constructor
see org argouml application api progressmonitor updatesubtask \( java lang string \)
let 's save this project as the last used one in the configuration file
see java awt event componentlistener componenthidden \( java awt event componentevent \)
\( xoffset curw \) 2
todo unimplemented return \( \( property \) handle \) gets
\( log isdebugenabled \( \)
see org argouml cognitive poster snooze \( \)
see org argouml model concurrencykind getguarded \( \)
the attribute 'targetscope' of an associationend in uml1 x is no longer supported in uml2 x
todo changed for uml 2 x
xxx hypothesis no time expression \( inv \)
make new column with labelledlayout
the 5 main component 2 label , a panel for langage , a panel with button , a textarea
see org argouml model modelimplementation getmodelmanagementhelper \( \)
the project changed
initpreinitialize \( \) initializesubsystems \( new simpletimer \( \) , null \) argoframe getinstance \( \) setvisible \( true \)
see org argouml uml ui umlcomboboxmodel isvalidelement \( object \)
the figs that make up this group
valid elements for a stereotype to contain
see org tigris gef graph graphlistener noderemoved \( org tigris gef graph graphevent \)
either layer or owner was null
see org tigris gef graph mutablegraphmodel addnode \( java lang object \)
override setbounds to keep shapes looking right the classifier and state figs are nicely centered vertically , and stretched out over the full width , to allow easy selection with the mouse the fig can only be shrunk to half its original size so that it is not reducible to a few pixels only see org tigris gef presentation fig setboundsimpl \( int , int , int , int \)
save action has been cancelled
abstract methods
wait for all model subsystem events to be delivered
unregister deleted instances after all events have been delivered
todo verify this iiuc , then this triggers the compountstatefig to draw itself correctly hence , there was a reason to wait this long to make the state concurrent
in this event we do nothing , only stop drawing the broom
if we have a currentact object that means have reached the end of the lifeline with a call or a create not returned add the activation to the list after setting its height to end at the end of the lifeline
see org argouml cognitive ui wizard makepanel \( int \)
all states in the new reference state 's path are added as listeners
if there is n't a 3rd column then this represents a connection of elements of the same type
d supplier oclastype \( generalizableelement \) allparents oclastype \( namespace \) ownedelement select \( e e elementownership visibility public \) includes \( r participant \) or
todo change the linked operation
create a new graphics context so we start with fresh transforms
see org tigris gef util childgenerator gen \( java lang object \)
builds an initialized stereotype with no namespace a stereotype must have a namespace so this method is unsafe use buildstereotype \( string , object \) param text is the name of the stereotype return an initialized stereotype
see tudresden ocl parser analysis depthfirstadapter caseapostfixexpressiontail \( tudresden ocl parser node apostfixexpressiontail \)
see org argouml uml ui umluserinterfacecontainer getprofile \( \)
the new height can not be less than the name height
see org argouml uml reveng importsettingsinternal isdiagramlayoutselected \( \)
reopen the project and assert that the metaprofile is n't part of the profile configuration , including the fact that the stereotype critic is n't found
check parameter types
iterate through all possible model elements to determine which are valid to be contained by the selected target
elements which will be deleted when their container is deleted do n't get added to the list of elements to be deleted \( but we still want to traverse them looking for other elements to be deleted \)
see org argouml uml diagram ui fignodemodelelement removefromdiagramimpl \( \)
we moused over an object just as it was deleted transient condition does n't require i18n
return parsing help fig association end name
see org argouml model commonbehaviorhelper setreceiver \( java lang object , java lang object \)
todo needs localization
abstract
new target is a fig , refresh should be called
see org argouml persistence memberfilepersister load \( org argouml kernel project , java io inputstream \)
the diagram image data
the machine state has been deleted from model
show it
list add \( literalreal \) uml 2 4 end literalspecification
see javax swing comboboxeditor removeactionlistener \( java awt event actionlistener \)
n a or x nodes and x edges
todo do nothing until code is reviewed
\( mmessage \)
set the screen layout to what the user left it before , or to reasonable defaults
this is the recent count
initialize font faces list
see org argouml uml reveng importcommon ischangedonlyselected \( \)
prohibit instantiation
get a list of uml metaclass names from the xmi document p though some of the dom methods such as getattributes may return null values under other conditions , in the context of this test and assuming a valid xmi file none should occur p hence there is no special checking for those abnormal cases , allowing the test to fail simply with a nullpointerexception , with this comment indicating that either the input data is incorrect or the test needs to be improved
point at which to start layout \( initial state goes here \) the x coordinate must be greater than half the width of the widest figure to be placed \( because figures are centered on this location \)
note that if we 're copying this element then we must also be allowed to copy other necessary objects
if we ca n't find a model , return the outermost containing model element
only work for associations
loop through each element in the namespace , recursing
nothing is editable , since a link takes its identity from the association see org argouml uml diagram ui figedgemodelelement canedit \( org tigris gef presentation fig \)
check whether model element is contained in given namespace container
the other tabs need to be updated depending on the selection
listen to activitygraph deletion , delete this diagram
see org argouml uml ui umluserinterfacecontainer formatelement \( java lang object \)
deleting it all
todo removed from uml 2 x phase out usage tfm 20070530
adding project files icon
see org argouml uml diagram layout layouter add \( org argouml uml diagram layout layoutedobject \)
see org tigris gef presentation fignode getportfig \( java lang object \)
depends on implementation
\( melementimport \)
a string of the form name location discard the middle token \( \)
todo we should n't need this as well as the above
see org argouml model extensionmechanismshelper getallpossiblestereotypes \( java util collection , java lang object \)
todo for large lists , this is doing a linear search of literally thousands of elements
success
see if two copies look like copies of eachother
formula for a is described in the overall class description
check here if there are no incoming call actions if not then create an activation at the top of the lifeline
see org argouml persistence abstractfilepersister getextension \( \)
create chooser for objects we are to import old style modules get to provide their own \( although i do n't believe any of them do \) , while new style modules get the a chooser provided by us \( which matches what the abstract class fileimportsupport used to provide \)
the operation allconnections results in the set of all associationends of the associationclass , including all connections defined by its parent \( transitive closure \)
assert w h
see org argouml uml diagram ui visibilitycontainer isvisibilityvisible \( \)
do n't show element imports in profiles
see org argouml uml diagram ui figedgemodelelement canedit \( org tigris gef presentation fig \)
changing the sequence only
deleting the stereotype should cascade to the tagdefinition , then the taggedvalue
see java awt event windowlistener windowiconified \( java awt event windowevent \)
we have an event without expression
maybe this operation already has a method , that fits our purpose \? in this case , try to reuse it , instead of creating a new implementation
case 4 erase it
avoid our deinitialization here the node will be added back to the tree again
this should always be true , but just in case
see org argouml uml ui abstractactionaddmodelelement getselected \( \)
comments from anywhere in the model are allowed
todo make use of the constants defined in the todoitem class !
register our last chance exception handler
check for uninitialised instance variables and constructor
todo gone in uml 2
return the metatype proxy
notification of menu bar
fire an event some anyone who cares about diagrams being removed can listen for it
generate the files
be careful here since subclasses could have overridden this with the assumption that it would n't be called before the constructors finished
we are n't able to resize neither the top bound from the first region nor the bottom bound from the last region
this works we do get an event and now refresh the ui
now remove the ones already applied
todo midpoints for side handles
todo make a new history item
we also show types of parameters
see org argouml model modeleventpump flushmodelevents \( \)
see tudresden ocl parser analysis depthfirstadapter caseafeaturecall \( tudresden ocl parser node afeaturecall \)
this rectangle marks the whole modelelement figure everything is inside it
language has changed
see java awt event actionlistener actionperformed \( java awt event actionevent \)
todo side handles
n b a node which is an association is either a n ary association or the class part of an associationclass
xxx hypotheses for afeaturecall fwd op , val head
see javax swing event listselectionlistener valuechanged \( javax swing event listselectionevent \)
actions
see org argouml uml ui umlcombobox doit \( actionevent \)
if we have any number of stereotypes displayed , then allow some space for that \( only width , height is included in namefig \)
and when the operation is replaced
we do n't let the user move the messages horizontally
ready to set the value finally
the following is specifically for realizations
mvw
for debugging
both lists have the same length
everything else is ok
the serialversionuid \( generated by eclipse \)
see org argouml model pseudostatekind getchoice \( \)
todo get default output directory from user settings project p projectmanager getmanager \( \) getcurrentproject \( \) p getprojectsettings \( \) setgenerationoutputdir \( path \)
end class actioncopy
get the rule name
then , print out some version info for debuggers
less than
is used as instancespecification , see umldeploymentdiagram
return the ith element from a collection param collection collection to get element from param index index of the element to be returned return the object
make sure we have a root model for tagdefinitions to get put in
put the statemachine in the namespace of the class
see java awt datatransfer transferable gettransferdata \( java awt datatransfer dataflavor \)
verify isrelevant returns true
end class crnonaggdatatype
see tudresden ocl parser analysis depthfirstadapter caseafeaturecallparameters \( tudresden ocl parser node afeaturecallparameters \)
see java awt event mouselistener mouseclicked \( java awt event mouseevent \)
see org argouml ui explorer rules abstractperspectiverule getrulename \( \)
re selecting the old row , without changing the target and without throwing another listselectionevent !
unfortunately the mdr super implementation throws debugexception with just the message from the causing exception rather than nesting the exception itself , so we do n't have all the information we 'd like
see org argouml ui clarifier hit \( int , int \)
see org argouml model changeablekind getfrozen \( \)
jcontentpane add \( getjchbbold \( \) , gridbagconstraints2 \) jcontentpane add \( getjchbitalic \( \) , gridbagconstraints3 \)
see javax swing tree treemodel valueforpathchanged \( javax swing tree treepath , java lang object \)
tested ok , except in some cases , depending on the sequence of the eps probably the implementation of forall \( x , y does not cover all combinations
if menus do n't containt menu item necessary for this class , create it
put the current pane in a scroll pane
use default formatting for any other type of uml element
delete dependencies where this is the only supplier
literalspecification list add \( literalnull \) when other ok
end class xmlelement
job done
end class collabdiagramgraphmodel
todo add logging , but this will never happen and is handled
end class sourcepathdialog
two points for line segment used to compute slope of path here note that this is the average slope , not instantaneous , so it will give screwy results near bends in the path
end class snoozeorder
load the standard colour , just add an alpha channel
get one of the default profile dirs , if available \( as a default value for the following save dialog \)
see org argouml ui explorer relocatable relocate \( java lang object \)
auto create a return message for a call message
nothing to do we get all events automatically
assertequals \( defaultoclevaluator getinstance \( \) evaluate \( vt , mi , x ocliskindof \( classifier \) \) , true \)
see javax swing abstractaction abstractaction \( java lang string , javax swing icon \)
extra careful now , not to keep any references to the second argument
permission ,
the enumerationliteral uses a dedicated notation that supports parsing name1 name2 name3 and stereotypes also supports deleting a literal by erasing text
end class checkmanager
private property prptodo private property prpproperties private property prpdocumentation private property prpstyle private property prpsource private property prpconstraints private property prptaggedvalues
see org argouml persistence xmltokentablebase setuptokens \( \)
note this listener needs to always be active even if this tab is n't visible
look for a tagdefinition matching the given name
event processing
there is already a correct elementresidence
if the strings differed only in non primary characteristics at some point \( case , accent , etc \) pick an arbitrary , but stable , collating order
object getincludingcase \( object handle \)
empty entry stops reading last line !
see junit framework testcase testcase \( string \)
this check for files without extension
try predecessors
stereotype fig covers the name fig
just rub out the last cue line
the extend label it 's not a true stereotype , so do n't use the stereotype support int y getnamefig \( \) getbounds \( \) height
specifies valid elements for a node to contain
see org tigris gef base command execute \( \)
commentlinks for comments iterate over all the comment links to find the comment and annotated elements
the owner is already linked to the component
see org argouml cognitive poster fixit \( org argouml cognitive todoitem , java lang object \)
see javax swing table tablemodel getcolumnname \( int \)
initialize the notationutilityuml
end class actionopengoals
remove null characters at the end
see java util collection addall \( java util collection \)
see org tigris gef presentation fig getenclosedfigs \( \)
add the given node to the graph , if valid see org tigris gef graph mutablegraphmodel addnode \( java lang object \)
populate our namespace hierarchy to the requested depth total number of created elements is children maxlevel , so be careful not to increase parameters too much
but , lookout , it does n't work both ways
if we do not set it to null first , then we get a mdr debugexception
first step create the panel if not already done and options are available otherwise it retains its default value of null
in uml2 , the tag definition is the attribute itself
e g org argouml uml generator ui classgenerationdialog poseidon jar
see org argouml uml ui umlplaintextdocument getproperty \( \)
invoke the parent refresh first
original class was not abstract
see org tigris gef base pathconv applyoffsetamount \( java awt point , java awt point , int , java awt point \)
eclipse namespaces
see guisettingstabinterface handlesettingstabcancel \( \)
north , south , west , east , south west
if we timed out , give it one more try on the other side
since this is a complex polygon , there 's no easy way to resize it
see org argouml ui tabtarget gettarget \( \)
see org argouml model directionkind getinoutparameter \( \)
no initialization currently
finished editing parse the text that was edited only the role is editable , hence
see java awt event mouselistener mousereleased \( java awt event mouseevent \)
todo what about objectnode \? return org eclipse uml2 uml objectnode class
see org tigris swidgets orientable setorientation \( orientation \)
c gridy 0 c gridx 1 jlabel offlabel new jlabel \( off \) gb setconstraints \( offlabel , c \) mainpanel add \( offlabel \)
if package
super \( modecreatepolyedge class , edgeclass , model getmetatypes \( \) getassociation \( \) , name \)
the figure that holds the text of the note
todo
we have the dashed edge now find the opposite fignode
todo add tags constraints addmenu add \( targetmanager getinstance \( \) getaddattributeaction \( \) \) addmenu add \( targetmanager getinstance \( \) getaddoperationaction \( \) \)
ignored will never be called
4 5 2 37 structuralfeature
give the resolver getidtoobjectmap \( \) entries priority over entries with the same uuid from resolver getidtoobjectmaps \( \) because entries in resolver getidtoobjectmaps \( \) are historic
extend , but only between two use cases remember we draw from the extension port to the base port
if there is persistant state for this toolbar , respect it , or add it to persistance data
style panels only apply when a fig is selected see org argouml ui tabtarget shouldbeenabled \( java lang object \)
see javax swing table tablemodel setvalueat \( java lang object , int , int \)
remove an edge
the vertex was dropped onto the diagram get the region as the first region in the statemachine if there is no region in the statemachine then create one
class to display graphics for a uml link in a diagram p the underlined association name is shown next to the middle of the path todo show more notation as described in the standard a rolename may be shown at each end of the link an association name may be shown near the path if present , it is underlined to indicate an instance links do not have instance names , they take their identity from the instances that they relate multiplicity is not shown for links because they are instances other association adornments \( aggregation , composition , navigation \) may be shown on the link ends
register it as a user profile
find our initial state
todo state vertex are independent classes in uml 2 1
we return a new list with the options instead of the options themself because we do n't want the user to be able to change the options see org argouml uml reveng settingstypes uniqueselection getoptions \( \)
updating the table data
see org argouml ui tabtarget settarget \( java lang object \)
see java awt dnd dragsourcelistener dragdropend \( java awt dnd dragsourcedropevent \)
sanity check the returned path item placement strategy should match the one in the uml if it does n't , it could be that the uml was created with an older argo version , and the new argo version use a different placement strategy if they do n't match , just use the default
remove from the model
if drop out , we 're ok
test creating modelelements from a given notation , and then re generate the notation string again , and check if they are equal some of these tests are not very usefulll , since they may fail on white space differences todo white space should best be ignored
default notation settings
see org argouml application events argonotationeventlistener notationremoved \( org argouml application events argonotationevent \)
we need to find the stereotype with the name create and the base class behavioralfeature in the model if there is none then we create one and put it there
our first button is invisible selecting it deselects all visible buttons
only look at associations
see org argouml ui targetmanager targetlistener targetset \( org argouml ui targetmanager targetevent \)
if nothing is selected , then not allowed to remove it
ns instanceof usecase see comment below
the machine state has got a new name
the next line is needed so that we have the right dimension when drawing this fig on the diagram by pressing down the mouse button , even before releasing the mouse button
most of this code originates from actionopenproject
is row at top of screen \?
make sure there are some rules
called when the user has pressed cancel performs cancel in all tabs
accessors
adding a todo member removes any existing one
see org argouml cognitive critics critic todoitem \( java lang object , org argouml cognitive designer \)
todo no separate syncstate in uml 2 1 tfm
just in case the existing selected element is from elsewhere make sure it is in the list
level 2 import detail
types can probably have associations , but we should not nag at them not having any utility is a namespace collection also not strictly required to have associations
only need to this from super \( \)
if we are unnamed eliminate all classifiers which are already the base of some role
the namespace of the statemachine is changed !
the next line is needed so that we have the right dimension when drawing this fig on the diagram by pressing down the mouse button , even before releasing the mouse button
private jcheckbox jchbitalic null
subtract the the offset of the click , to take account of user having not initially clicked in the centre
delete linkends which have this as their associationend
singleton
see javax swing event treeselectionlistener valuechanged \( javax swing event treeselectionevent \)
the show types defaults to true , to stay compatible with older argouml versions that did not have this setting
simulates uml2 getting the aggregation from the opposite end
a profile initially has no applied profiles , we go bottom up
a few of our factories are slightly different than as declared in the uml 1 4 metamodel , so we remap them here metamodel , argouml
\? 2 line width \?
see tudresden ocl check types type navigateparameterized \( java lang string , tudresden ocl check types type \)
we can do nothing if we do n't have both the use case and extension point
if one side is null , compare with the equality operator
the name of the meta type is the class name \( after the last \) and before the impl or end of class name
extract the icon that is used by the tree control for the current look and feel
see javax swing tree treemodel getindexofchild \( java lang object , java lang object \)
only instantiate when we need it
4 5 2 24 generalization
see org argouml model modeleventpump removeclassmodeleventlistener \( java beans propertychangelistener , java lang object , java lang string \)
it 's illegal in uml to have multiple elements in a namespace with the same name , but if it happens , keep them distinct so the user has a chance of catching the error pick an arbitrary , but stable , collating order we do n't call them equal because otherwise one will get eliminated from the treeset where this comparator is used
mutators hold write lock will deadlock if use is not thread safe
register for notification of any global changes that would affect our rendering
the text is used by the event handler for opening the project
add the association ends to the graph model
end class crfinalsubclassed
flag to enable performance testing off by default
see tudresden ocl parser analysis depthfirstadapter casealistexpressionlistorrangetail \( tudresden ocl parser node alistexpressionlistorrangetail \)
list string args null
get all the relationships , that this model element has and filter everything , that is not an import
the source was one of the referenced state 's path which has got a new name
end class actionnavigability
default angle is 90 deg
we need to fill the whole pane , so that the description field can take all available space
compare path of two elements in reverse order \( inner to outer \) using a primary strength text collator this will collate e , e , \? \? together , but not eliminate non identical strings which collate in the same place return equivalent of list1 compareto \( list2 \)
check for the older properties file and copy it over if possible
perform one command
todo add double click listener
corrective automations , wizards
no maximum set , so it will stretch
see org argouml model modeleventpump addclassmodeleventlistener \( java beans propertychangelistener , java lang object , java lang string \)
if the element import is in the old owned , it means it must have been removed make sure the associated model element is removed
update the text labels and listeners see org argouml uml diagram ui fignodemodelelement modelchanged \( java beans propertychangeevent \)
see org argouml cognitive poster supports \( org argouml cognitive goal \)
delete callevents which have this as their operation
todo gone in uml 2 x return place holder for now
call methods that exists for all objects and that always return something meaningful
check ocl parsing constraints
try some more complex moving
todo localize these
not static
see java awt event focuslistener focuslost \( java awt event focusevent \)
this class represents all diagrams within argouml it is based upon the gef diagram p it adds a namespace , and the capability to delete itself when its namespace is deleted p todo mvw i am not sure of the following p the namespace of the diagram is e g used when creating new elements that are shown on the diagram they will have their namespace set according this it is not necessarily equal to the owner p mvw i doubt all following the namespace of the diagram is e g used to register a listener to the uml model , to be notified if this element is removed which will imply that this diagram has to be deleted , too p hence the namespace of e g a collaboration diagram should be the represented classifier or , in case of a represented operation , the classifier that owns this operation and the namespace of the statechart diagram should be the namespace of its statemachine
getcontentpane \( \) add \( menubar , borderlayout north \)
this function only sets the color of the divider line \( since that is the only visible part \) , and can be used to make the divider line invisible for the top region in a composite state see org tigris gef presentation fig setlinecolor \( java awt color \)
remove all stereotypes that have a graphical icon
disabled since it gives various problems e g the toolbar icons get too wide also the default does not give the new java 5 0 looks swingutilities updatecomponenttreeui \( swingutilities getrootpane \( this \) \)
in uml 1 3 , the name is the only place to store text in uml 1 4 , there is a body as well , but some tools still seem to use name
add the given edge to the graph , if valid see org tigris gef graph mutablegraphmodel addedge \( java lang object \)
change things
see org argouml notation providers notationprovider parse \( java lang object , java lang string \)
i have no direction yet
see org tigris gef presentation fig setboundsimpl \( int , int , int , int \)
see javax swing jfilechooser approveselection \( \)
set same target again should not generate new events
see java awt event mouselistener mousereleased \( java awt event mouseevent \)
see org argouml cognitive todoitem deselect \( \)
code generation
here follows the interfaces that contain the enums of different kinds in the uml meta model
see org argouml uml ui sourcepathcontroller setsourcepath \( java lang object , java io file \)
initialize remaining factories and helpers \( but defer heavyweight ones until needed \)
now sort out the stereotype display if the stereotype is displayed , move the upper boundary of the name compartment up and set new bounds for the name and the stereotype compartments and the stereolineblinder that blanks out the line between the two
setting one target should generate one event
see java lang runnable run \( \)
if it is concurrent and contains concurrent regions , the regions are resized
todo what \?
figs on a diagram without an owning model element
todo different critic or special message for classes that inherit all ops but define none of their own
tabprops gets selected ! so , 2nd time right
only add all if there are some to add
see org argouml cognitive critics critic addknowledgetype \( java lang string \)
if nothing selected , go to last selected target
see org argouml model modelimplementation getdatatypeshelper \( \)
initialize any other figs here
otherwise parent must be an offending design material
check to see if all targets are classifiers before adding an option to create an association between them all
addonly command determines a changeability kind todo removed from uml 2 x phase out of ui tfm 20070529
if we drop out we did n't meet both criteria , and all is well
see org argouml uml ui umlcomboboxmodel buildmodellist \( \)
see org argouml model umlhelper move \( java lang object \)
the figpoly is located at the right edge of the namefig the namefig size is such that it at least fits its text , and the figpoly next to the text making the package bigger , causes the figpoly to stick to the right edge
the following is deprecated , but can never be removed to preserve backward compatibility with old project files
reset the values to something different
see org argouml uml diagram state ui figstate getinitialx \( \)
see java util list sublist \( int , int \)
we need the edge to be complete
just change the name and linked operation
create a timer
see if we can copy a datatype right off
build include it seems that the parameters for build include are just the other way round add an include we do not need to have associtions on one
instance variables
avoid recursively updating the same child
add some test data
specifies valid elements for a model to contain
change the structure in p1 package
see javax swing jtree setmodel \( javax swing tree treemodel \)
there can only be one
see org argouml application events argogeneratoreventlistener generatorremoved \( org argouml application events argogeneratorevent \)
actor 4 11 3 1 1
3 now reposition messages based on their original position
no state named s is found , so we have to reject the user 's input
see org argouml persistence memberfilepersister getmaintag \( \)
the element was deleted while we were processing it
see targetlistener targetremoved \( targetevent \)
the cover
for a deployment diagram , not just any namespace will do we need a package
do n't forget to remove old internals !
operation \( paramlist \)
criticism control
get a domimplementation
implements commandstack
skip the 2 lines \? xml version 1 0 encoding utf 8 \? ! doctype pgml system pgml dtd
clear the associated id maps reset starting collection
get new parent node
empty constructor
see org argouml uml ui umlcomboboxmodel getselectedmodelelement \( \)
if the destination is not a namespace , then abort
see org tigris gef base selectionbuttons paint \( java awt graphics \)
valid elements for a profile to contain
2nd compartment , so adjust y appropriately
do n't clear everything here , breaks loading !
get the version from the tag
3 make sure all figedges are attached to a valid fignode the report
the name of the parent diagram instance
