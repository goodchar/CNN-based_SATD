assert that the project 's model elements that had a dependency to the uml profile for java are consistent
any given listener is only called once even if it is registered for multiple relevant matches
see org argouml cognitive critics critic isenabled \( \)
we have found a non static one that is not initialized
remember where we are at present , so we can tell gef later then check we are as big as the minimum size
transient false , volatile false
if the layer is null , then most likely we are being deleted
make listeners
end class crnwayagg java
remember that children are not treenodes but userobjects
\( mmodelelement \)
mixed case
1 remember current message paths
move more right
if the operation reception is abstract , then the text will be set to italics
scan the visible rows for duplicates of this elem and select them
sequence diagrams are not shown as children of the collaboration that they show but as children of the classifier operation the collaboration represents statediagrams and activitydiagrams are shown as children of the statemachine or activitygraph they belong to
class methods
jpanel north new jpanel \( \) north setlayout \( new borderlayout \( \) \) north add \( tabs , borderlayout center \)
guaranteed to return a non null array
this swaps the direction of m3
normal model elements are not allowed to have spaces , but for states we make an exception
if diagram added successfully , add the member too
set the tooltip of the arrow to open combined tools
ok , so that did n't work out just ignore any problems and do n't set the name in the constraint body better had log it
collect the set of model elements that we want to listen to
end andromda code
keep track of total events fired
see org tigris gef base selectionbuttons paintbuttons \( graphics \)
see org tigris gef undo undoableaction isenabled \( \)
as long as they are n't both null \( or a really rare identical string pointer \)
see org argouml uml ui behavior state machines actionnewevent createevent \( java lang object \)
request that we be made visible if we 're not \? topleveltabbedpane setselectedcomponent \( t \)
see org argouml ui targetmanager targetlistener targetremoved \( org argouml ui targetmanager targetevent \)
listen to machine deletion , to delete the diagram
the divider line should be visible , so no need to change its color
this is silly , but for backward compatibility
only return once per diagram so we do n't , for example , find a class as a diagram element and also as a child of a package which is on the diagram
do n't show base properties in stereotypes
set the new end type !
make sure we always have a default extent the old extent will get deleted as part of creating the new extent
todo here too \?
make the result inmediately visible in case of apply
link does not exist in uml2 , a link is represented just as an association
tests used to be coded to assume immediate event delivery they 've been modified to use flush \( \) where needed tfm oldeventpolicy mfactoryimpl geteventpolicy \( \) mfactoryimpl seteventpolicy \( mfactoryimpl event policy immediate \)
see javax swing table tablemodel setvalueat \( java lang object , int , int \)
actionstate , callstate , and subactivitystate have been replaced in uml 2 0 by explicitly modeled actions
set properties of the stereotype box
just change the changeexpression
todo this could just work off the names in the uml profile todo it does n't look like it matches what 's in the uml 1 4 spec
we get many many events \( why \? \) , so let 's filter
see org argouml uml diagram ui fignodemodelelement updatenametext \( \)
check whether constant , constants are often weird and thus not a problem
compile checkbox
required for mouselistener interface , but we only care about clicks
see org argouml cognitive ui wizard doaction \( int \)
see org argouml uml ui umlmodelelementlistmodel2 isvalidelement \( object \)
only build a namepace if needed , with
there is nothing to do in uml1 4
get the rules
mvw this can never happen , is n't it \?
side effect this creates the fig
log log \( level warning , unable to find extent \+ extent \)
log log \( level fine , class \+ name \+ has subtypes \+ names get \( name \) \)
implementation note unlike many of the interfaces to the model there is no control to force a single instance of an xmireader this is to allow work objects generated by the implementation to be garbage collected when an xmireader instance falls out of scope
empty implementation we only handle mouseclicked
critics table
note the xmi header xmi header is provided for us
now we 're into processing each specific path item strategy at the moment , we only know pathitemplacement
only update our model if we 're visible
specifies valid elements for a region to contain
we need to to this otherwise there is no notification and diagram is n't change
end class stylepanelfigclass
see org argouml cognitive poster getsupportedgoals \( \)
do nothing
the node 's been placed within some fig
if a message has a name and a named operation and a script , then show the script
handle the simple cases anything very exotic will fail , but that will be our clue that the test needs to be extended
roughly equivalent to and derived from old import dofile \( \)
holds file menu
make a nice little target area
not localized
no good trigger
see org tigris gef ui popupgenerator getpopupactions \( java awt event mouseevent \)
the next ones defaults to true , to stay compatible with older argouml versions that did not have this setting
todo the src visibility tag does n't appear to be created anywhere by argouml currently
all tabs are added at the end , except a tabtodotarget
\( mclassifier \)
also show unattached sequence diagrams
get the extension panel for the configuration settings
delete all signalevents which have this as the signal
there are no composite states , so this will work
let 's check all dragged elements if one of these may be dropped , then the drag is valid the others will be ignored when dropping
see org argouml uml cognitive critics wizmename makepanel \( int \)
end class explorermouselistener
see org argouml model scopekind getinstance \( \)
if possible we determine this by checking the destination and source figs are the same if this is not possible because the edge is not yet connected then we check the model
new target is a modelelement , refresh should not be called
finally set the bounds of the big box and the border fig
end class actionaddexistingrelatednode
start desiring a goal which should add a goal and bump the size to 1
if a shortcut has been select then we have to check if the actual action is in conflict with other ones
stop ui interception
only one end should be navigable
get already existing names from menu actions real file names , not action names !
there actually do n't appear to be any restrictions on the namespace for a generalization the uml 1 4 wfr 2 5 3 20 3 refers to generalizableelements , not generalizations tfm
super \( new labelledlayout \( \) \)
check the possibility that this is a promiscuous event
the stereotype fig already exists
see java util list get \( int \)
main methods
see org argouml model modelimplementation getxmireader \( \)
see org argouml uml notation notationprovider getparsinghelp \( \)
we do n't care about the value just want to see if it throws
see java awt event windowlistener windowclosed \( java awt event windowevent \)
if the current shortcut has been set but is void , then the current shortcut is not set then the default value does not change
read existing file names from configuration
add an element listener and remember the registration param element element to listen for changes on see org argouml model modeleventpump addmodeleventlistener \( propertychangelistener , object , string \)
see java util collection clear \( \)
associationrole class , classifierrole class , ,
verify parameters were initialized correctly by the constructor
use this for fast fail instead sacrificed for complete fail d00mst throw new unresolvableexception \( unable to create itemuid for class \+ obj getclass \( \) \)
try some errors
classifier is way too much in uml 2 x
order the new children , the dependencies cannot and need not be ordered
see org argouml model pseudostatekind getjoin \( \)
add the edges \( such as comment edges \) that were on the old figassociation to our new fignodeassociation and make sure they are positioned correctly
make this thread interruptible , if called from swingworker
keep track of the visible window associated w the component useful during event filtering
specifies valid elements for a datatype to contain
in uml2 , we do n't want to see element imports in profiles
fix for loading bad projects
see org tigris gef graph graphmodel getoutedges \( java lang object \)
set the namespace to that of the base as first choice , or that of the addition as second choice
let 's add the table , inside a jscrollpane
umlreserved add \( file \)
we have to tell the settings tab in which project the settings reside
loop through all base classes , building a comma separated list
remove the element from available list
initialize basic parameters that are different from decision unspec
see javax swing plaf metal metaltheme getsubtextfont \( \)
no need to update if model element went away
valid elements for an action to contain
make sure the correspondence that we depend on does n't change
do n't use systemid here or it will get opened in preference to inputstream
the notationprovider for the classifierrole p the syntax is for uml is pre baselist base , base classifierrole name role baselist pre p the code name code is the instance name , not used currently see classifierrolenotationuml for details p this syntax is compatible with the uml 1 4 specification
also set name in constraint body added 03 14 2001
write the profile out to a temp file
write out header section
see javax swing defaultlistmodel addelement \( java lang object \)
only look at classes
xxx this should be done in collectionsmodelinterpreter but it ca n't trigger another invokefeature
handle uml 1 4 metamodel which is a mof 1 3 model
the diagram contains figs so lets ask the user if he she is sure
see java awt component getminimumsize \( \)
first search for appropriate attributes
self associations are special cases no need to let the maze runner find the way
specifies valid elements for an event to contain
java se 6 has a native gif writer , but it 's not in java 5 one is available in the jai imageio library , but we do n't currently bundle that and at 6 \+ mb it seems like a heavyweight solution , but i do n't have time to produce a stripped down version right now tfm https jai imageio dev java net
the stereodim has height 2 , even if it is empty , hence the 2 below
add menu to add an extension point or note placed one before last , so the properties entry is always last
setting up the dependent profile creation
see org tigris gef graph mutablegraphmodel canaddedge \( java lang object \)
see org argouml cognitive poster expand \( java lang string , org argouml cognitive listset \)
translucent green
this does a calcbounds \( \)
comment name text field editing disabled
boolean upgraderequired ! checkversion \( fileversion , releaseversion \)
todo this is the 2nd part of this method
if a uml object is found , you can not remove selected elms
register for the doactivity etc
nothing to delete if we could n't get the packages
this one behaves differently , hence seperated
end class wizmename
the following does not seem to work centered the fig instead getnamefig \( \) setjustificationbyname \( center \)
if location is null here the position of the new fignode is set after in org tigris gef base modeplace mousepressed \( mouseevent e \)
types do n't need a constructor
see tudresden ocl parser analysis depthfirstadapter caseaadditiveexpressiontail \( tudresden ocl parser node aadditiveexpressiontail \)
take canvas scrolling into account the implementation below does place the element correctly when the canvas has been scrolled
build an activity graph with a single action state the way the gui would
there is no need to test if classes is empty because the shouldbeenabled mechanism blanks out the possibility to choose this alternative in this case
image setmargin \( new insets \( 0 , 0 , 0 , 0 \) \)
see javax swing tree treemodel getroot \( \)
returns a list
mdr has a hardcoded printstacktrace on all exceptions , even if they 're caught , which is unsightly , so we handle unknown elements ourselves rather than letting mdr throw an exception for us to catch org netbeans lib jmi util logger java this can be uses to disable logging default output is system err setproperty \( org netbeans lib jmi logger filename , \) org netbeans mdr logger the property org netbeans lib jmi logger controls the minimum severity level for logging
create the renderer
todo we may return something useful when the relocate \( \) has been implemented
\( classifier \)
operation
see org argouml ui targetmanager targetlistener targetadded \( org argouml ui targetmanager targetevent \)
see org argouml model concurrencykind getsequential \( \)
stereotype covers namefig
uml spec for generalizations does n't call for name
see org argouml uml diagram layout layouter getobjects \( \)
end class childgendmelements
update the label \( which shows the number of rules \)
verify that the equivalence test works
\? two iterations of refinement , maybe should be a for loop
this is the xmi version used to encode the metamodel we could parse deeper to pull out the actual uml version the uml 1 4 version is at xmi xmi header xmi model xmi version the uml 2 1 1 metamodel does n't actually seem to contain its version
methods that override jtree methods
remove the metaprofile from the project 's profile configuration
see org argouml model modelimplementation getaggregationkind \( \)
disable event delivery during model load
see org argouml cognitive ui wizstep settarget \( java lang object \)
let the parent do its refresh
end class predicatemtype
add new listeners
ignore non private elements within fignode groups
log log \( level fine , getdata rectangle \+ clip \)
size should be 1 since addition of second item would have been ignored
add the diagram as a listener to the namespace so that when the namespace is removed the diagram is deleted also
end interface clarifier
see org argouml uml ui abstractactionaddmodelelement getchoices \( \)
else we remove only the extra ,
create it here , opaqueexpression which is the first choice note that if we edit the initial value in the diagram \( double clic \) it was replaced by an opaqueexpression
todo we may return the following when the relocate \( \) has been implemented
returns the value of an element 's property \( tagged value \) this method makes sure that a collection of values is returned if and only if the property is multivalued \( upper multiplicity value greater 1 \) see org argouml model facade getvalueoftag \( java lang object , java lang object \)
loadposition \( prptodo , tabtodo class \) loadposition \( prpproperties , tabprops class \) loadposition \( prpdocumentation , tabdocumentation class \) loadposition \( prpstyle , tabstyle class \) loadposition \( prpsource , tabsrc class \) loadposition \( prpconstraints , tabconstraints class \) loadposition \( prptaggedvalues , tabtaggedvalues class \)
if the edge is from a circle to a circle \( e g between use cases \) we have our own implementation overriding gef which attempts to keep the edges perpendicular if the edge is already close to perpendicular
end class actionopencritics
save our old boundaries so it can be used in property message later
additional operation in 4 5 3 20
register for events from all modelelements that change the text i e when the transition is replaced
user closing the progress window is interpreted as cancel request
see org argouml model modelimplementation getextensionmechanismshelper \( \)
the namefig is transparent , since this is a box and the fill color is drawn by the bigport
rerouting the destination
the class is in the diagram so we are on a second pass , find the fig for this class can update its visible state
abstract classes are hardly ever singletons
place the comment fig on the nicest spot on the diagram
if this file is a directory
the diagram already exists in this project select it as the current target
set up the property panels for uml elements
finally , apply profile configuration to the model
see org argouml uml diagram ui figsinglelinetext propertychange \( java beans propertychangeevent \)
the name of this type of object
see org argouml uml util namespace namespace iterator \( \)
see javax swing table tablemodel getcolumnclass \( int \)
ignore non existent and empty names
targets ought to be uml objects or diagrams
how to handle empty target lists \? probably the multieditorpane should only show an empty pane in that case
create an instance of the svg generator
the diagram to be laid out
create other panel element
see java awt event windowlistener windowactivated \( java awt event windowevent \)
if we have a stereotype displayed , then allow some space for that \( width and height \)
specifies valid elements for an state to contain
see org argouml profile internal ocl modelinterpreter invokefeature \( java util map , java lang object , java lang string , java lang string , java lang object \)
find and add all subdirectories
this indicates a change in association , not name tfm
eliminate classifiers which already have an unnamed role
4 5 2 19 enumeration
rewind our character buffer
the name width is the same as the cover , height is the default the text of the name will be centered by default in the same place as the stereotype , since at this stage the stereotype is not displayed being a classifier role it is underlined
see javax swing tree defaulttreemodel insertnodeinto \( javax swing tree mutabletreenode , javax swing tree mutabletreenode , int \)
expected test success
when nothing is generated omit the space
the following calls are order dependent not sure why , but the layer add must come before the model add or we 'll end up with duplicate figures in the diagram tfm
set new bounds for all included figs
end class crnavfrominterface
try adding the default extension
the previous line helps , but we better check again
no user defined perspectives
see org argouml model modelimplementation getscopekind \( \)
parse and check specified constraint
updating the shortcut field
see org tigris gef graph graphnoderenderer getfignodefor \( org tigris gef graph graphmodel , org tigris gef base layer , java lang object , java util map \)
delete attributelinks where this is the value
treecellrenderer implementation
not a suffixfilter selected , so we take all
overridden in order to implement pathcompartmentcontainer
there is no default description
maybe next test is going to change in future
see java awt dnd dragsourcelistener dragenter \( java awt dnd dragsourcedragevent \)
set the checkbox on or off according to the selected value of the action if no selected value is found then this defaults to true
adds all stereotypes defined at the top level namespaces
log log \( level fine , dragover \)
datatypes is next so it 's available for kinds , modelmanagement , extensions
add last recently used list before exit menu
assert ! initialized guitestactionopenproject fails over this
the event source is the stub state 's referenced state or one of the referenced state 's path
silently ignore anything specified by caller attempt to continue
only update the bounds if they change
mparameter
set the name to a different value
end class childgenrelated
see tudresden ocl check types type conformsto \( tudresden ocl check types type \)
see javax swing event listselectionlistener valuechanged \( javax swing event listselectionevent \)
determine if only diagrams are in the target list
lets concatenate it to the resulting string \( genstr \)
remove the node from removeset
we only need to add the classloader once and if and only if there is at least a profile in the jar
the next one defaults to true , to stay compatible with older argouml versions that did not have this setting
end class wizsteptextfield
usage of other sureremove method is legacy they should be integrated
now , let 's print it
end class tablemodelclasschecks
we got passed an unmodifiable list copy it and sort the result
this id is used as default id !
see targettablemodelview gettargettablemodel \( \)
climb the component hierarchy until a rootpanecontainer is found or until the very top
not safe to presume the destination is the comment
likely a nosuchmethodexception or an illegalaccessexception loading invoking eawt application methods
quadrant iv
it should never go here !
see org argouml model pseudostatekind getjunction \( \)
figclass calls setboundsimpl before we set the stereotypefigprofileicon
the shortcut has already been assigned to another action !
todo do all following steps todo resolve item from todolist
check intermediate post condition
see org argouml ui explorer perspectivemanagerlistener removeperspective \( java lang object \)
a subclass of jpanel that can act as a tab in the detailspane or multieditorpane added functionality p spawning when the tab is double clicked , this jpanel will generate a separate window of the same size and with the same contents this is almost like tearing off a tab p todo spawning of windows disabled in spawn \( \) p title this jpanel keeps track of its own title p icon this jpanel keeps track of its own icon i e an arrow pointing to the panel that it gives details of p orientation this jpanel is orientable p cloning this jpanel may be cloned p this class used to be named tabspawnable renamed since it is not a tab , but a panel , and being spawnable is not any more its main purpose
add to selection
set up the property panels for critics
testing with subset of targets
see org argouml uml ui umluserinterfacecontainer getmodelelement \( \)
if the pathitemplacement was unknown , leave the diagram with the default settings
pass everything except editing events to superclass
does n't really matter what set we use
let 's look for a timeevent , changeevent , callevent or signalevent
check superclass make sure this class does not extend or reference non argouml classes
end class projectbrowser
check that the parameter lists match
todo 10 and 120 were found by trial and error calculate them
arrange menu
todo i18n do n't use the empty string for this or it wo n't show in the list
return true if the two given ports can be connected by a kind of edge to be determined by the ports see org tigris gef graph mutablegraphmodel canconnect \( java lang object , java lang object \)
see javax swing text document getdefaultrootelement \( \)
the model element was deleted while we were working on it
the text is always opaque
if there is only one package in the model , we should suppose it 's the profile model , if there is more than one , we take the ones marked as profile
handle derived
actions specific to the use case diagram toolbar
end class spfigedgemodelelement
in the rather unlikely case that we have no name , we give up
no need for trigger on specialization
calcbounds \( \)
create menu
let 's not be picky about the brackets just remove them
end class standardcm
see javax swing event treeexpansionlistener treeexpanded \( javax swing event treeexpansionevent \) updates the selection state
try to get the corresponding body and set it to the current body this should work , if all the bodies were stored with their corresponding languages
initialized in static initializer block below
see org argouml uml util namespace namespaceelement getnamespaceelement \( \)
\( \( action \) handle \) get
the submachine has got a new name
when \( \)
end of block
and for advanced mode
see org argouml uml diagram ui fignodemodelelement initnotationproviders \( java lang object \)
we tried to remove a value
tell gef
convert max x y to width height
let 's create a new classifierinstate with the correct links
set namespace so buildassocationrole works
make the line dashed
the referenced state or one of his path 's states has got a new name
skip the 2 lines \? xml version 1 0 encoding utf 8 \? ! doctype todo system todo dtd
1 a noneditable applied profile
note for historical reasons true hide , so we need to invert the sense of this
we expect all extensions to have a manifest even though we can operate without one if necessary
methods that implement the mutablegraphmodel interface
this code has to go within the startelement block after the strings have been matched
see org tigris gef presentation figedge setfig \( org tigris gef presentation fig \)
success expected exception
create the todopane
see org tigris gef presentation fig getclosestpoint \( java awt point \)
see guisettingstabinterface gettabpanel \( \)
note that multiplicity is what is the notation is listening for in uml1 4 uppervalue are listened to in uml2 it is not currently why it is not required to register for lowervalue also
not currently present as token in model getfacade \( \) nif runtruthtest \( model getfacade \( \) isaelement \( o \) , model getfacade \( \) element \) nif runtruthtest \( model getfacade \( \) isaexpression \( o \) , model getfacade \( \) expression \) nif runtruthtest \( model getfacade \( \) isaextensionpoint \( o \) , model getfacade \( \) extension point \) nif runtruthtest \( model getfacade \( \) isafeature \( o \) , model getfacade \( \) feature \)
see java awt component getpreferredsize \( \)
enable buttons when selection made see java awt event actionlistener actionperformed \( java awt event actionevent \)
delete includes where this is the addition
if requested height equals needed height then do nothing it fits exactly
not allowed
verify the name property was correctly updated
according wfr in case of activitygraph only
delete the model and make sure everything inside goes with it
the default \( 16 \) puts the icons too close together
override public final void setheadline \( string s \) setupheadanddesc \( \)
this profile could have not been loaded when the default profile configuration was loaded at first , so we need to do it again
create an empty file and try to read it
see org argouml model modelimplementation getmodelmanagementfactory \( \)
if the script of the action is empty , \( or only specifies arguments and no method name \) then we generate a string based on a different model element
specifies valid elements for a component to contain
ask gef to print a band of the diagram \( translated clipped \)
build up an array list of the heights of each label component pair heights of zero indicate a proportional height
end class crillegalname
see org argouml model orderingkind getunordered \( \)
see org tigris gef base diagram setname \( java lang string \)
enumerate declaring class
we need a method \( operation implementation \) to store the method body
this method is overridden in order to ignore change of the y coordinate during dragging see org tigris gef presentation fignode supertranslate \( int , int \)
this is because of the \( senseless \? \) all files filefilter
and leave things unchanged
override setbounds to keep shapes looking right see org tigris gef presentation fig setbounds \( int , int , int , int \)
ca n't be changed
see java util list set \( int , java lang object \)
one of everything
see javax swing plaf metal metaltheme getprimary3 \( \)
see org argouml uml reveng importsettings getinputsourceencoding \( \)
specifies valid elements for an interface to contain
not in uml 2 x \( or metatypes \) type additem \( predicatemtype create \( model getmetatypes \( \) getactivitygraph \( \) \) \)
start interception ui interactions
see junit framework testcase setup \( \)
test for return parameters they can also fail !
do n't test changed element if it was deleted
simulate a release of the mouse
updating the actions
see org argouml application api progressmonitor notifynullaction \( \)
now add the areas around the text to return the complete size
, new string name , visibility , stereotype
add new entry as first entry
trying to get a built in standard profile from eclipse uml2
has subsystem stereotype
we are going to add the ones still valid new ones in the right sequence
do nothing until code is reviewed
end class dismisstodoitemdialog
getpackage \( \) can return null 's , so we have to cater for this
return the node or edge that owns the given port see org tigris gef graph basegraphmodel getowner \( java lang object \)
no non white chars in text \? remove literal !
initialize new todoitem
loop round loading the diagrams
try creating a string from the generated modelelements
see javax swing icon geticonheight \( \)
end class stylepanelfigtext
test multipe items registered for single key set
firenoderemoved \( node \)
create the node fig for the comment itself and draw it
end class designgoalscm
return getcriticname \( \)
make sure we start off clean
generate and register the osxadapter , passing the methods we wish to use as delegates for various com apple eawt applicationlistener methods
trap focus traversal keys also
this constructor is needed for pgmlstackparser to load saved diagrams it does nothing , because pgmlstackparser will call setpoints later
if dm is the top state of the statemachine , then it is not supposed to have outgoing transitions
try some action errors
link the new include relationship in to the ends
see if we can copy a package right off
unsnooze and verify its been disabled
end class tabprops
start is a shared aggregation of end
see org argouml uml diagram ui umldiagram getowner \( \)
optimize for the normal case to minimize target changes
main initialization happens here
the constraint must be owned by a namespace
get a buffered image of the selection for dragging a ghost image
cancel close button
